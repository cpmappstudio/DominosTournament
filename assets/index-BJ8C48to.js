const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Profile-DkQvcm_3.js","assets/TrashIcon-CtRA3uYK.js","assets/ExclamationCircleIcon-B5owxnv4.js","assets/GamesList-C4MiyJUP.js","assets/input-DovK2Ium.js","assets/create-CUgi1RZd.js","assets/label-D-fRxRDV.js","assets/CalendarIcon-CTwdWkec.js","assets/detail-DsgS_nKU.js","assets/ChartBarIcon-DWfFvSAB.js","assets/join-BOnzToP2.js","assets/modal-C8HcxHT9.js","assets/manage-BDNbWE6g.js"])))=>i.map(i=>d[i]);
function C3(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function CN(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ny={exports:{}},Od={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cR;function N3(){if(cR)return Od;cR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:t,type:r,key:l,ref:s!==void 0?s:null,props:a}}return Od.Fragment=e,Od.jsx=n,Od.jsxs=n,Od}var dR;function I3(){return dR||(dR=1,Ny.exports=N3()),Ny.exports}var p=I3(),Iy={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fR;function P3(){if(fR)return He;fR=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=y&&V[y]||V["@@iterator"],typeof V=="function"?V:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function R(V,ee,fe){this.props=V,this.context=ee,this.refs=T,this.updater=fe||_}R.prototype.isReactComponent={},R.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},R.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function N(){}N.prototype=R.prototype;function P(V,ee,fe){this.props=V,this.context=ee,this.refs=T,this.updater=fe||_}var M=P.prototype=new N;M.constructor=P,E(M,R.prototype),M.isPureReactComponent=!0;var F=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},X=Object.prototype.hasOwnProperty;function O(V,ee,fe,ne,me,Re){return fe=Re.ref,{$$typeof:t,type:V,key:ee,ref:fe!==void 0?fe:null,props:Re}}function I(V,ee){return O(V.type,ee,void 0,void 0,void 0,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function L(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(fe){return ee[fe]})}var z=/\/+/g;function G(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):ee.toString(36)}function U(){}function ye(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(U,U):(V.status="pending",V.then(function(ee){V.status==="pending"&&(V.status="fulfilled",V.value=ee)},function(ee){V.status==="pending"&&(V.status="rejected",V.reason=ee)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Te(V,ee,fe,ne,me){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var ge=!1;if(V===null)ge=!0;else switch(Re){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(V.$$typeof){case t:case e:ge=!0;break;case m:return ge=V._init,Te(ge(V._payload),ee,fe,ne,me)}}if(ge)return me=me(V),ge=ne===""?"."+G(V,0):ne,F(me)?(fe="",ge!=null&&(fe=ge.replace(z,"$&/")+"/"),Te(me,ee,fe,"",function(vt){return vt})):me!=null&&(D(me)&&(me=I(me,fe+(me.key==null||V&&V.key===me.key?"":(""+me.key).replace(z,"$&/")+"/")+ge)),ee.push(me)),1;ge=0;var be=ne===""?".":ne+":";if(F(V))for(var $e=0;$e<V.length;$e++)ne=V[$e],Re=be+G(ne,$e),ge+=Te(ne,ee,fe,Re,me);else if($e=b(V),typeof $e=="function")for(V=$e.call(V),$e=0;!(ne=V.next()).done;)ne=ne.value,Re=be+G(ne,$e++),ge+=Te(ne,ee,fe,Re,me);else if(Re==="object"){if(typeof V.then=="function")return Te(ye(V),ee,fe,ne,me);throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ge}function K(V,ee,fe){if(V==null)return V;var ne=[],me=0;return Te(V,ne,"","",function(Re){return ee.call(fe,Re,me++)}),ne}function ie(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(fe){(V._status===0||V._status===-1)&&(V._status=1,V._result=fe)},function(fe){(V._status===0||V._status===-1)&&(V._status=2,V._result=fe)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var Y=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function le(){}return He.Children={map:K,forEach:function(V,ee,fe){K(V,function(){ee.apply(this,arguments)},fe)},count:function(V){var ee=0;return K(V,function(){ee++}),ee},toArray:function(V){return K(V,function(ee){return ee})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},He.Component=R,He.Fragment=n,He.Profiler=s,He.PureComponent=P,He.StrictMode=r,He.Suspense=d,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,He.__COMPILER_RUNTIME={__proto__:null,c:function(V){return $.H.useMemoCache(V)}},He.cache=function(V){return function(){return V.apply(null,arguments)}},He.cloneElement=function(V,ee,fe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ne=E({},V.props),me=V.key,Re=void 0;if(ee!=null)for(ge in ee.ref!==void 0&&(Re=void 0),ee.key!==void 0&&(me=""+ee.key),ee)!X.call(ee,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&ee.ref===void 0||(ne[ge]=ee[ge]);var ge=arguments.length-2;if(ge===1)ne.children=fe;else if(1<ge){for(var be=Array(ge),$e=0;$e<ge;$e++)be[$e]=arguments[$e+2];ne.children=be}return O(V.type,me,void 0,void 0,Re,ne)},He.createContext=function(V){return V={$$typeof:l,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:a,_context:V},V},He.createElement=function(V,ee,fe){var ne,me={},Re=null;if(ee!=null)for(ne in ee.key!==void 0&&(Re=""+ee.key),ee)X.call(ee,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(me[ne]=ee[ne]);var ge=arguments.length-2;if(ge===1)me.children=fe;else if(1<ge){for(var be=Array(ge),$e=0;$e<ge;$e++)be[$e]=arguments[$e+2];me.children=be}if(V&&V.defaultProps)for(ne in ge=V.defaultProps,ge)me[ne]===void 0&&(me[ne]=ge[ne]);return O(V,Re,void 0,void 0,null,me)},He.createRef=function(){return{current:null}},He.forwardRef=function(V){return{$$typeof:c,render:V}},He.isValidElement=D,He.lazy=function(V){return{$$typeof:m,_payload:{_status:-1,_result:V},_init:ie}},He.memo=function(V,ee){return{$$typeof:h,type:V,compare:ee===void 0?null:ee}},He.startTransition=function(V){var ee=$.T,fe={};$.T=fe;try{var ne=V(),me=$.S;me!==null&&me(fe,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(le,Y)}catch(Re){Y(Re)}finally{$.T=ee}},He.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},He.use=function(V){return $.H.use(V)},He.useActionState=function(V,ee,fe){return $.H.useActionState(V,ee,fe)},He.useCallback=function(V,ee){return $.H.useCallback(V,ee)},He.useContext=function(V){return $.H.useContext(V)},He.useDebugValue=function(){},He.useDeferredValue=function(V,ee){return $.H.useDeferredValue(V,ee)},He.useEffect=function(V,ee,fe){var ne=$.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(V,ee)},He.useId=function(){return $.H.useId()},He.useImperativeHandle=function(V,ee,fe){return $.H.useImperativeHandle(V,ee,fe)},He.useInsertionEffect=function(V,ee){return $.H.useInsertionEffect(V,ee)},He.useLayoutEffect=function(V,ee){return $.H.useLayoutEffect(V,ee)},He.useMemo=function(V,ee){return $.H.useMemo(V,ee)},He.useOptimistic=function(V,ee){return $.H.useOptimistic(V,ee)},He.useReducer=function(V,ee,fe){return $.H.useReducer(V,ee,fe)},He.useRef=function(V){return $.H.useRef(V)},He.useState=function(V){return $.H.useState(V)},He.useSyncExternalStore=function(V,ee,fe){return $.H.useSyncExternalStore(V,ee,fe)},He.useTransition=function(){return $.H.useTransition()},He.version="19.1.0",He}var hR;function Bf(){return hR||(hR=1,Iy.exports=P3()),Iy.exports}var w=Bf();const Se=CN(w),jp=C3({__proto__:null,default:Se},[w]);var Py={exports:{}},jd={},ky={exports:{}},My={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mR;function k3(){return mR||(mR=1,function(t){function e(K,ie){var Y=K.length;K.push(ie);e:for(;0<Y;){var le=Y-1>>>1,V=K[le];if(0<s(V,ie))K[le]=ie,K[Y]=V,Y=le;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ie=K[0],Y=K.pop();if(Y!==ie){K[0]=Y;e:for(var le=0,V=K.length,ee=V>>>1;le<ee;){var fe=2*(le+1)-1,ne=K[fe],me=fe+1,Re=K[me];if(0>s(ne,Y))me<V&&0>s(Re,ne)?(K[le]=Re,K[me]=Y,le=me):(K[le]=ne,K[fe]=Y,le=fe);else if(me<V&&0>s(Re,Y))K[le]=Re,K[me]=Y,le=me;else break e}}return ie}function s(K,ie){var Y=K.sortIndex-ie.sortIndex;return Y!==0?Y:K.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],m=1,y=null,b=3,_=!1,E=!1,T=!1,R=!1,N=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function F(K){for(var ie=n(h);ie!==null;){if(ie.callback===null)r(h);else if(ie.startTime<=K)r(h),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=n(h)}}function $(K){if(T=!1,F(K),!E)if(n(d)!==null)E=!0,X||(X=!0,G());else{var ie=n(h);ie!==null&&Te($,ie.startTime-K)}}var X=!1,O=-1,I=5,D=-1;function L(){return R?!0:!(t.unstable_now()-D<I)}function z(){if(R=!1,X){var K=t.unstable_now();D=K;var ie=!0;try{e:{E=!1,T&&(T=!1,P(O),O=-1),_=!0;var Y=b;try{t:{for(F(K),y=n(d);y!==null&&!(y.expirationTime>K&&L());){var le=y.callback;if(typeof le=="function"){y.callback=null,b=y.priorityLevel;var V=le(y.expirationTime<=K);if(K=t.unstable_now(),typeof V=="function"){y.callback=V,F(K),ie=!0;break t}y===n(d)&&r(d),F(K)}else r(d);y=n(d)}if(y!==null)ie=!0;else{var ee=n(h);ee!==null&&Te($,ee.startTime-K),ie=!1}}break e}finally{y=null,b=Y,_=!1}ie=void 0}}finally{ie?G():X=!1}}}var G;if(typeof M=="function")G=function(){M(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ye=U.port2;U.port1.onmessage=z,G=function(){ye.postMessage(null)}}else G=function(){N(z,0)};function Te(K,ie){O=N(function(){K(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(K){switch(b){case 1:case 2:case 3:var ie=3;break;default:ie=b}var Y=b;b=ie;try{return K()}finally{b=Y}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Y=b;b=K;try{return ie()}finally{b=Y}},t.unstable_scheduleCallback=function(K,ie,Y){var le=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?le+Y:le):Y=le,K){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=Y+V,K={id:m++,callback:ie,priorityLevel:K,startTime:Y,expirationTime:V,sortIndex:-1},Y>le?(K.sortIndex=Y,e(h,K),n(d)===null&&K===n(h)&&(T?(P(O),O=-1):T=!0,Te($,Y-le))):(K.sortIndex=V,e(d,K),E||_||(E=!0,X||(X=!0,G()))),K},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(K){var ie=b;return function(){var Y=b;b=ie;try{return K.apply(this,arguments)}finally{b=Y}}}}(My)),My}var pR;function M3(){return pR||(pR=1,ky.exports=k3()),ky.exports}var Dy={exports:{}},Wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gR;function D3(){if(gR)return Wn;gR=1;var t=Bf();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(d,h,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:d,containerInfo:h,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wn.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(d,h,null,m)},Wn.flushSync=function(d){var h=l.T,m=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=m,r.d.f()}},Wn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},Wn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Wn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,y=c(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:_}):m==="script"&&r.d.X(d,{crossOrigin:y,integrity:b,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Wn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},Wn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,y=c(m,h.crossOrigin);r.d.L(d,m,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Wn.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},Wn.requestFormReset=function(d){r.d.r(d)},Wn.unstable_batchedUpdates=function(d,h){return d(h)},Wn.useFormState=function(d,h,m){return l.H.useFormState(d,h,m)},Wn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Wn.version="19.1.0",Wn}var vR;function NN(){if(vR)return Dy.exports;vR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dy.exports=D3(),Dy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yR;function O3(){if(yR)return jd;yR=1;var t=M3(),e=Bf(),n=NN();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function c(i){if(a(i)!==i)throw Error(r(188))}function d(i){var o=i.alternate;if(!o){if(o=a(i),o===null)throw Error(r(188));return o!==i?null:i}for(var u=i,f=o;;){var v=u.return;if(v===null)break;var x=v.alternate;if(x===null){if(f=v.return,f!==null){u=f;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===u)return c(v),i;if(x===f)return c(v),o;x=x.sibling}throw Error(r(188))}if(u.return!==f.return)u=v,f=x;else{for(var C=!1,k=v.child;k;){if(k===u){C=!0,u=v,f=x;break}if(k===f){C=!0,f=v,u=x;break}k=k.sibling}if(!C){for(k=x.child;k;){if(k===u){C=!0,u=x,f=v;break}if(k===f){C=!0,f=x,u=v;break}k=k.sibling}if(!C)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:o}function h(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=h(i),o!==null)return o;i=i.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var U=Symbol.for("react.client.reference");function ye(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===U?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case R:return"Profiler";case T:return"StrictMode";case $:return"Suspense";case X:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case _:return"Portal";case M:return(i.displayName||"Context")+".Provider";case P:return(i._context.displayName||"Context")+".Consumer";case F:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return o=i.displayName||null,o!==null?o:ye(i.type)||"Memo";case I:o=i._payload,i=i._init;try{return ye(i(o))}catch{}}return null}var Te=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},le=[],V=-1;function ee(i){return{current:i}}function fe(i){0>V||(i.current=le[V],le[V]=null,V--)}function ne(i,o){V++,le[V]=i.current,i.current=o}var me=ee(null),Re=ee(null),ge=ee(null),be=ee(null);function $e(i,o){switch(ne(ge,o),ne(Re,i),ne(me,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?VT(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=VT(o),i=UT(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}fe(me),ne(me,i)}function vt(){fe(me),fe(Re),fe(ge)}function fn(i){i.memoizedState!==null&&ne(be,i);var o=me.current,u=UT(o,i.type);o!==u&&(ne(Re,i),ne(me,u))}function hn(i){Re.current===i&&(fe(me),fe(Re)),be.current===i&&(fe(be),Id._currentValue=Y)}var Bn=Object.prototype.hasOwnProperty,Gn=t.unstable_scheduleCallback,di=t.unstable_cancelCallback,Ro=t.unstable_shouldYield,Bl=t.unstable_requestPaint,q=t.unstable_now,Ae=t.unstable_getCurrentPriorityLevel,ke=t.unstable_ImmediatePriority,qe=t.unstable_UserBlockingPriority,At=t.unstable_NormalPriority,_n=t.unstable_LowPriority,kn=t.unstable_IdlePriority,Kt=t.log,ns=t.unstable_setDisableYieldValue,Ct=null,ht=null;function xr(i){if(typeof Kt=="function"&&ns(i),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(Ct,i)}catch{}}var Hn=Math.clz32?Math.clz32:Ao,Eh=Math.log,Pv=Math.LN2;function Ao(i){return i>>>=0,i===0?32:31-(Eh(i)/Pv|0)|0}var Co=256,No=4194304;function rs(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Gl(i,o,u){var f=i.pendingLanes;if(f===0)return 0;var v=0,x=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var k=f&134217727;return k!==0?(f=k&~x,f!==0?v=rs(f):(C&=k,C!==0?v=rs(C):u||(u=k&~i,u!==0&&(v=rs(u))))):(k=f&~x,k!==0?v=rs(k):C!==0?v=rs(C):u||(u=f&~i,u!==0&&(v=rs(u)))),v===0?0:o!==0&&o!==v&&(o&x)===0&&(x=v&-v,u=o&-o,x>=u||x===32&&(u&4194048)!==0)?o:v}function Io(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Ic(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pc(){var i=Co;return Co<<=1,(Co&4194048)===0&&(Co=256),i}function kc(){var i=No;return No<<=1,(No&62914560)===0&&(No=4194304),i}function fi(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function hi(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Mc(i,o,u,f,v,x){var C=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var k=i.entanglements,B=i.expirationTimes,J=i.hiddenUpdates;for(u=C&~u;0<u;){var oe=31-Hn(u),ce=1<<oe;k[oe]=0,B[oe]=-1;var te=J[oe];if(te!==null)for(J[oe]=null,oe=0;oe<te.length;oe++){var re=te[oe];re!==null&&(re.lane&=-536870913)}u&=~ce}f!==0&&Ts(i,f,0),x!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=x&~(C&~o))}function Ts(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var f=31-Hn(o);i.entangledLanes|=o,i.entanglements[f]=i.entanglements[f]|1073741824|u&4194090}function Dc(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-Hn(u),v=1<<f;v&o|i[f]&o&&(i[f]|=o),u&=~v}}function ua(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Hl(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ca(){var i=ie.p;return i!==0?i:(i=window.event,i===void 0?32:sR(i.type))}function Sh(i,o){var u=ie.p;try{return ie.p=i,o()}finally{ie.p=u}}var kt=Math.random().toString(36).slice(2),mn="__reactFiber$"+kt,tn="__reactProps$"+kt,Lr="__reactContainer$"+kt,Oc="__reactEvents$"+kt,kv="__reactListeners$"+kt,da="__reactHandles$"+kt,Th="__reactResources$"+kt,Po="__reactMarker$"+kt;function fa(i){delete i[mn],delete i[tn],delete i[Oc],delete i[kv],delete i[da]}function mi(i){var o=i[mn];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Lr]||u[mn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=BT(i);i!==null;){if(u=i[mn])return u;i=BT(i)}return o}i=u,u=i.parentNode}return null}function Rs(i){if(i=i[mn]||i[Lr]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function As(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function rr(i){var o=i[Th];return o||(o=i[Th]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Yt(i){i[Po]=!0}var jc=new Set,ql={};function ss(i,o){pi(i,o),pi(i+"Capture",o)}function pi(i,o){for(ql[i]=o,i=0;i<o.length;i++)jc.add(o[i])}var Rh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ah={},ko={};function Ch(i){return Bn.call(ko,i)?!0:Bn.call(Ah,i)?!1:Rh.test(i)?ko[i]=!0:(Ah[i]=!0,!1)}function ha(i,o,u){if(Ch(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function Cs(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function Mn(i,o,u,f){if(f===null)i.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+f)}}var Mo,Nh;function gi(i){if(Mo===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);Mo=o&&o[1]||"",Nh=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mo+i+Nh}var Wl=!1;function Kl(i,o){if(!i||Wl)return"";Wl=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(re){var te=re}Reflect.construct(i,[],ce)}else{try{ce.call()}catch(re){te=re}i.call(ce.prototype)}}else{try{throw Error()}catch(re){te=re}(ce=i())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(re){if(re&&te&&typeof re.stack=="string")return[re.stack,te.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=f.DetermineComponentFrameRoot(),C=x[0],k=x[1];if(C&&k){var B=C.split(`
`),J=k.split(`
`);for(v=f=0;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;for(;v<J.length&&!J[v].includes("DetermineComponentFrameRoot");)v++;if(f===B.length||v===J.length)for(f=B.length-1,v=J.length-1;1<=f&&0<=v&&B[f]!==J[v];)v--;for(;1<=f&&0<=v;f--,v--)if(B[f]!==J[v]){if(f!==1||v!==1)do if(f--,v--,0>v||B[f]!==J[v]){var oe=`
`+B[f].replace(" at new "," at ");return i.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",i.displayName)),oe}while(1<=f&&0<=v);break}}}finally{Wl=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?gi(u):""}function Lc(i){switch(i.tag){case 26:case 27:case 5:return gi(i.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return Kl(i.type,!1);case 11:return Kl(i.type.render,!1);case 1:return Kl(i.type,!0);case 31:return gi("Activity");default:return""}}function Yl(i){try{var o="";do o+=Lc(i),i=i.return;while(i);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function sr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Vc(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Mv(i){var o=Vc(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,x=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(C){f=""+C,x.call(this,C)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(C){f=""+C},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Xl(i){i._valueTracker||(i._valueTracker=Mv(i))}function Uc(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=Vc(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function Do(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Dv=/[\n"\\]/g;function nn(i){return i.replace(Dv,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function _r(i,o,u,f,v,x,C,k){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),o!=null?C==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+sr(o)):i.value!==""+sr(o)&&(i.value=""+sr(o)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),o!=null?ma(i,C,sr(o)):u!=null?ma(i,C,sr(u)):f!=null&&i.removeAttribute("value"),v==null&&x!=null&&(i.defaultChecked=!!x),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.name=""+sr(k):i.removeAttribute("name")}function Oo(i,o,u,f,v,x,C,k){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),o!=null||u!=null){if(!(x!=="submit"&&x!=="reset"||o!=null))return;u=u!=null?""+sr(u):"",o=o!=null?""+sr(o):u,k||o===i.value||(i.value=o),i.defaultValue=o}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=k?i.checked:!!f,i.defaultChecked=!!f,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C)}function ma(i,o,u){o==="number"&&Do(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function vi(i,o,u,f){if(i=i.options,o){o={};for(var v=0;v<u.length;v++)o["$"+u[v]]=!0;for(u=0;u<i.length;u++)v=o.hasOwnProperty("$"+i[u].value),i[u].selected!==v&&(i[u].selected=v),v&&f&&(i[u].defaultSelected=!0)}else{for(u=""+sr(u),o=null,v=0;v<i.length;v++){if(i[v].value===u){i[v].selected=!0,f&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function yt(i,o,u){if(o!=null&&(o=""+sr(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+sr(u):""}function jo(i,o,u,f){if(o==null){if(f!=null){if(u!=null)throw Error(r(92));if(Te(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),o=u}u=sr(o),i.defaultValue=u,f=i.textContent,f===u&&f!==""&&f!==null&&(i.value=f)}function Vr(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var Lo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ih(i,o,u){var f=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":f?i.setProperty(o,u):typeof u!="number"||u===0||Lo.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function Fc(i,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var v in o)f=o[v],o.hasOwnProperty(v)&&u[v]!==f&&Ih(i,v,f)}else for(var x in o)o.hasOwnProperty(x)&&Ih(i,x,o[x])}function zc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ov=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ql(i){return jv.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var yi=null;function Ur(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var bi=null,wi=null;function $c(i){var o=Rs(i);if(o&&(i=o.stateNode)){var u=i[tn]||null;e:switch(i=o.stateNode,o.type){case"input":if(_r(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+nn(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var v=f[tn]||null;if(!v)throw Error(r(90));_r(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<u.length;o++)f=u[o],f.form===i.form&&Uc(f)}break e;case"textarea":yt(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&vi(i,!!u.multiple,o,!1)}}}var Ns=!1;function Ph(i,o,u){if(Ns)return i(o,u);Ns=!0;try{var f=i(o);return f}finally{if(Ns=!1,(bi!==null||wi!==null)&&(Sm(),bi&&(o=bi,i=wi,wi=bi=null,$c(o),i)))for(o=0;o<i.length;o++)$c(i[o])}}function Vo(i,o){var u=i.stateNode;if(u===null)return null;var f=u[tn]||null;if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fr=!1;if(is)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){Fr=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{Fr=!1}var Is=null,pa=null,xi=null;function Bc(){if(xi)return xi;var i,o=pa,u=o.length,f,v="value"in Is?Is.value:Is.textContent,x=v.length;for(i=0;i<u&&o[i]===v[i];i++);var C=u-i;for(f=1;f<=C&&o[u-f]===v[x-f];f++);return xi=v.slice(i,1<f?1-f:void 0)}function Ps(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ks(){return!0}function Gc(){return!1}function En(i){function o(u,f,v,x,C){this._reactName=u,this._targetInst=v,this.type=f,this.nativeEvent=x,this.target=C,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(u=i[k],this[k]=u?u(x):x[k]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?ks:Gc,this.isPropagationStopped=Gc,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),o}var dt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zl=En(dt),Fo=m({},dt,{view:0,detail:0}),kh=En(Fo),Jl,eu,Ms,zo=m({},Fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Go,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ms&&(Ms&&i.type==="mousemove"?(Jl=i.screenX-Ms.screenX,eu=i.screenY-Ms.screenY):eu=Jl=0,Ms=i),Jl)},movementY:function(i){return"movementY"in i?i.movementY:eu}}),zr=En(zo),Mh=m({},zo,{dataTransfer:0}),Lv=En(Mh),$o=m({},Fo,{relatedTarget:0}),tu=En($o),Hc=m({},dt,{animationName:0,elapsedTime:0,pseudoElement:0}),nu=En(Hc),Dh=m({},dt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ru=En(Dh),Vv=m({},dt,{data:0}),qc=En(Vv),Bo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=jh[i])?!!o[i]:!1}function Go(){return Wc}var Lh=m({},Fo,{key:function(i){if(i.key){var o=Bo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Ps(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Oh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Go,charCode:function(i){return i.type==="keypress"?Ps(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ps(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),su=En(Lh),Vh=m({},zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kc=En(Vh),_i=m({},Fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Go}),Uh=En(_i),Fh=m({},dt,{propertyName:0,elapsedTime:0,pseudoElement:0}),zh=En(Fh),$h=m({},zo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),iu=En($h),ir=m({},dt,{newState:0,oldState:0}),Bh=En(ir),Gh=[9,13,27,32],Ds=is&&"CompositionEvent"in window,g=null;is&&"documentMode"in document&&(g=document.documentMode);var S=is&&"TextEvent"in window&&!g,A=is&&(!Ds||g&&8<g&&11>=g),j=" ",Q=!1;function se(i,o){switch(i){case"keyup":return Gh.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var rt=!1;function pn(i,o){switch(i){case"compositionend":return he(o);case"keypress":return o.which!==32?null:(Q=!0,j);case"textInput":return i=o.data,i===j&&Q?null:i;default:return null}}function st(i,o){if(rt)return i==="compositionend"||!Ds&&se(i,o)?(i=Bc(),xi=pa=Is=null,rt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return A&&o.locale!=="ko"?null:o.data;default:return null}}var Sn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gn(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Sn[i.type]:o==="textarea"}function Ei(i,o,u,f){bi?wi?wi.push(f):wi=[f]:bi=f,o=Im(o,"onChange"),0<o.length&&(u=new Zl("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var Dn=null,Os=null;function Yc(i){MT(i,0)}function Hh(i){var o=As(i);if(Uc(o))return i}function e1(i,o){if(i==="change")return o}var t1=!1;if(is){var Uv;if(is){var Fv="oninput"in document;if(!Fv){var n1=document.createElement("div");n1.setAttribute("oninput","return;"),Fv=typeof n1.oninput=="function"}Uv=Fv}else Uv=!1;t1=Uv&&(!document.documentMode||9<document.documentMode)}function r1(){Dn&&(Dn.detachEvent("onpropertychange",s1),Os=Dn=null)}function s1(i){if(i.propertyName==="value"&&Hh(Os)){var o=[];Ei(o,Os,i,Ur(i)),Ph(Yc,o)}}function sL(i,o,u){i==="focusin"?(r1(),Dn=o,Os=u,Dn.attachEvent("onpropertychange",s1)):i==="focusout"&&r1()}function iL(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Hh(Os)}function aL(i,o){if(i==="click")return Hh(o)}function oL(i,o){if(i==="input"||i==="change")return Hh(o)}function lL(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Er=typeof Object.is=="function"?Object.is:lL;function Xc(i,o){if(Er(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var v=u[f];if(!Bn.call(o,v)||!Er(i[v],o[v]))return!1}return!0}function i1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function a1(i,o){var u=i1(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=i1(u)}}function o1(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?o1(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function l1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Do(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Do(i.document)}return o}function zv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var uL=is&&"documentMode"in document&&11>=document.documentMode,au=null,$v=null,Qc=null,Bv=!1;function u1(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Bv||au==null||au!==Do(f)||(f=au,"selectionStart"in f&&zv(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Qc&&Xc(Qc,f)||(Qc=f,f=Im($v,"onSelect"),0<f.length&&(o=new Zl("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=au)))}function Ho(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var ou={animationend:Ho("Animation","AnimationEnd"),animationiteration:Ho("Animation","AnimationIteration"),animationstart:Ho("Animation","AnimationStart"),transitionrun:Ho("Transition","TransitionRun"),transitionstart:Ho("Transition","TransitionStart"),transitioncancel:Ho("Transition","TransitionCancel"),transitionend:Ho("Transition","TransitionEnd")},Gv={},c1={};is&&(c1=document.createElement("div").style,"AnimationEvent"in window||(delete ou.animationend.animation,delete ou.animationiteration.animation,delete ou.animationstart.animation),"TransitionEvent"in window||delete ou.transitionend.transition);function qo(i){if(Gv[i])return Gv[i];if(!ou[i])return i;var o=ou[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in c1)return Gv[i]=o[u];return i}var d1=qo("animationend"),f1=qo("animationiteration"),h1=qo("animationstart"),cL=qo("transitionrun"),dL=qo("transitionstart"),fL=qo("transitioncancel"),m1=qo("transitionend"),p1=new Map,Hv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hv.push("scrollEnd");function as(i,o){p1.set(i,o),ss(o,[i])}var g1=new WeakMap;function $r(i,o){if(typeof i=="object"&&i!==null){var u=g1.get(i);return u!==void 0?u:(o={value:i,source:o,stack:Yl(o)},g1.set(i,o),o)}return{value:i,source:o,stack:Yl(o)}}var Br=[],lu=0,qv=0;function qh(){for(var i=lu,o=qv=lu=0;o<i;){var u=Br[o];Br[o++]=null;var f=Br[o];Br[o++]=null;var v=Br[o];Br[o++]=null;var x=Br[o];if(Br[o++]=null,f!==null&&v!==null){var C=f.pending;C===null?v.next=v:(v.next=C.next,C.next=v),f.pending=v}x!==0&&v1(u,v,x)}}function Wh(i,o,u,f){Br[lu++]=i,Br[lu++]=o,Br[lu++]=u,Br[lu++]=f,qv|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Wv(i,o,u,f){return Wh(i,o,u,f),Kh(i)}function uu(i,o){return Wh(i,null,null,o),Kh(i)}function v1(i,o,u){i.lanes|=u;var f=i.alternate;f!==null&&(f.lanes|=u);for(var v=!1,x=i.return;x!==null;)x.childLanes|=u,f=x.alternate,f!==null&&(f.childLanes|=u),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(v=!0)),i=x,x=x.return;return i.tag===3?(x=i.stateNode,v&&o!==null&&(v=31-Hn(u),i=x.hiddenUpdates,f=i[v],f===null?i[v]=[o]:f.push(o),o.lane=u|536870912),x):null}function Kh(i){if(50<_d)throw _d=0,J0=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var cu={};function hL(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(i,o,u,f){return new hL(i,o,u,f)}function Kv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Si(i,o){var u=i.alternate;return u===null?(u=Sr(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function y1(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Yh(i,o,u,f,v,x){var C=0;if(f=i,typeof i=="function")Kv(i)&&(C=1);else if(typeof i=="string")C=p3(i,u,me.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=Sr(31,u,o,v),i.elementType=D,i.lanes=x,i;case E:return Wo(u.children,v,x,o);case T:C=8,v|=24;break;case R:return i=Sr(12,u,o,v|2),i.elementType=R,i.lanes=x,i;case $:return i=Sr(13,u,o,v),i.elementType=$,i.lanes=x,i;case X:return i=Sr(19,u,o,v),i.elementType=X,i.lanes=x,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:case M:C=10;break e;case P:C=9;break e;case F:C=11;break e;case O:C=14;break e;case I:C=16,f=null;break e}C=29,u=Error(r(130,i===null?"null":typeof i,"")),f=null}return o=Sr(C,u,o,v),o.elementType=i,o.type=f,o.lanes=x,o}function Wo(i,o,u,f){return i=Sr(7,i,f,o),i.lanes=u,i}function Yv(i,o,u){return i=Sr(6,i,null,o),i.lanes=u,i}function Xv(i,o,u){return o=Sr(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var du=[],fu=0,Xh=null,Qh=0,Gr=[],Hr=0,Ko=null,Ti=1,Ri="";function Yo(i,o){du[fu++]=Qh,du[fu++]=Xh,Xh=i,Qh=o}function b1(i,o,u){Gr[Hr++]=Ti,Gr[Hr++]=Ri,Gr[Hr++]=Ko,Ko=i;var f=Ti;i=Ri;var v=32-Hn(f)-1;f&=~(1<<v),u+=1;var x=32-Hn(o)+v;if(30<x){var C=v-v%5;x=(f&(1<<C)-1).toString(32),f>>=C,v-=C,Ti=1<<32-Hn(o)+v|u<<v|f,Ri=x+i}else Ti=1<<x|u<<v|f,Ri=i}function Qv(i){i.return!==null&&(Yo(i,1),b1(i,1,0))}function Zv(i){for(;i===Xh;)Xh=du[--fu],du[fu]=null,Qh=du[--fu],du[fu]=null;for(;i===Ko;)Ko=Gr[--Hr],Gr[Hr]=null,Ri=Gr[--Hr],Gr[Hr]=null,Ti=Gr[--Hr],Gr[Hr]=null}var ar=null,$t=null,ut=!1,Xo=null,js=!1,Jv=Error(r(519));function Qo(i){var o=Error(r(418,""));throw ed($r(o,i)),Jv}function w1(i){var o=i.stateNode,u=i.type,f=i.memoizedProps;switch(o[mn]=i,o[tn]=f,u){case"dialog":Je("cancel",o),Je("close",o);break;case"iframe":case"object":case"embed":Je("load",o);break;case"video":case"audio":for(u=0;u<Sd.length;u++)Je(Sd[u],o);break;case"source":Je("error",o);break;case"img":case"image":case"link":Je("error",o),Je("load",o);break;case"details":Je("toggle",o);break;case"input":Je("invalid",o),Oo(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Xl(o);break;case"select":Je("invalid",o);break;case"textarea":Je("invalid",o),jo(o,f.value,f.defaultValue,f.children),Xl(o)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||f.suppressHydrationWarning===!0||LT(o.textContent,u)?(f.popover!=null&&(Je("beforetoggle",o),Je("toggle",o)),f.onScroll!=null&&Je("scroll",o),f.onScrollEnd!=null&&Je("scrollend",o),f.onClick!=null&&(o.onclick=Pm),o=!0):o=!1,o||Qo(i)}function x1(i){for(ar=i.return;ar;)switch(ar.tag){case 5:case 13:js=!1;return;case 27:case 3:js=!0;return;default:ar=ar.return}}function Zc(i){if(i!==ar)return!1;if(!ut)return x1(i),ut=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||py(i.type,i.memoizedProps)),u=!u),u&&$t&&Qo(i),x1(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(o===0){$t=ls(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;i=i.nextSibling}$t=null}}else o===27?(o=$t,Pa(i.type)?(i=by,by=null,$t=i):$t=o):$t=ar?ls(i.stateNode.nextSibling):null;return!0}function Jc(){$t=ar=null,ut=!1}function _1(){var i=Xo;return i!==null&&(gr===null?gr=i:gr.push.apply(gr,i),Xo=null),i}function ed(i){Xo===null?Xo=[i]:Xo.push(i)}var e0=ee(null),Zo=null,Ai=null;function ga(i,o,u){ne(e0,o._currentValue),o._currentValue=u}function Ci(i){i._currentValue=e0.current,fe(e0)}function t0(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function n0(i,o,u,f){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var x=v.dependencies;if(x!==null){var C=v.child;x=x.firstContext;e:for(;x!==null;){var k=x;x=v;for(var B=0;B<o.length;B++)if(k.context===o[B]){x.lanes|=u,k=x.alternate,k!==null&&(k.lanes|=u),t0(x.return,u,i),f||(C=null);break e}x=k.next}}else if(v.tag===18){if(C=v.return,C===null)throw Error(r(341));C.lanes|=u,x=C.alternate,x!==null&&(x.lanes|=u),t0(C,u,i),C=null}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===i){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}}function td(i,o,u,f){i=null;for(var v=o,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var C=v.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var k=v.type;Er(v.pendingProps.value,C.value)||(i!==null?i.push(k):i=[k])}}else if(v===be.current){if(C=v.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(Id):i=[Id])}v=v.return}i!==null&&n0(o,i,u,f),o.flags|=262144}function Zh(i){for(i=i.firstContext;i!==null;){if(!Er(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Jo(i){Zo=i,Ai=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function qn(i){return E1(Zo,i)}function Jh(i,o){return Zo===null&&Jo(i),E1(i,o)}function E1(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Ai===null){if(i===null)throw Error(r(308));Ai=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Ai=Ai.next=o;return u}var mL=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,f){i.push(f)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},pL=t.unstable_scheduleCallback,gL=t.unstable_NormalPriority,vn={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function r0(){return{controller:new mL,data:new Map,refCount:0}}function nd(i){i.refCount--,i.refCount===0&&pL(gL,function(){i.controller.abort()})}var rd=null,s0=0,hu=0,mu=null;function vL(i,o){if(rd===null){var u=rd=[];s0=0,hu=ay(),mu={status:"pending",value:void 0,then:function(f){u.push(f)}}}return s0++,o.then(S1,S1),o}function S1(){if(--s0===0&&rd!==null){mu!==null&&(mu.status="fulfilled");var i=rd;rd=null,hu=0,mu=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function yL(i,o){var u=[],f={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return i.then(function(){f.status="fulfilled",f.value=o;for(var v=0;v<u.length;v++)(0,u[v])(o)},function(v){for(f.status="rejected",f.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),f}var T1=K.S;K.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&vL(i,o),T1!==null&&T1(i,o)};var el=ee(null);function i0(){var i=el.current;return i!==null?i:Nt.pooledCache}function em(i,o){o===null?ne(el,el.current):ne(el,o.pool)}function R1(){var i=i0();return i===null?null:{parent:vn._currentValue,pool:i}}var sd=Error(r(460)),A1=Error(r(474)),tm=Error(r(542)),a0={then:function(){}};function C1(i){return i=i.status,i==="fulfilled"||i==="rejected"}function nm(){}function N1(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(nm,nm),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,P1(i),i;default:if(typeof o.status=="string")o.then(nm,nm);else{if(i=Nt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(f){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=f}},function(f){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,P1(i),i}throw id=o,sd}}var id=null;function I1(){if(id===null)throw Error(r(459));var i=id;return id=null,i}function P1(i){if(i===sd||i===tm)throw Error(r(483))}var va=!1;function o0(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function l0(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ya(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ba(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(mt&2)!==0){var v=f.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),f.pending=o,o=Kh(i),v1(i,null,u),o}return Wh(i,f,o,u),Kh(i)}function ad(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Dc(i,u)}}function u0(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var v=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var C={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};x===null?v=x=C:x=x.next=C,u=u.next}while(u!==null);x===null?v=x=o:x=x.next=o}else v=x=o;u={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:f.shared,callbacks:f.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var c0=!1;function od(){if(c0){var i=mu;if(i!==null)throw i}}function ld(i,o,u,f){c0=!1;var v=i.updateQueue;va=!1;var x=v.firstBaseUpdate,C=v.lastBaseUpdate,k=v.shared.pending;if(k!==null){v.shared.pending=null;var B=k,J=B.next;B.next=null,C===null?x=J:C.next=J,C=B;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,k=oe.lastBaseUpdate,k!==C&&(k===null?oe.firstBaseUpdate=J:k.next=J,oe.lastBaseUpdate=B))}if(x!==null){var ce=v.baseState;C=0,oe=J=B=null,k=x;do{var te=k.lane&-536870913,re=te!==k.lane;if(re?(it&te)===te:(f&te)===te){te!==0&&te===hu&&(c0=!0),oe!==null&&(oe=oe.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ve=i,Me=k;te=o;var xt=u;switch(Me.tag){case 1:if(Ve=Me.payload,typeof Ve=="function"){ce=Ve.call(xt,ce,te);break e}ce=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Me.payload,te=typeof Ve=="function"?Ve.call(xt,ce,te):Ve,te==null)break e;ce=m({},ce,te);break e;case 2:va=!0}}te=k.callback,te!==null&&(i.flags|=64,re&&(i.flags|=8192),re=v.callbacks,re===null?v.callbacks=[te]:re.push(te))}else re={lane:te,tag:k.tag,payload:k.payload,callback:k.callback,next:null},oe===null?(J=oe=re,B=ce):oe=oe.next=re,C|=te;if(k=k.next,k===null){if(k=v.shared.pending,k===null)break;re=k,k=re.next,re.next=null,v.lastBaseUpdate=re,v.shared.pending=null}}while(!0);oe===null&&(B=ce),v.baseState=B,v.firstBaseUpdate=J,v.lastBaseUpdate=oe,x===null&&(v.shared.lanes=0),Aa|=C,i.lanes=C,i.memoizedState=ce}}function k1(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function M1(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)k1(u[i],o)}var pu=ee(null),rm=ee(0);function D1(i,o){i=Oi,ne(rm,i),ne(pu,o),Oi=i|o.baseLanes}function d0(){ne(rm,Oi),ne(pu,pu.current)}function f0(){Oi=rm.current,fe(pu),fe(rm)}var wa=0,Ke=null,bt=null,rn=null,sm=!1,gu=!1,tl=!1,im=0,ud=0,vu=null,bL=0;function Xt(){throw Error(r(321))}function h0(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Er(i[u],o[u]))return!1;return!0}function m0(i,o,u,f,v,x){return wa=x,Ke=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,K.H=i===null||i.memoizedState===null?vS:yS,tl=!1,x=u(f,v),tl=!1,gu&&(x=j1(o,u,f,v)),O1(i),x}function O1(i){K.H=dm;var o=bt!==null&&bt.next!==null;if(wa=0,rn=bt=Ke=null,sm=!1,ud=0,vu=null,o)throw Error(r(300));i===null||Tn||(i=i.dependencies,i!==null&&Zh(i)&&(Tn=!0))}function j1(i,o,u,f){Ke=i;var v=0;do{if(gu&&(vu=null),ud=0,gu=!1,25<=v)throw Error(r(301));if(v+=1,rn=bt=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}K.H=RL,x=o(u,f)}while(gu);return x}function wL(){var i=K.H,o=i.useState()[0];return o=typeof o.then=="function"?cd(o):o,i=i.useState()[0],(bt!==null?bt.memoizedState:null)!==i&&(Ke.flags|=1024),o}function p0(){var i=im!==0;return im=0,i}function g0(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function v0(i){if(sm){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}sm=!1}wa=0,rn=bt=Ke=null,gu=!1,ud=im=0,vu=null}function mr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Ke.memoizedState=rn=i:rn=rn.next=i,rn}function sn(){if(bt===null){var i=Ke.alternate;i=i!==null?i.memoizedState:null}else i=bt.next;var o=rn===null?Ke.memoizedState:rn.next;if(o!==null)rn=o,bt=i;else{if(i===null)throw Ke.alternate===null?Error(r(467)):Error(r(310));bt=i,i={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},rn===null?Ke.memoizedState=rn=i:rn=rn.next=i}return rn}function y0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cd(i){var o=ud;return ud+=1,vu===null&&(vu=[]),i=N1(vu,i,o),o=Ke,(rn===null?o.memoizedState:rn.next)===null&&(o=o.alternate,K.H=o===null||o.memoizedState===null?vS:yS),i}function am(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return cd(i);if(i.$$typeof===M)return qn(i)}throw Error(r(438,String(i)))}function b0(i){var o=null,u=Ke.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var f=Ke.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=y0(),Ke.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),f=0;f<i;f++)u[f]=L;return o.index++,u}function Ni(i,o){return typeof o=="function"?o(i):o}function om(i){var o=sn();return w0(o,bt,i)}function w0(i,o,u){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var v=i.baseQueue,x=f.pending;if(x!==null){if(v!==null){var C=v.next;v.next=x.next,x.next=C}o.baseQueue=v=x,f.pending=null}if(x=i.baseState,v===null)i.memoizedState=x;else{o=v.next;var k=C=null,B=null,J=o,oe=!1;do{var ce=J.lane&-536870913;if(ce!==J.lane?(it&ce)===ce:(wa&ce)===ce){var te=J.revertLane;if(te===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ce===hu&&(oe=!0);else if((wa&te)===te){J=J.next,te===hu&&(oe=!0);continue}else ce={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},B===null?(k=B=ce,C=x):B=B.next=ce,Ke.lanes|=te,Aa|=te;ce=J.action,tl&&u(x,ce),x=J.hasEagerState?J.eagerState:u(x,ce)}else te={lane:ce,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},B===null?(k=B=te,C=x):B=B.next=te,Ke.lanes|=ce,Aa|=ce;J=J.next}while(J!==null&&J!==o);if(B===null?C=x:B.next=k,!Er(x,i.memoizedState)&&(Tn=!0,oe&&(u=mu,u!==null)))throw u;i.memoizedState=x,i.baseState=C,i.baseQueue=B,f.lastRenderedState=x}return v===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function x0(i){var o=sn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var f=u.dispatch,v=u.pending,x=o.memoizedState;if(v!==null){u.pending=null;var C=v=v.next;do x=i(x,C.action),C=C.next;while(C!==v);Er(x,o.memoizedState)||(Tn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),u.lastRenderedState=x}return[x,f]}function L1(i,o,u){var f=Ke,v=sn(),x=ut;if(x){if(u===void 0)throw Error(r(407));u=u()}else u=o();var C=!Er((bt||v).memoizedState,u);C&&(v.memoizedState=u,Tn=!0),v=v.queue;var k=F1.bind(null,f,v,i);if(dd(2048,8,k,[i]),v.getSnapshot!==o||C||rn!==null&&rn.memoizedState.tag&1){if(f.flags|=2048,yu(9,lm(),U1.bind(null,f,v,u,o),null),Nt===null)throw Error(r(349));x||(wa&124)!==0||V1(f,o,u)}return u}function V1(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Ke.updateQueue,o===null?(o=y0(),Ke.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function U1(i,o,u,f){o.value=u,o.getSnapshot=f,z1(o)&&$1(i)}function F1(i,o,u){return u(function(){z1(o)&&$1(i)})}function z1(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Er(i,u)}catch{return!0}}function $1(i){var o=uu(i,2);o!==null&&Nr(o,i,2)}function _0(i){var o=mr();if(typeof i=="function"){var u=i;if(i=u(),tl){xr(!0);try{u()}finally{xr(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:i},o}function B1(i,o,u,f){return i.baseState=u,w0(i,bt,typeof f=="function"?f:Ni)}function xL(i,o,u,f,v){if(cm(i))throw Error(r(485));if(i=o.action,i!==null){var x={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){x.listeners.push(C)}};K.T!==null?u(!0):x.isTransition=!1,f(x),u=o.pending,u===null?(x.next=o.pending=x,G1(o,x)):(x.next=u.next,o.pending=u.next=x)}}function G1(i,o){var u=o.action,f=o.payload,v=i.state;if(o.isTransition){var x=K.T,C={};K.T=C;try{var k=u(v,f),B=K.S;B!==null&&B(C,k),H1(i,o,k)}catch(J){E0(i,o,J)}finally{K.T=x}}else try{x=u(v,f),H1(i,o,x)}catch(J){E0(i,o,J)}}function H1(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){q1(i,o,f)},function(f){return E0(i,o,f)}):q1(i,o,u)}function q1(i,o,u){o.status="fulfilled",o.value=u,W1(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,G1(i,u)))}function E0(i,o,u){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=u,W1(o),o=o.next;while(o!==f)}i.action=null}function W1(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function K1(i,o){return o}function Y1(i,o){if(ut){var u=Nt.formState;if(u!==null){e:{var f=Ke;if(ut){if($t){t:{for(var v=$t,x=js;v.nodeType!==8;){if(!x){v=null;break t}if(v=ls(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){$t=ls(v.nextSibling),f=v.data==="F!";break e}}Qo(f)}f=!1}f&&(o=u[0])}}return u=mr(),u.memoizedState=u.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:K1,lastRenderedState:o},u.queue=f,u=mS.bind(null,Ke,f),f.dispatch=u,f=_0(!1),x=C0.bind(null,Ke,!1,f.queue),f=mr(),v={state:o,dispatch:null,action:i,pending:null},f.queue=v,u=xL.bind(null,Ke,v,x,u),v.dispatch=u,f.memoizedState=i,[o,u,!1]}function X1(i){var o=sn();return Q1(o,bt,i)}function Q1(i,o,u){if(o=w0(i,o,K1)[0],i=om(Ni)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=cd(o)}catch(C){throw C===sd?tm:C}else f=o;o=sn();var v=o.queue,x=v.dispatch;return u!==o.memoizedState&&(Ke.flags|=2048,yu(9,lm(),_L.bind(null,v,u),null)),[f,x,i]}function _L(i,o){i.action=o}function Z1(i){var o=sn(),u=bt;if(u!==null)return Q1(o,u,i);sn(),o=o.memoizedState,u=sn();var f=u.queue.dispatch;return u.memoizedState=i,[o,f,!1]}function yu(i,o,u,f){return i={tag:i,create:u,deps:f,inst:o,next:null},o=Ke.updateQueue,o===null&&(o=y0(),Ke.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i),i}function lm(){return{destroy:void 0,resource:void 0}}function J1(){return sn().memoizedState}function um(i,o,u,f){var v=mr();f=f===void 0?null:f,Ke.flags|=i,v.memoizedState=yu(1|o,lm(),u,f)}function dd(i,o,u,f){var v=sn();f=f===void 0?null:f;var x=v.memoizedState.inst;bt!==null&&f!==null&&h0(f,bt.memoizedState.deps)?v.memoizedState=yu(o,x,u,f):(Ke.flags|=i,v.memoizedState=yu(1|o,x,u,f))}function eS(i,o){um(8390656,8,i,o)}function tS(i,o){dd(2048,8,i,o)}function nS(i,o){return dd(4,2,i,o)}function rS(i,o){return dd(4,4,i,o)}function sS(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function iS(i,o,u){u=u!=null?u.concat([i]):null,dd(4,4,sS.bind(null,o,i),u)}function S0(){}function aS(i,o){var u=sn();o=o===void 0?null:o;var f=u.memoizedState;return o!==null&&h0(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function oS(i,o){var u=sn();o=o===void 0?null:o;var f=u.memoizedState;if(o!==null&&h0(o,f[1]))return f[0];if(f=i(),tl){xr(!0);try{i()}finally{xr(!1)}}return u.memoizedState=[f,o],f}function T0(i,o,u){return u===void 0||(wa&1073741824)!==0?i.memoizedState=o:(i.memoizedState=u,i=cT(),Ke.lanes|=i,Aa|=i,u)}function lS(i,o,u,f){return Er(u,o)?u:pu.current!==null?(i=T0(i,u,f),Er(i,o)||(Tn=!0),i):(wa&42)===0?(Tn=!0,i.memoizedState=u):(i=cT(),Ke.lanes|=i,Aa|=i,o)}function uS(i,o,u,f,v){var x=ie.p;ie.p=x!==0&&8>x?x:8;var C=K.T,k={};K.T=k,C0(i,!1,o,u);try{var B=v(),J=K.S;if(J!==null&&J(k,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var oe=yL(B,f);fd(i,o,oe,Cr(i))}else fd(i,o,f,Cr(i))}catch(ce){fd(i,o,{then:function(){},status:"rejected",reason:ce},Cr())}finally{ie.p=x,K.T=C}}function EL(){}function R0(i,o,u,f){if(i.tag!==5)throw Error(r(476));var v=cS(i).queue;uS(i,v,o,Y,u===null?EL:function(){return dS(i),u(f)})}function cS(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:Y},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function dS(i){var o=cS(i).next.queue;fd(i,o,{},Cr())}function A0(){return qn(Id)}function fS(){return sn().memoizedState}function hS(){return sn().memoizedState}function SL(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=Cr();i=ya(u);var f=ba(o,i,u);f!==null&&(Nr(f,o,u),ad(f,o,u)),o={cache:r0()},i.payload=o;return}o=o.return}}function TL(i,o,u){var f=Cr();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},cm(i)?pS(o,u):(u=Wv(i,o,u,f),u!==null&&(Nr(u,i,f),gS(u,o,f)))}function mS(i,o,u){var f=Cr();fd(i,o,u,f)}function fd(i,o,u,f){var v={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(cm(i))pS(o,v);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var C=o.lastRenderedState,k=x(C,u);if(v.hasEagerState=!0,v.eagerState=k,Er(k,C))return Wh(i,o,v,0),Nt===null&&qh(),!1}catch{}finally{}if(u=Wv(i,o,v,f),u!==null)return Nr(u,i,f),gS(u,o,f),!0}return!1}function C0(i,o,u,f){if(f={lane:2,revertLane:ay(),action:f,hasEagerState:!1,eagerState:null,next:null},cm(i)){if(o)throw Error(r(479))}else o=Wv(i,u,f,2),o!==null&&Nr(o,i,2)}function cm(i){var o=i.alternate;return i===Ke||o!==null&&o===Ke}function pS(i,o){gu=sm=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function gS(i,o,u){if((u&4194048)!==0){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Dc(i,u)}}var dm={readContext:qn,use:am,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt},vS={readContext:qn,use:am,useCallback:function(i,o){return mr().memoizedState=[i,o===void 0?null:o],i},useContext:qn,useEffect:eS,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,um(4194308,4,sS.bind(null,o,i),u)},useLayoutEffect:function(i,o){return um(4194308,4,i,o)},useInsertionEffect:function(i,o){um(4,2,i,o)},useMemo:function(i,o){var u=mr();o=o===void 0?null:o;var f=i();if(tl){xr(!0);try{i()}finally{xr(!1)}}return u.memoizedState=[f,o],f},useReducer:function(i,o,u){var f=mr();if(u!==void 0){var v=u(o);if(tl){xr(!0);try{u(o)}finally{xr(!1)}}}else v=o;return f.memoizedState=f.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},f.queue=i,i=i.dispatch=TL.bind(null,Ke,i),[f.memoizedState,i]},useRef:function(i){var o=mr();return i={current:i},o.memoizedState=i},useState:function(i){i=_0(i);var o=i.queue,u=mS.bind(null,Ke,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:S0,useDeferredValue:function(i,o){var u=mr();return T0(u,i,o)},useTransition:function(){var i=_0(!1);return i=uS.bind(null,Ke,i.queue,!0,!1),mr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var f=Ke,v=mr();if(ut){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Nt===null)throw Error(r(349));(it&124)!==0||V1(f,o,u)}v.memoizedState=u;var x={value:u,getSnapshot:o};return v.queue=x,eS(F1.bind(null,f,x,i),[i]),f.flags|=2048,yu(9,lm(),U1.bind(null,f,x,u,o),null),u},useId:function(){var i=mr(),o=Nt.identifierPrefix;if(ut){var u=Ri,f=Ti;u=(f&~(1<<32-Hn(f)-1)).toString(32)+u,o=""+o+"R"+u,u=im++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=bL++,o=""+o+"r"+u.toString(32)+"";return i.memoizedState=o},useHostTransitionStatus:A0,useFormState:Y1,useActionState:Y1,useOptimistic:function(i){var o=mr();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=C0.bind(null,Ke,!0,u),u.dispatch=o,[i,o]},useMemoCache:b0,useCacheRefresh:function(){return mr().memoizedState=SL.bind(null,Ke)}},yS={readContext:qn,use:am,useCallback:aS,useContext:qn,useEffect:tS,useImperativeHandle:iS,useInsertionEffect:nS,useLayoutEffect:rS,useMemo:oS,useReducer:om,useRef:J1,useState:function(){return om(Ni)},useDebugValue:S0,useDeferredValue:function(i,o){var u=sn();return lS(u,bt.memoizedState,i,o)},useTransition:function(){var i=om(Ni)[0],o=sn().memoizedState;return[typeof i=="boolean"?i:cd(i),o]},useSyncExternalStore:L1,useId:fS,useHostTransitionStatus:A0,useFormState:X1,useActionState:X1,useOptimistic:function(i,o){var u=sn();return B1(u,bt,i,o)},useMemoCache:b0,useCacheRefresh:hS},RL={readContext:qn,use:am,useCallback:aS,useContext:qn,useEffect:tS,useImperativeHandle:iS,useInsertionEffect:nS,useLayoutEffect:rS,useMemo:oS,useReducer:x0,useRef:J1,useState:function(){return x0(Ni)},useDebugValue:S0,useDeferredValue:function(i,o){var u=sn();return bt===null?T0(u,i,o):lS(u,bt.memoizedState,i,o)},useTransition:function(){var i=x0(Ni)[0],o=sn().memoizedState;return[typeof i=="boolean"?i:cd(i),o]},useSyncExternalStore:L1,useId:fS,useHostTransitionStatus:A0,useFormState:Z1,useActionState:Z1,useOptimistic:function(i,o){var u=sn();return bt!==null?B1(u,bt,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:b0,useCacheRefresh:hS},bu=null,hd=0;function fm(i){var o=hd;return hd+=1,bu===null&&(bu=[]),N1(bu,i,o)}function md(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function hm(i,o){throw o.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function bS(i){var o=i._init;return o(i._payload)}function wS(i){function o(W,H){if(i){var Z=W.deletions;Z===null?(W.deletions=[H],W.flags|=16):Z.push(H)}}function u(W,H){if(!i)return null;for(;H!==null;)o(W,H),H=H.sibling;return null}function f(W){for(var H=new Map;W!==null;)W.key!==null?H.set(W.key,W):H.set(W.index,W),W=W.sibling;return H}function v(W,H){return W=Si(W,H),W.index=0,W.sibling=null,W}function x(W,H,Z){return W.index=Z,i?(Z=W.alternate,Z!==null?(Z=Z.index,Z<H?(W.flags|=67108866,H):Z):(W.flags|=67108866,H)):(W.flags|=1048576,H)}function C(W){return i&&W.alternate===null&&(W.flags|=67108866),W}function k(W,H,Z,ue){return H===null||H.tag!==6?(H=Yv(Z,W.mode,ue),H.return=W,H):(H=v(H,Z),H.return=W,H)}function B(W,H,Z,ue){var we=Z.type;return we===E?oe(W,H,Z.props.children,ue,Z.key):H!==null&&(H.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===I&&bS(we)===H.type)?(H=v(H,Z.props),md(H,Z),H.return=W,H):(H=Yh(Z.type,Z.key,Z.props,null,W.mode,ue),md(H,Z),H.return=W,H)}function J(W,H,Z,ue){return H===null||H.tag!==4||H.stateNode.containerInfo!==Z.containerInfo||H.stateNode.implementation!==Z.implementation?(H=Xv(Z,W.mode,ue),H.return=W,H):(H=v(H,Z.children||[]),H.return=W,H)}function oe(W,H,Z,ue,we){return H===null||H.tag!==7?(H=Wo(Z,W.mode,ue,we),H.return=W,H):(H=v(H,Z),H.return=W,H)}function ce(W,H,Z){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Yv(""+H,W.mode,Z),H.return=W,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return Z=Yh(H.type,H.key,H.props,null,W.mode,Z),md(Z,H),Z.return=W,Z;case _:return H=Xv(H,W.mode,Z),H.return=W,H;case I:var ue=H._init;return H=ue(H._payload),ce(W,H,Z)}if(Te(H)||G(H))return H=Wo(H,W.mode,Z,null),H.return=W,H;if(typeof H.then=="function")return ce(W,fm(H),Z);if(H.$$typeof===M)return ce(W,Jh(W,H),Z);hm(W,H)}return null}function te(W,H,Z,ue){var we=H!==null?H.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return we!==null?null:k(W,H,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return Z.key===we?B(W,H,Z,ue):null;case _:return Z.key===we?J(W,H,Z,ue):null;case I:return we=Z._init,Z=we(Z._payload),te(W,H,Z,ue)}if(Te(Z)||G(Z))return we!==null?null:oe(W,H,Z,ue,null);if(typeof Z.then=="function")return te(W,H,fm(Z),ue);if(Z.$$typeof===M)return te(W,H,Jh(W,Z),ue);hm(W,Z)}return null}function re(W,H,Z,ue,we){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return W=W.get(Z)||null,k(H,W,""+ue,we);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case b:return W=W.get(ue.key===null?Z:ue.key)||null,B(H,W,ue,we);case _:return W=W.get(ue.key===null?Z:ue.key)||null,J(H,W,ue,we);case I:var Qe=ue._init;return ue=Qe(ue._payload),re(W,H,Z,ue,we)}if(Te(ue)||G(ue))return W=W.get(Z)||null,oe(H,W,ue,we,null);if(typeof ue.then=="function")return re(W,H,Z,fm(ue),we);if(ue.$$typeof===M)return re(W,H,Z,Jh(H,ue),we);hm(H,ue)}return null}function Ve(W,H,Z,ue){for(var we=null,Qe=null,Ce=H,De=H=0,An=null;Ce!==null&&De<Z.length;De++){Ce.index>De?(An=Ce,Ce=null):An=Ce.sibling;var lt=te(W,Ce,Z[De],ue);if(lt===null){Ce===null&&(Ce=An);break}i&&Ce&&lt.alternate===null&&o(W,Ce),H=x(lt,H,De),Qe===null?we=lt:Qe.sibling=lt,Qe=lt,Ce=An}if(De===Z.length)return u(W,Ce),ut&&Yo(W,De),we;if(Ce===null){for(;De<Z.length;De++)Ce=ce(W,Z[De],ue),Ce!==null&&(H=x(Ce,H,De),Qe===null?we=Ce:Qe.sibling=Ce,Qe=Ce);return ut&&Yo(W,De),we}for(Ce=f(Ce);De<Z.length;De++)An=re(Ce,W,De,Z[De],ue),An!==null&&(i&&An.alternate!==null&&Ce.delete(An.key===null?De:An.key),H=x(An,H,De),Qe===null?we=An:Qe.sibling=An,Qe=An);return i&&Ce.forEach(function(ja){return o(W,ja)}),ut&&Yo(W,De),we}function Me(W,H,Z,ue){if(Z==null)throw Error(r(151));for(var we=null,Qe=null,Ce=H,De=H=0,An=null,lt=Z.next();Ce!==null&&!lt.done;De++,lt=Z.next()){Ce.index>De?(An=Ce,Ce=null):An=Ce.sibling;var ja=te(W,Ce,lt.value,ue);if(ja===null){Ce===null&&(Ce=An);break}i&&Ce&&ja.alternate===null&&o(W,Ce),H=x(ja,H,De),Qe===null?we=ja:Qe.sibling=ja,Qe=ja,Ce=An}if(lt.done)return u(W,Ce),ut&&Yo(W,De),we;if(Ce===null){for(;!lt.done;De++,lt=Z.next())lt=ce(W,lt.value,ue),lt!==null&&(H=x(lt,H,De),Qe===null?we=lt:Qe.sibling=lt,Qe=lt);return ut&&Yo(W,De),we}for(Ce=f(Ce);!lt.done;De++,lt=Z.next())lt=re(Ce,W,De,lt.value,ue),lt!==null&&(i&&lt.alternate!==null&&Ce.delete(lt.key===null?De:lt.key),H=x(lt,H,De),Qe===null?we=lt:Qe.sibling=lt,Qe=lt);return i&&Ce.forEach(function(A3){return o(W,A3)}),ut&&Yo(W,De),we}function xt(W,H,Z,ue){if(typeof Z=="object"&&Z!==null&&Z.type===E&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:e:{for(var we=Z.key;H!==null;){if(H.key===we){if(we=Z.type,we===E){if(H.tag===7){u(W,H.sibling),ue=v(H,Z.props.children),ue.return=W,W=ue;break e}}else if(H.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===I&&bS(we)===H.type){u(W,H.sibling),ue=v(H,Z.props),md(ue,Z),ue.return=W,W=ue;break e}u(W,H);break}else o(W,H);H=H.sibling}Z.type===E?(ue=Wo(Z.props.children,W.mode,ue,Z.key),ue.return=W,W=ue):(ue=Yh(Z.type,Z.key,Z.props,null,W.mode,ue),md(ue,Z),ue.return=W,W=ue)}return C(W);case _:e:{for(we=Z.key;H!==null;){if(H.key===we)if(H.tag===4&&H.stateNode.containerInfo===Z.containerInfo&&H.stateNode.implementation===Z.implementation){u(W,H.sibling),ue=v(H,Z.children||[]),ue.return=W,W=ue;break e}else{u(W,H);break}else o(W,H);H=H.sibling}ue=Xv(Z,W.mode,ue),ue.return=W,W=ue}return C(W);case I:return we=Z._init,Z=we(Z._payload),xt(W,H,Z,ue)}if(Te(Z))return Ve(W,H,Z,ue);if(G(Z)){if(we=G(Z),typeof we!="function")throw Error(r(150));return Z=we.call(Z),Me(W,H,Z,ue)}if(typeof Z.then=="function")return xt(W,H,fm(Z),ue);if(Z.$$typeof===M)return xt(W,H,Jh(W,Z),ue);hm(W,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,H!==null&&H.tag===6?(u(W,H.sibling),ue=v(H,Z),ue.return=W,W=ue):(u(W,H),ue=Yv(Z,W.mode,ue),ue.return=W,W=ue),C(W)):u(W,H)}return function(W,H,Z,ue){try{hd=0;var we=xt(W,H,Z,ue);return bu=null,we}catch(Ce){if(Ce===sd||Ce===tm)throw Ce;var Qe=Sr(29,Ce,null,W.mode);return Qe.lanes=ue,Qe.return=W,Qe}finally{}}}var wu=wS(!0),xS=wS(!1),qr=ee(null),Ls=null;function xa(i){var o=i.alternate;ne(yn,yn.current&1),ne(qr,i),Ls===null&&(o===null||pu.current!==null||o.memoizedState!==null)&&(Ls=i)}function _S(i){if(i.tag===22){if(ne(yn,yn.current),ne(qr,i),Ls===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(Ls=i)}}else _a()}function _a(){ne(yn,yn.current),ne(qr,qr.current)}function Ii(i){fe(qr),Ls===i&&(Ls=null),fe(yn)}var yn=ee(0);function mm(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||yy(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function N0(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:m({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var I0={enqueueSetState:function(i,o,u){i=i._reactInternals;var f=Cr(),v=ya(f);v.payload=o,u!=null&&(v.callback=u),o=ba(i,v,f),o!==null&&(Nr(o,i,f),ad(o,i,f))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=Cr(),v=ya(f);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=ba(i,v,f),o!==null&&(Nr(o,i,f),ad(o,i,f))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Cr(),f=ya(u);f.tag=2,o!=null&&(f.callback=o),o=ba(i,f,u),o!==null&&(Nr(o,i,u),ad(o,i,u))}};function ES(i,o,u,f,v,x,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,x,C):o.prototype&&o.prototype.isPureReactComponent?!Xc(u,f)||!Xc(v,x):!0}function SS(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&I0.enqueueReplaceState(o,o.state,null)}function nl(i,o){var u=o;if("ref"in o){u={};for(var f in o)f!=="ref"&&(u[f]=o[f])}if(i=i.defaultProps){u===o&&(u=m({},u));for(var v in i)u[v]===void 0&&(u[v]=i[v])}return u}var pm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function TS(i){pm(i)}function RS(i){console.error(i)}function AS(i){pm(i)}function gm(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function CS(i,o,u){try{var f=i.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function P0(i,o,u){return u=ya(u),u.tag=3,u.payload={element:null},u.callback=function(){gm(i,o)},u}function NS(i){return i=ya(i),i.tag=3,i}function IS(i,o,u,f){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var x=f.value;i.payload=function(){return v(x)},i.callback=function(){CS(o,u,f)}}var C=u.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){CS(o,u,f),typeof v!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var k=f.stack;this.componentDidCatch(f.value,{componentStack:k!==null?k:""})})}function AL(i,o,u,f,v){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=u.alternate,o!==null&&td(o,u,v,!0),u=qr.current,u!==null){switch(u.tag){case 13:return Ls===null?ty():u.alternate===null&&Bt===0&&(Bt=3),u.flags&=-257,u.flags|=65536,u.lanes=v,f===a0?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([f]):o.add(f),ry(i,f,v)),!1;case 22:return u.flags|=65536,f===a0?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([f]):u.add(f)),ry(i,f,v)),!1}throw Error(r(435,u.tag))}return ry(i,f,v),ty(),!1}if(ut)return o=qr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,f!==Jv&&(i=Error(r(422),{cause:f}),ed($r(i,u)))):(f!==Jv&&(o=Error(r(423),{cause:f}),ed($r(o,u))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,f=$r(f,u),v=P0(i.stateNode,f,v),u0(i,v),Bt!==4&&(Bt=2)),!1;var x=Error(r(520),{cause:f});if(x=$r(x,u),xd===null?xd=[x]:xd.push(x),Bt!==4&&(Bt=2),o===null)return!0;f=$r(f,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=v&-v,u.lanes|=i,i=P0(u.stateNode,f,i),u0(u,i),!1;case 1:if(o=u.type,x=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ca===null||!Ca.has(x))))return u.flags|=65536,v&=-v,u.lanes|=v,v=NS(v),IS(v,i,u,f),u0(u,v),!1}u=u.return}while(u!==null);return!1}var PS=Error(r(461)),Tn=!1;function On(i,o,u,f){o.child=i===null?xS(o,null,u,f):wu(o,i.child,u,f)}function kS(i,o,u,f,v){u=u.render;var x=o.ref;if("ref"in f){var C={};for(var k in f)k!=="ref"&&(C[k]=f[k])}else C=f;return Jo(o),f=m0(i,o,u,C,x,v),k=p0(),i!==null&&!Tn?(g0(i,o,v),Pi(i,o,v)):(ut&&k&&Qv(o),o.flags|=1,On(i,o,f,v),o.child)}function MS(i,o,u,f,v){if(i===null){var x=u.type;return typeof x=="function"&&!Kv(x)&&x.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=x,DS(i,o,x,f,v)):(i=Yh(u.type,null,f,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(x=i.child,!U0(i,v)){var C=x.memoizedProps;if(u=u.compare,u=u!==null?u:Xc,u(C,f)&&i.ref===o.ref)return Pi(i,o,v)}return o.flags|=1,i=Si(x,f),i.ref=o.ref,i.return=o,o.child=i}function DS(i,o,u,f,v){if(i!==null){var x=i.memoizedProps;if(Xc(x,f)&&i.ref===o.ref)if(Tn=!1,o.pendingProps=f=x,U0(i,v))(i.flags&131072)!==0&&(Tn=!0);else return o.lanes=i.lanes,Pi(i,o,v)}return k0(i,o,u,f,v)}function OS(i,o,u){var f=o.pendingProps,v=f.children,x=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((o.flags&128)!==0){if(f=x!==null?x.baseLanes|u:u,i!==null){for(v=o.child=i.child,x=0;v!==null;)x=x|v.lanes|v.childLanes,v=v.sibling;o.childLanes=x&~f}else o.childLanes=0,o.child=null;return jS(i,o,f,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&em(o,x!==null?x.cachePool:null),x!==null?D1(o,x):d0(),_S(o);else return o.lanes=o.childLanes=536870912,jS(i,o,x!==null?x.baseLanes|u:u,u)}else x!==null?(em(o,x.cachePool),D1(o,x),_a(),o.memoizedState=null):(i!==null&&em(o,null),d0(),_a());return On(i,o,v,u),o.child}function jS(i,o,u,f){var v=i0();return v=v===null?null:{parent:vn._currentValue,pool:v},o.memoizedState={baseLanes:u,cachePool:v},i!==null&&em(o,null),d0(),_S(o),i!==null&&td(i,o,f,!0),null}function vm(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function k0(i,o,u,f,v){return Jo(o),u=m0(i,o,u,f,void 0,v),f=p0(),i!==null&&!Tn?(g0(i,o,v),Pi(i,o,v)):(ut&&f&&Qv(o),o.flags|=1,On(i,o,u,v),o.child)}function LS(i,o,u,f,v,x){return Jo(o),o.updateQueue=null,u=j1(o,f,u,v),O1(i),f=p0(),i!==null&&!Tn?(g0(i,o,x),Pi(i,o,x)):(ut&&f&&Qv(o),o.flags|=1,On(i,o,u,x),o.child)}function VS(i,o,u,f,v){if(Jo(o),o.stateNode===null){var x=cu,C=u.contextType;typeof C=="object"&&C!==null&&(x=qn(C)),x=new u(f,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=I0,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=f,x.state=o.memoizedState,x.refs={},o0(o),C=u.contextType,x.context=typeof C=="object"&&C!==null?qn(C):cu,x.state=o.memoizedState,C=u.getDerivedStateFromProps,typeof C=="function"&&(N0(o,u,C,f),x.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(C=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),C!==x.state&&I0.enqueueReplaceState(x,x.state,null),ld(o,f,x,v),od(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(i===null){x=o.stateNode;var k=o.memoizedProps,B=nl(u,k);x.props=B;var J=x.context,oe=u.contextType;C=cu,typeof oe=="object"&&oe!==null&&(C=qn(oe));var ce=u.getDerivedStateFromProps;oe=typeof ce=="function"||typeof x.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,oe||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k||J!==C)&&SS(o,x,f,C),va=!1;var te=o.memoizedState;x.state=te,ld(o,f,x,v),od(),J=o.memoizedState,k||te!==J||va?(typeof ce=="function"&&(N0(o,u,ce,f),J=o.memoizedState),(B=va||ES(o,u,B,f,te,J,C))?(oe||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=J),x.props=f,x.state=J,x.context=C,f=B):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{x=o.stateNode,l0(i,o),C=o.memoizedProps,oe=nl(u,C),x.props=oe,ce=o.pendingProps,te=x.context,J=u.contextType,B=cu,typeof J=="object"&&J!==null&&(B=qn(J)),k=u.getDerivedStateFromProps,(J=typeof k=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==ce||te!==B)&&SS(o,x,f,B),va=!1,te=o.memoizedState,x.state=te,ld(o,f,x,v),od();var re=o.memoizedState;C!==ce||te!==re||va||i!==null&&i.dependencies!==null&&Zh(i.dependencies)?(typeof k=="function"&&(N0(o,u,k,f),re=o.memoizedState),(oe=va||ES(o,u,oe,f,te,re,B)||i!==null&&i.dependencies!==null&&Zh(i.dependencies))?(J||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,re,B),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,re,B)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=re),x.props=f,x.state=re,x.context=B,f=oe):(typeof x.componentDidUpdate!="function"||C===i.memoizedProps&&te===i.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&te===i.memoizedState||(o.flags|=1024),f=!1)}return x=f,vm(i,o),f=(o.flags&128)!==0,x||f?(x=o.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,i!==null&&f?(o.child=wu(o,i.child,null,v),o.child=wu(o,null,u,v)):On(i,o,u,v),o.memoizedState=x.state,i=o.child):i=Pi(i,o,v),i}function US(i,o,u,f){return Jc(),o.flags|=256,On(i,o,u,f),o.child}var M0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function D0(i){return{baseLanes:i,cachePool:R1()}}function O0(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=Wr),i}function FS(i,o,u){var f=o.pendingProps,v=!1,x=(o.flags&128)!==0,C;if((C=x)||(C=i!==null&&i.memoizedState===null?!1:(yn.current&2)!==0),C&&(v=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,i===null){if(ut){if(v?xa(o):_a(),ut){var k=$t,B;if(B=k){e:{for(B=k,k=js;B.nodeType!==8;){if(!k){k=null;break e}if(B=ls(B.nextSibling),B===null){k=null;break e}}k=B}k!==null?(o.memoizedState={dehydrated:k,treeContext:Ko!==null?{id:Ti,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},B=Sr(18,null,null,0),B.stateNode=k,B.return=o,o.child=B,ar=o,$t=null,B=!0):B=!1}B||Qo(o)}if(k=o.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return yy(k)?o.lanes=32:o.lanes=536870912,null;Ii(o)}return k=f.children,f=f.fallback,v?(_a(),v=o.mode,k=ym({mode:"hidden",children:k},v),f=Wo(f,v,u,null),k.return=o,f.return=o,k.sibling=f,o.child=k,v=o.child,v.memoizedState=D0(u),v.childLanes=O0(i,C,u),o.memoizedState=M0,f):(xa(o),j0(o,k))}if(B=i.memoizedState,B!==null&&(k=B.dehydrated,k!==null)){if(x)o.flags&256?(xa(o),o.flags&=-257,o=L0(i,o,u)):o.memoizedState!==null?(_a(),o.child=i.child,o.flags|=128,o=null):(_a(),v=f.fallback,k=o.mode,f=ym({mode:"visible",children:f.children},k),v=Wo(v,k,u,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,wu(o,i.child,null,u),f=o.child,f.memoizedState=D0(u),f.childLanes=O0(i,C,u),o.memoizedState=M0,o=v);else if(xa(o),yy(k)){if(C=k.nextSibling&&k.nextSibling.dataset,C)var J=C.dgst;C=J,f=Error(r(419)),f.stack="",f.digest=C,ed({value:f,source:null,stack:null}),o=L0(i,o,u)}else if(Tn||td(i,o,u,!1),C=(u&i.childLanes)!==0,Tn||C){if(C=Nt,C!==null&&(f=u&-u,f=(f&42)!==0?1:ua(f),f=(f&(C.suspendedLanes|u))!==0?0:f,f!==0&&f!==B.retryLane))throw B.retryLane=f,uu(i,f),Nr(C,i,f),PS;k.data==="$?"||ty(),o=L0(i,o,u)}else k.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=B.treeContext,$t=ls(k.nextSibling),ar=o,ut=!0,Xo=null,js=!1,i!==null&&(Gr[Hr++]=Ti,Gr[Hr++]=Ri,Gr[Hr++]=Ko,Ti=i.id,Ri=i.overflow,Ko=o),o=j0(o,f.children),o.flags|=4096);return o}return v?(_a(),v=f.fallback,k=o.mode,B=i.child,J=B.sibling,f=Si(B,{mode:"hidden",children:f.children}),f.subtreeFlags=B.subtreeFlags&65011712,J!==null?v=Si(J,v):(v=Wo(v,k,u,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,k=i.child.memoizedState,k===null?k=D0(u):(B=k.cachePool,B!==null?(J=vn._currentValue,B=B.parent!==J?{parent:J,pool:J}:B):B=R1(),k={baseLanes:k.baseLanes|u,cachePool:B}),v.memoizedState=k,v.childLanes=O0(i,C,u),o.memoizedState=M0,f):(xa(o),u=i.child,i=u.sibling,u=Si(u,{mode:"visible",children:f.children}),u.return=o,u.sibling=null,i!==null&&(C=o.deletions,C===null?(o.deletions=[i],o.flags|=16):C.push(i)),o.child=u,o.memoizedState=null,u)}function j0(i,o){return o=ym({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function ym(i,o){return i=Sr(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function L0(i,o,u){return wu(o,i.child,null,u),i=j0(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function zS(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),t0(i.return,o,u)}function V0(i,o,u,f,v){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:v}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=f,x.tail=u,x.tailMode=v)}function $S(i,o,u){var f=o.pendingProps,v=f.revealOrder,x=f.tail;if(On(i,o,f.children,u),f=yn.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&zS(i,u,o);else if(i.tag===19)zS(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(ne(yn,f),v){case"forwards":for(u=o.child,v=null;u!==null;)i=u.alternate,i!==null&&mm(i)===null&&(v=u),u=u.sibling;u=v,u===null?(v=o.child,o.child=null):(v=u.sibling,u.sibling=null),V0(o,!1,v,u,x);break;case"backwards":for(u=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&mm(i)===null){o.child=v;break}i=v.sibling,v.sibling=u,u=v,v=i}V0(o,!0,u,null,x);break;case"together":V0(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Pi(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Aa|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(td(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,u=Si(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Si(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function U0(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Zh(i)))}function CL(i,o,u){switch(o.tag){case 3:$e(o,o.stateNode.containerInfo),ga(o,vn,i.memoizedState.cache),Jc();break;case 27:case 5:fn(o);break;case 4:$e(o,o.stateNode.containerInfo);break;case 10:ga(o,o.type,o.memoizedProps.value);break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(xa(o),o.flags|=128,null):(u&o.child.childLanes)!==0?FS(i,o,u):(xa(o),i=Pi(i,o,u),i!==null?i.sibling:null);xa(o);break;case 19:var v=(i.flags&128)!==0;if(f=(u&o.childLanes)!==0,f||(td(i,o,u,!1),f=(u&o.childLanes)!==0),v){if(f)return $S(i,o,u);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ne(yn,yn.current),f)break;return null;case 22:case 23:return o.lanes=0,OS(i,o,u);case 24:ga(o,vn,i.memoizedState.cache)}return Pi(i,o,u)}function BS(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)Tn=!0;else{if(!U0(i,u)&&(o.flags&128)===0)return Tn=!1,CL(i,o,u);Tn=(i.flags&131072)!==0}else Tn=!1,ut&&(o.flags&1048576)!==0&&b1(o,Qh,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var f=o.elementType,v=f._init;if(f=v(f._payload),o.type=f,typeof f=="function")Kv(f)?(i=nl(f,i),o.tag=1,o=VS(null,o,f,i,u)):(o.tag=0,o=k0(null,o,f,i,u));else{if(f!=null){if(v=f.$$typeof,v===F){o.tag=11,o=kS(null,o,f,i,u);break e}else if(v===O){o.tag=14,o=MS(null,o,f,i,u);break e}}throw o=ye(f)||f,Error(r(306,o,""))}}return o;case 0:return k0(i,o,o.type,o.pendingProps,u);case 1:return f=o.type,v=nl(f,o.pendingProps),VS(i,o,f,v,u);case 3:e:{if($e(o,o.stateNode.containerInfo),i===null)throw Error(r(387));f=o.pendingProps;var x=o.memoizedState;v=x.element,l0(i,o),ld(o,f,null,u);var C=o.memoizedState;if(f=C.cache,ga(o,vn,f),f!==x.cache&&n0(o,[vn],u,!0),od(),f=C.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=US(i,o,f,u);break e}else if(f!==v){v=$r(Error(r(424)),o),ed(v),o=US(i,o,f,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for($t=ls(i.firstChild),ar=o,ut=!0,Xo=null,js=!0,u=xS(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Jc(),f===v){o=Pi(i,o,u);break e}On(i,o,f,u)}o=o.child}return o;case 26:return vm(i,o),i===null?(u=WT(o.type,null,o.pendingProps,null))?o.memoizedState=u:ut||(u=o.type,i=o.pendingProps,f=km(ge.current).createElement(u),f[mn]=o,f[tn]=i,Ln(f,u,i),Yt(f),o.stateNode=f):o.memoizedState=WT(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return fn(o),i===null&&ut&&(f=o.stateNode=GT(o.type,o.pendingProps,ge.current),ar=o,js=!0,v=$t,Pa(o.type)?(by=v,$t=ls(f.firstChild)):$t=v),On(i,o,o.pendingProps.children,u),vm(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&ut&&((v=f=$t)&&(f=n3(f,o.type,o.pendingProps,js),f!==null?(o.stateNode=f,ar=o,$t=ls(f.firstChild),js=!1,v=!0):v=!1),v||Qo(o)),fn(o),v=o.type,x=o.pendingProps,C=i!==null?i.memoizedProps:null,f=x.children,py(v,x)?f=null:C!==null&&py(v,C)&&(o.flags|=32),o.memoizedState!==null&&(v=m0(i,o,wL,null,null,u),Id._currentValue=v),vm(i,o),On(i,o,f,u),o.child;case 6:return i===null&&ut&&((i=u=$t)&&(u=r3(u,o.pendingProps,js),u!==null?(o.stateNode=u,ar=o,$t=null,i=!0):i=!1),i||Qo(o)),null;case 13:return FS(i,o,u);case 4:return $e(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=wu(o,null,f,u):On(i,o,f,u),o.child;case 11:return kS(i,o,o.type,o.pendingProps,u);case 7:return On(i,o,o.pendingProps,u),o.child;case 8:return On(i,o,o.pendingProps.children,u),o.child;case 12:return On(i,o,o.pendingProps.children,u),o.child;case 10:return f=o.pendingProps,ga(o,o.type,f.value),On(i,o,f.children,u),o.child;case 9:return v=o.type._context,f=o.pendingProps.children,Jo(o),v=qn(v),f=f(v),o.flags|=1,On(i,o,f,u),o.child;case 14:return MS(i,o,o.type,o.pendingProps,u);case 15:return DS(i,o,o.type,o.pendingProps,u);case 19:return $S(i,o,u);case 31:return f=o.pendingProps,u=o.mode,f={mode:f.mode,children:f.children},i===null?(u=ym(f,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=Si(i.child,f),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return OS(i,o,u);case 24:return Jo(o),f=qn(vn),i===null?(v=i0(),v===null&&(v=Nt,x=r0(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=u),v=x),o.memoizedState={parent:f,cache:v},o0(o),ga(o,vn,v)):((i.lanes&u)!==0&&(l0(i,o),ld(o,null,null,u),od()),v=i.memoizedState,x=o.memoizedState,v.parent!==f?(v={parent:f,cache:f},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),ga(o,vn,f)):(f=x.cache,ga(o,vn,f),f!==v.cache&&n0(o,[vn],u,!0))),On(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ki(i){i.flags|=4}function GS(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ZT(o)){if(o=qr.current,o!==null&&((it&4194048)===it?Ls!==null:(it&62914560)!==it&&(it&536870912)===0||o!==Ls))throw id=a0,A1;i.flags|=8192}}function bm(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?kc():536870912,i.lanes|=o,Su|=o)}function pd(i,o){if(!ut)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Vt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var v=i.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function NL(i,o,u){var f=o.pendingProps;switch(Zv(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(o),null;case 1:return Vt(o),null;case 3:return u=o.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Ci(vn),vt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Zc(o)?ki(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,_1())),Vt(o),null;case 26:return u=o.memoizedState,i===null?(ki(o),u!==null?(Vt(o),GS(o,u)):(Vt(o),o.flags&=-16777217)):u?u!==i.memoizedState?(ki(o),Vt(o),GS(o,u)):(Vt(o),o.flags&=-16777217):(i.memoizedProps!==f&&ki(o),Vt(o),o.flags&=-16777217),null;case 27:hn(o),u=ge.current;var v=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==f&&ki(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return Vt(o),null}i=me.current,Zc(o)?w1(o):(i=GT(v,f,u),o.stateNode=i,ki(o))}return Vt(o),null;case 5:if(hn(o),u=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==f&&ki(o);else{if(!f){if(o.stateNode===null)throw Error(r(166));return Vt(o),null}if(i=me.current,Zc(o))w1(o);else{switch(v=km(ge.current),i){case 1:i=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=v.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?v.createElement("select",{is:f.is}):v.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?v.createElement(u,{is:f.is}):v.createElement(u)}}i[mn]=o,i[tn]=f;e:for(v=o.child;v!==null;){if(v.tag===5||v.tag===6)i.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===o)break e;for(;v.sibling===null;){if(v.return===null||v.return===o)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}o.stateNode=i;e:switch(Ln(i,u,f),u){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ki(o)}}return Vt(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==f&&ki(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(r(166));if(i=ge.current,Zc(o)){if(i=o.stateNode,u=o.memoizedProps,f=null,v=ar,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}i[mn]=o,i=!!(i.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||LT(i.nodeValue,u)),i||Qo(o)}else i=km(i).createTextNode(f),i[mn]=o,o.stateNode=i}return Vt(o),null;case 13:if(f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=Zc(o),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[mn]=o}else Jc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Vt(o),v=!1}else v=_1(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Ii(o),o):(Ii(o),null)}if(Ii(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=f!==null,i=i!==null&&i.memoizedState!==null,u){f=o.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool);var x=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),x!==v&&(f.flags|=2048)}return u!==i&&u&&(o.child.flags|=8192),bm(o,o.updateQueue),Vt(o),null;case 4:return vt(),i===null&&cy(o.stateNode.containerInfo),Vt(o),null;case 10:return Ci(o.type),Vt(o),null;case 19:if(fe(yn),v=o.memoizedState,v===null)return Vt(o),null;if(f=(o.flags&128)!==0,x=v.rendering,x===null)if(f)pd(v,!1);else{if(Bt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(x=mm(i),x!==null){for(o.flags|=128,pd(v,!1),i=x.updateQueue,o.updateQueue=i,bm(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)y1(u,i),u=u.sibling;return ne(yn,yn.current&1|2),o.child}i=i.sibling}v.tail!==null&&q()>_m&&(o.flags|=128,f=!0,pd(v,!1),o.lanes=4194304)}else{if(!f)if(i=mm(x),i!==null){if(o.flags|=128,f=!0,i=i.updateQueue,o.updateQueue=i,bm(o,i),pd(v,!0),v.tail===null&&v.tailMode==="hidden"&&!x.alternate&&!ut)return Vt(o),null}else 2*q()-v.renderingStartTime>_m&&u!==536870912&&(o.flags|=128,f=!0,pd(v,!1),o.lanes=4194304);v.isBackwards?(x.sibling=o.child,o.child=x):(i=v.last,i!==null?i.sibling=x:o.child=x,v.last=x)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=q(),o.sibling=null,i=yn.current,ne(yn,f?i&1|2:i&1),o):(Vt(o),null);case 22:case 23:return Ii(o),f0(),f=o.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(u&536870912)!==0&&(o.flags&128)===0&&(Vt(o),o.subtreeFlags&6&&(o.flags|=8192)):Vt(o),u=o.updateQueue,u!==null&&bm(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048),i!==null&&fe(el),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ci(vn),Vt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function IL(i,o){switch(Zv(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ci(vn),vt(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return hn(o),null;case 13:if(Ii(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Jc()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return fe(yn),null;case 4:return vt(),null;case 10:return Ci(o.type),null;case 22:case 23:return Ii(o),f0(),i!==null&&fe(el),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Ci(vn),null;case 25:return null;default:return null}}function HS(i,o){switch(Zv(o),o.tag){case 3:Ci(vn),vt();break;case 26:case 27:case 5:hn(o);break;case 4:vt();break;case 13:Ii(o);break;case 19:fe(yn);break;case 10:Ci(o.type);break;case 22:case 23:Ii(o),f0(),i!==null&&fe(el);break;case 24:Ci(vn)}}function gd(i,o){try{var u=o.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var v=f.next;u=v;do{if((u.tag&i)===i){f=void 0;var x=u.create,C=u.inst;f=x(),C.destroy=f}u=u.next}while(u!==v)}}catch(k){Et(o,o.return,k)}}function Ea(i,o,u){try{var f=o.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var x=v.next;f=x;do{if((f.tag&i)===i){var C=f.inst,k=C.destroy;if(k!==void 0){C.destroy=void 0,v=o;var B=u,J=k;try{J()}catch(oe){Et(v,B,oe)}}}f=f.next}while(f!==x)}}catch(oe){Et(o,o.return,oe)}}function qS(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{M1(o,u)}catch(f){Et(i,i.return,f)}}}function WS(i,o,u){u.props=nl(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(f){Et(i,o,f)}}function vd(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof u=="function"?i.refCleanup=u(f):u.current=f}}catch(v){Et(i,o,v)}}function Vs(i,o){var u=i.ref,f=i.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(v){Et(i,o,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Et(i,o,v)}else u.current=null}function KS(i){var o=i.type,u=i.memoizedProps,f=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(v){Et(i,i.return,v)}}function F0(i,o,u){try{var f=i.stateNode;QL(f,i.type,u,o),f[tn]=o}catch(v){Et(i,i.return,v)}}function YS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Pa(i.type)||i.tag===4}function z0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||YS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Pa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function $0(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Pm));else if(f!==4&&(f===27&&Pa(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for($0(i,o,u),i=i.sibling;i!==null;)$0(i,o,u),i=i.sibling}function wm(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(f===27&&Pa(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(wm(i,o,u),i=i.sibling;i!==null;)wm(i,o,u),i=i.sibling}function XS(i){var o=i.stateNode,u=i.memoizedProps;try{for(var f=i.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);Ln(o,f,u),o[mn]=i,o[tn]=u}catch(x){Et(i,i.return,x)}}var Mi=!1,Qt=!1,B0=!1,QS=typeof WeakSet=="function"?WeakSet:Set,Rn=null;function PL(i,o){if(i=i.containerInfo,hy=Vm,i=l1(i),zv(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var v=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var C=0,k=-1,B=-1,J=0,oe=0,ce=i,te=null;t:for(;;){for(var re;ce!==u||v!==0&&ce.nodeType!==3||(k=C+v),ce!==x||f!==0&&ce.nodeType!==3||(B=C+f),ce.nodeType===3&&(C+=ce.nodeValue.length),(re=ce.firstChild)!==null;)te=ce,ce=re;for(;;){if(ce===i)break t;if(te===u&&++J===v&&(k=C),te===x&&++oe===f&&(B=C),(re=ce.nextSibling)!==null)break;ce=te,te=ce.parentNode}ce=re}u=k===-1||B===-1?null:{start:k,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for(my={focusedElem:i,selectionRange:u},Vm=!1,Rn=o;Rn!==null;)if(o=Rn,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,Rn=i;else for(;Rn!==null;){switch(o=Rn,x=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&x!==null){i=void 0,u=o,v=x.memoizedProps,x=x.memoizedState,f=u.stateNode;try{var Ve=nl(u.type,v,u.elementType===u.type);i=f.getSnapshotBeforeUpdate(Ve,x),f.__reactInternalSnapshotBeforeUpdate=i}catch(Me){Et(u,u.return,Me)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)vy(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":vy(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Rn=i;break}Rn=o.return}}function ZS(i,o,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Sa(i,u),f&4&&gd(5,u);break;case 1:if(Sa(i,u),f&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(C){Et(u,u.return,C)}else{var v=nl(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(v,o,i.__reactInternalSnapshotBeforeUpdate)}catch(C){Et(u,u.return,C)}}f&64&&qS(u),f&512&&vd(u,u.return);break;case 3:if(Sa(i,u),f&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{M1(i,o)}catch(C){Et(u,u.return,C)}}break;case 27:o===null&&f&4&&XS(u);case 26:case 5:Sa(i,u),o===null&&f&4&&KS(u),f&512&&vd(u,u.return);break;case 12:Sa(i,u);break;case 13:Sa(i,u),f&4&&tT(i,u),f&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=FL.bind(null,u),s3(i,u))));break;case 22:if(f=u.memoizedState!==null||Mi,!f){o=o!==null&&o.memoizedState!==null||Qt,v=Mi;var x=Qt;Mi=f,(Qt=o)&&!x?Ta(i,u,(u.subtreeFlags&8772)!==0):Sa(i,u),Mi=v,Qt=x}break;case 30:break;default:Sa(i,u)}}function JS(i){var o=i.alternate;o!==null&&(i.alternate=null,JS(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&fa(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Mt=null,pr=!1;function Di(i,o,u){for(u=u.child;u!==null;)eT(i,o,u),u=u.sibling}function eT(i,o,u){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(Ct,u)}catch{}switch(u.tag){case 26:Qt||Vs(u,o),Di(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Qt||Vs(u,o);var f=Mt,v=pr;Pa(u.type)&&(Mt=u.stateNode,pr=!1),Di(i,o,u),Rd(u.stateNode),Mt=f,pr=v;break;case 5:Qt||Vs(u,o);case 6:if(f=Mt,v=pr,Mt=null,Di(i,o,u),Mt=f,pr=v,Mt!==null)if(pr)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(u.stateNode)}catch(x){Et(u,o,x)}else try{Mt.removeChild(u.stateNode)}catch(x){Et(u,o,x)}break;case 18:Mt!==null&&(pr?(i=Mt,$T(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Dd(i)):$T(Mt,u.stateNode));break;case 4:f=Mt,v=pr,Mt=u.stateNode.containerInfo,pr=!0,Di(i,o,u),Mt=f,pr=v;break;case 0:case 11:case 14:case 15:Qt||Ea(2,u,o),Qt||Ea(4,u,o),Di(i,o,u);break;case 1:Qt||(Vs(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"&&WS(u,o,f)),Di(i,o,u);break;case 21:Di(i,o,u);break;case 22:Qt=(f=Qt)||u.memoizedState!==null,Di(i,o,u),Qt=f;break;default:Di(i,o,u)}}function tT(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Dd(i)}catch(u){Et(o,o.return,u)}}function kL(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new QS),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new QS),o;default:throw Error(r(435,i.tag))}}function G0(i,o){var u=kL(i);o.forEach(function(f){var v=zL.bind(null,i,f);u.has(f)||(u.add(f),f.then(v,v))})}function Tr(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var v=u[f],x=i,C=o,k=C;e:for(;k!==null;){switch(k.tag){case 27:if(Pa(k.type)){Mt=k.stateNode,pr=!1;break e}break;case 5:Mt=k.stateNode,pr=!1;break e;case 3:case 4:Mt=k.stateNode.containerInfo,pr=!0;break e}k=k.return}if(Mt===null)throw Error(r(160));eT(x,C,v),Mt=null,pr=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)nT(o,i),o=o.sibling}var os=null;function nT(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Tr(o,i),Rr(i),f&4&&(Ea(3,i,i.return),gd(3,i),Ea(5,i,i.return));break;case 1:Tr(o,i),Rr(i),f&512&&(Qt||u===null||Vs(u,u.return)),f&64&&Mi&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var v=os;if(Tr(o,i),Rr(i),f&512&&(Qt||u===null||Vs(u,u.return)),f&4){var x=u!==null?u.memoizedState:null;if(f=i.memoizedState,u===null)if(f===null)if(i.stateNode===null){e:{f=i.type,u=i.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":x=v.getElementsByTagName("title")[0],(!x||x[Po]||x[mn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(f),v.head.insertBefore(x,v.querySelector("head > title"))),Ln(x,f,u),x[mn]=i,Yt(x),f=x;break e;case"link":var C=XT("link","href",v).get(f+(u.href||""));if(C){for(var k=0;k<C.length;k++)if(x=C[k],x.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&x.getAttribute("rel")===(u.rel==null?null:u.rel)&&x.getAttribute("title")===(u.title==null?null:u.title)&&x.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){C.splice(k,1);break t}}x=v.createElement(f),Ln(x,f,u),v.head.appendChild(x);break;case"meta":if(C=XT("meta","content",v).get(f+(u.content||""))){for(k=0;k<C.length;k++)if(x=C[k],x.getAttribute("content")===(u.content==null?null:""+u.content)&&x.getAttribute("name")===(u.name==null?null:u.name)&&x.getAttribute("property")===(u.property==null?null:u.property)&&x.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&x.getAttribute("charset")===(u.charSet==null?null:u.charSet)){C.splice(k,1);break t}}x=v.createElement(f),Ln(x,f,u),v.head.appendChild(x);break;default:throw Error(r(468,f))}x[mn]=i,Yt(x),f=x}i.stateNode=f}else QT(v,i.type,i.stateNode);else i.stateNode=YT(v,f,i.memoizedProps);else x!==f?(x===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):x.count--,f===null?QT(v,i.type,i.stateNode):YT(v,f,i.memoizedProps)):f===null&&i.stateNode!==null&&F0(i,i.memoizedProps,u.memoizedProps)}break;case 27:Tr(o,i),Rr(i),f&512&&(Qt||u===null||Vs(u,u.return)),u!==null&&f&4&&F0(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Tr(o,i),Rr(i),f&512&&(Qt||u===null||Vs(u,u.return)),i.flags&32){v=i.stateNode;try{Vr(v,"")}catch(re){Et(i,i.return,re)}}f&4&&i.stateNode!=null&&(v=i.memoizedProps,F0(i,v,u!==null?u.memoizedProps:v)),f&1024&&(B0=!0);break;case 6:if(Tr(o,i),Rr(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,u=i.stateNode;try{u.nodeValue=f}catch(re){Et(i,i.return,re)}}break;case 3:if(Om=null,v=os,os=Mm(o.containerInfo),Tr(o,i),os=v,Rr(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Dd(o.containerInfo)}catch(re){Et(i,i.return,re)}B0&&(B0=!1,rT(i));break;case 4:f=os,os=Mm(i.stateNode.containerInfo),Tr(o,i),Rr(i),os=f;break;case 12:Tr(o,i),Rr(i);break;case 13:Tr(o,i),Rr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(X0=q()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,G0(i,f)));break;case 22:v=i.memoizedState!==null;var B=u!==null&&u.memoizedState!==null,J=Mi,oe=Qt;if(Mi=J||v,Qt=oe||B,Tr(o,i),Qt=oe,Mi=J,Rr(i),f&8192)e:for(o=i.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(u===null||B||Mi||Qt||rl(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){B=u=o;try{if(x=B.stateNode,v)C=x.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{k=B.stateNode;var ce=B.memoizedProps.style,te=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;k.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(re){Et(B,B.return,re)}}}else if(o.tag===6){if(u===null){B=o;try{B.stateNode.nodeValue=v?"":B.memoizedProps}catch(re){Et(B,B.return,re)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=i.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,G0(i,u))));break;case 19:Tr(o,i),Rr(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,G0(i,f)));break;case 30:break;case 21:break;default:Tr(o,i),Rr(i)}}function Rr(i){var o=i.flags;if(o&2){try{for(var u,f=i.return;f!==null;){if(YS(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,x=z0(i);wm(i,x,v);break;case 5:var C=u.stateNode;u.flags&32&&(Vr(C,""),u.flags&=-33);var k=z0(i);wm(i,k,C);break;case 3:case 4:var B=u.stateNode.containerInfo,J=z0(i);$0(i,J,B);break;default:throw Error(r(161))}}catch(oe){Et(i,i.return,oe)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function rT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;rT(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Sa(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)ZS(i,o.alternate,o),o=o.sibling}function rl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Ea(4,o,o.return),rl(o);break;case 1:Vs(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&WS(o,o.return,u),rl(o);break;case 27:Rd(o.stateNode);case 26:case 5:Vs(o,o.return),rl(o);break;case 22:o.memoizedState===null&&rl(o);break;case 30:rl(o);break;default:rl(o)}i=i.sibling}}function Ta(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,v=i,x=o,C=x.flags;switch(x.tag){case 0:case 11:case 15:Ta(v,x,u),gd(4,x);break;case 1:if(Ta(v,x,u),f=x,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(J){Et(f,f.return,J)}if(f=x,v=f.updateQueue,v!==null){var k=f.stateNode;try{var B=v.shared.hiddenCallbacks;if(B!==null)for(v.shared.hiddenCallbacks=null,v=0;v<B.length;v++)k1(B[v],k)}catch(J){Et(f,f.return,J)}}u&&C&64&&qS(x),vd(x,x.return);break;case 27:XS(x);case 26:case 5:Ta(v,x,u),u&&f===null&&C&4&&KS(x),vd(x,x.return);break;case 12:Ta(v,x,u);break;case 13:Ta(v,x,u),u&&C&4&&tT(v,x);break;case 22:x.memoizedState===null&&Ta(v,x,u),vd(x,x.return);break;case 30:break;default:Ta(v,x,u)}o=o.sibling}}function H0(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&nd(u))}function q0(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&nd(i))}function Us(i,o,u,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)sT(i,o,u,f),o=o.sibling}function sT(i,o,u,f){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Us(i,o,u,f),v&2048&&gd(9,o);break;case 1:Us(i,o,u,f);break;case 3:Us(i,o,u,f),v&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&nd(i)));break;case 12:if(v&2048){Us(i,o,u,f),i=o.stateNode;try{var x=o.memoizedProps,C=x.id,k=x.onPostCommit;typeof k=="function"&&k(C,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(B){Et(o,o.return,B)}}else Us(i,o,u,f);break;case 13:Us(i,o,u,f);break;case 23:break;case 22:x=o.stateNode,C=o.alternate,o.memoizedState!==null?x._visibility&2?Us(i,o,u,f):yd(i,o):x._visibility&2?Us(i,o,u,f):(x._visibility|=2,xu(i,o,u,f,(o.subtreeFlags&10256)!==0)),v&2048&&H0(C,o);break;case 24:Us(i,o,u,f),v&2048&&q0(o.alternate,o);break;default:Us(i,o,u,f)}}function xu(i,o,u,f,v){for(v=v&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var x=i,C=o,k=u,B=f,J=C.flags;switch(C.tag){case 0:case 11:case 15:xu(x,C,k,B,v),gd(8,C);break;case 23:break;case 22:var oe=C.stateNode;C.memoizedState!==null?oe._visibility&2?xu(x,C,k,B,v):yd(x,C):(oe._visibility|=2,xu(x,C,k,B,v)),v&&J&2048&&H0(C.alternate,C);break;case 24:xu(x,C,k,B,v),v&&J&2048&&q0(C.alternate,C);break;default:xu(x,C,k,B,v)}o=o.sibling}}function yd(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,f=o,v=f.flags;switch(f.tag){case 22:yd(u,f),v&2048&&H0(f.alternate,f);break;case 24:yd(u,f),v&2048&&q0(f.alternate,f);break;default:yd(u,f)}o=o.sibling}}var bd=8192;function _u(i){if(i.subtreeFlags&bd)for(i=i.child;i!==null;)iT(i),i=i.sibling}function iT(i){switch(i.tag){case 26:_u(i),i.flags&bd&&i.memoizedState!==null&&v3(os,i.memoizedState,i.memoizedProps);break;case 5:_u(i);break;case 3:case 4:var o=os;os=Mm(i.stateNode.containerInfo),_u(i),os=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=bd,bd=16777216,_u(i),bd=o):_u(i));break;default:_u(i)}}function aT(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function wd(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];Rn=f,lT(f,i)}aT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)oT(i),i=i.sibling}function oT(i){switch(i.tag){case 0:case 11:case 15:wd(i),i.flags&2048&&Ea(9,i,i.return);break;case 3:wd(i);break;case 12:wd(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,xm(i)):wd(i);break;default:wd(i)}}function xm(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];Rn=f,lT(f,i)}aT(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Ea(8,o,o.return),xm(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,xm(o));break;default:xm(o)}i=i.sibling}}function lT(i,o){for(;Rn!==null;){var u=Rn;switch(u.tag){case 0:case 11:case 15:Ea(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:nd(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Rn=f;else e:for(u=i;Rn!==null;){f=Rn;var v=f.sibling,x=f.return;if(JS(f),f===u){Rn=null;break e}if(v!==null){v.return=x,Rn=v;break e}Rn=x}}}var ML={getCacheForType:function(i){var o=qn(vn),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u}},DL=typeof WeakMap=="function"?WeakMap:Map,mt=0,Nt=null,Ze=null,it=0,pt=0,Ar=null,Ra=!1,Eu=!1,W0=!1,Oi=0,Bt=0,Aa=0,sl=0,K0=0,Wr=0,Su=0,xd=null,gr=null,Y0=!1,X0=0,_m=1/0,Em=null,Ca=null,jn=0,Na=null,Tu=null,Ru=0,Q0=0,Z0=null,uT=null,_d=0,J0=null;function Cr(){if((mt&2)!==0&&it!==0)return it&-it;if(K.T!==null){var i=hu;return i!==0?i:ay()}return ca()}function cT(){Wr===0&&(Wr=(it&536870912)===0||ut?Pc():536870912);var i=qr.current;return i!==null&&(i.flags|=32),Wr}function Nr(i,o,u){(i===Nt&&(pt===2||pt===9)||i.cancelPendingCommit!==null)&&(Au(i,0),Ia(i,it,Wr,!1)),hi(i,u),((mt&2)===0||i!==Nt)&&(i===Nt&&((mt&2)===0&&(sl|=u),Bt===4&&Ia(i,it,Wr,!1)),Fs(i))}function dT(i,o,u){if((mt&6)!==0)throw Error(r(327));var f=!u&&(o&124)===0&&(o&i.expiredLanes)===0||Io(i,o),v=f?LL(i,o):ny(i,o,!0),x=f;do{if(v===0){Eu&&!f&&Ia(i,o,0,!1);break}else{if(u=i.current.alternate,x&&!OL(u)){v=ny(i,o,!1),x=!1;continue}if(v===2){if(x=o,i.errorRecoveryDisabledLanes&x)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var k=i;v=xd;var B=k.current.memoizedState.isDehydrated;if(B&&(Au(k,C).flags|=256),C=ny(k,C,!1),C!==2){if(W0&&!B){k.errorRecoveryDisabledLanes|=x,sl|=x,v=4;break e}x=gr,gr=v,x!==null&&(gr===null?gr=x:gr.push.apply(gr,x))}v=C}if(x=!1,v!==2)continue}}if(v===1){Au(i,0),Ia(i,o,0,!0);break}e:{switch(f=i,x=v,x){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Ia(f,o,Wr,!Ra);break e;case 2:gr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=X0+300-q(),10<v)){if(Ia(f,o,Wr,!Ra),Gl(f,0,!0)!==0)break e;f.timeoutHandle=FT(fT.bind(null,f,u,gr,Em,Y0,o,Wr,sl,Su,Ra,x,2,-0,0),v);break e}fT(f,u,gr,Em,Y0,o,Wr,sl,Su,Ra,x,0,-0,0)}}break}while(!0);Fs(i)}function fT(i,o,u,f,v,x,C,k,B,J,oe,ce,te,re){if(i.timeoutHandle=-1,ce=o.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(Nd={stylesheets:null,count:0,unsuspend:g3},iT(o),ce=y3(),ce!==null)){i.cancelPendingCommit=ce(bT.bind(null,i,o,x,u,f,v,C,k,B,oe,1,te,re)),Ia(i,x,C,!J);return}bT(i,o,x,u,f,v,C,k,B)}function OL(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var v=u[f],x=v.getSnapshot;v=v.value;try{if(!Er(x(),v))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ia(i,o,u,f){o&=~K0,o&=~sl,i.suspendedLanes|=o,i.pingedLanes&=~o,f&&(i.warmLanes|=o),f=i.expirationTimes;for(var v=o;0<v;){var x=31-Hn(v),C=1<<x;f[x]=-1,v&=~C}u!==0&&Ts(i,u,o)}function Sm(){return(mt&6)===0?(Ed(0),!1):!0}function ey(){if(Ze!==null){if(pt===0)var i=Ze.return;else i=Ze,Ai=Zo=null,v0(i),bu=null,hd=0,i=Ze;for(;i!==null;)HS(i.alternate,i),i=i.return;Ze=null}}function Au(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,JL(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),ey(),Nt=i,Ze=u=Si(i.current,null),it=o,pt=0,Ar=null,Ra=!1,Eu=Io(i,o),W0=!1,Su=Wr=K0=sl=Aa=Bt=0,gr=xd=null,Y0=!1,(o&8)!==0&&(o|=o&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=o;0<f;){var v=31-Hn(f),x=1<<v;o|=i[v],f&=~x}return Oi=o,qh(),u}function hT(i,o){Ke=null,K.H=dm,o===sd||o===tm?(o=I1(),pt=3):o===A1?(o=I1(),pt=4):pt=o===PS?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ar=o,Ze===null&&(Bt=1,gm(i,$r(o,i.current)))}function mT(){var i=K.H;return K.H=dm,i===null?dm:i}function pT(){var i=K.A;return K.A=ML,i}function ty(){Bt=4,Ra||(it&4194048)!==it&&qr.current!==null||(Eu=!0),(Aa&134217727)===0&&(sl&134217727)===0||Nt===null||Ia(Nt,it,Wr,!1)}function ny(i,o,u){var f=mt;mt|=2;var v=mT(),x=pT();(Nt!==i||it!==o)&&(Em=null,Au(i,o)),o=!1;var C=Bt;e:do try{if(pt!==0&&Ze!==null){var k=Ze,B=Ar;switch(pt){case 8:ey(),C=6;break e;case 3:case 2:case 9:case 6:qr.current===null&&(o=!0);var J=pt;if(pt=0,Ar=null,Cu(i,k,B,J),u&&Eu){C=0;break e}break;default:J=pt,pt=0,Ar=null,Cu(i,k,B,J)}}jL(),C=Bt;break}catch(oe){hT(i,oe)}while(!0);return o&&i.shellSuspendCounter++,Ai=Zo=null,mt=f,K.H=v,K.A=x,Ze===null&&(Nt=null,it=0,qh()),C}function jL(){for(;Ze!==null;)gT(Ze)}function LL(i,o){var u=mt;mt|=2;var f=mT(),v=pT();Nt!==i||it!==o?(Em=null,_m=q()+500,Au(i,o)):Eu=Io(i,o);e:do try{if(pt!==0&&Ze!==null){o=Ze;var x=Ar;t:switch(pt){case 1:pt=0,Ar=null,Cu(i,o,x,1);break;case 2:case 9:if(C1(x)){pt=0,Ar=null,vT(o);break}o=function(){pt!==2&&pt!==9||Nt!==i||(pt=7),Fs(i)},x.then(o,o);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:C1(x)?(pt=0,Ar=null,vT(o)):(pt=0,Ar=null,Cu(i,o,x,7));break;case 5:var C=null;switch(Ze.tag){case 26:C=Ze.memoizedState;case 5:case 27:var k=Ze;if(!C||ZT(C)){pt=0,Ar=null;var B=k.sibling;if(B!==null)Ze=B;else{var J=k.return;J!==null?(Ze=J,Tm(J)):Ze=null}break t}}pt=0,Ar=null,Cu(i,o,x,5);break;case 6:pt=0,Ar=null,Cu(i,o,x,6);break;case 8:ey(),Bt=6;break e;default:throw Error(r(462))}}VL();break}catch(oe){hT(i,oe)}while(!0);return Ai=Zo=null,K.H=f,K.A=v,mt=u,Ze!==null?0:(Nt=null,it=0,qh(),Bt)}function VL(){for(;Ze!==null&&!Ro();)gT(Ze)}function gT(i){var o=BS(i.alternate,i,Oi);i.memoizedProps=i.pendingProps,o===null?Tm(i):Ze=o}function vT(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=LS(u,o,o.pendingProps,o.type,void 0,it);break;case 11:o=LS(u,o,o.pendingProps,o.type.render,o.ref,it);break;case 5:v0(o);default:HS(u,o),o=Ze=y1(o,Oi),o=BS(u,o,Oi)}i.memoizedProps=i.pendingProps,o===null?Tm(i):Ze=o}function Cu(i,o,u,f){Ai=Zo=null,v0(o),bu=null,hd=0;var v=o.return;try{if(AL(i,v,o,u,it)){Bt=1,gm(i,$r(u,i.current)),Ze=null;return}}catch(x){if(v!==null)throw Ze=v,x;Bt=1,gm(i,$r(u,i.current)),Ze=null;return}o.flags&32768?(ut||f===1?i=!0:Eu||(it&536870912)!==0?i=!1:(Ra=i=!0,(f===2||f===9||f===3||f===6)&&(f=qr.current,f!==null&&f.tag===13&&(f.flags|=16384))),yT(o,i)):Tm(o)}function Tm(i){var o=i;do{if((o.flags&32768)!==0){yT(o,Ra);return}i=o.return;var u=NL(o.alternate,o,Oi);if(u!==null){Ze=u;return}if(o=o.sibling,o!==null){Ze=o;return}Ze=o=i}while(o!==null);Bt===0&&(Bt=5)}function yT(i,o){do{var u=IL(i.alternate,i);if(u!==null){u.flags&=32767,Ze=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){Ze=i;return}Ze=i=u}while(i!==null);Bt=6,Ze=null}function bT(i,o,u,f,v,x,C,k,B){i.cancelPendingCommit=null;do Rm();while(jn!==0);if((mt&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(x=o.lanes|o.childLanes,x|=qv,Mc(i,u,x,C,k,B),i===Nt&&(Ze=Nt=null,it=0),Tu=o,Na=i,Ru=u,Q0=x,Z0=v,uT=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,$L(At,function(){return ST(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=K.T,K.T=null,v=ie.p,ie.p=2,C=mt,mt|=4;try{PL(i,o,u)}finally{mt=C,ie.p=v,K.T=f}}jn=1,wT(),xT(),_T()}}function wT(){if(jn===1){jn=0;var i=Na,o=Tu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=K.T,K.T=null;var f=ie.p;ie.p=2;var v=mt;mt|=4;try{nT(o,i);var x=my,C=l1(i.containerInfo),k=x.focusedElem,B=x.selectionRange;if(C!==k&&k&&k.ownerDocument&&o1(k.ownerDocument.documentElement,k)){if(B!==null&&zv(k)){var J=B.start,oe=B.end;if(oe===void 0&&(oe=J),"selectionStart"in k)k.selectionStart=J,k.selectionEnd=Math.min(oe,k.value.length);else{var ce=k.ownerDocument||document,te=ce&&ce.defaultView||window;if(te.getSelection){var re=te.getSelection(),Ve=k.textContent.length,Me=Math.min(B.start,Ve),xt=B.end===void 0?Me:Math.min(B.end,Ve);!re.extend&&Me>xt&&(C=xt,xt=Me,Me=C);var W=a1(k,Me),H=a1(k,xt);if(W&&H&&(re.rangeCount!==1||re.anchorNode!==W.node||re.anchorOffset!==W.offset||re.focusNode!==H.node||re.focusOffset!==H.offset)){var Z=ce.createRange();Z.setStart(W.node,W.offset),re.removeAllRanges(),Me>xt?(re.addRange(Z),re.extend(H.node,H.offset)):(Z.setEnd(H.node,H.offset),re.addRange(Z))}}}}for(ce=[],re=k;re=re.parentNode;)re.nodeType===1&&ce.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ce.length;k++){var ue=ce[k];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Vm=!!hy,my=hy=null}finally{mt=v,ie.p=f,K.T=u}}i.current=o,jn=2}}function xT(){if(jn===2){jn=0;var i=Na,o=Tu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=K.T,K.T=null;var f=ie.p;ie.p=2;var v=mt;mt|=4;try{ZS(i,o.alternate,o)}finally{mt=v,ie.p=f,K.T=u}}jn=3}}function _T(){if(jn===4||jn===3){jn=0,Bl();var i=Na,o=Tu,u=Ru,f=uT;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?jn=5:(jn=0,Tu=Na=null,ET(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(Ca=null),Hl(u),o=o.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(Ct,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=K.T,v=ie.p,ie.p=2,K.T=null;try{for(var x=i.onRecoverableError,C=0;C<f.length;C++){var k=f[C];x(k.value,{componentStack:k.stack})}}finally{K.T=o,ie.p=v}}(Ru&3)!==0&&Rm(),Fs(i),v=i.pendingLanes,(u&4194090)!==0&&(v&42)!==0?i===J0?_d++:(_d=0,J0=i):_d=0,Ed(0)}}function ET(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,nd(o)))}function Rm(i){return wT(),xT(),_T(),ST()}function ST(){if(jn!==5)return!1;var i=Na,o=Q0;Q0=0;var u=Hl(Ru),f=K.T,v=ie.p;try{ie.p=32>u?32:u,K.T=null,u=Z0,Z0=null;var x=Na,C=Ru;if(jn=0,Tu=Na=null,Ru=0,(mt&6)!==0)throw Error(r(331));var k=mt;if(mt|=4,oT(x.current),sT(x,x.current,C,u),mt=k,Ed(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(Ct,x)}catch{}return!0}finally{ie.p=v,K.T=f,ET(i,o)}}function TT(i,o,u){o=$r(u,o),o=P0(i.stateNode,o,2),i=ba(i,o,2),i!==null&&(hi(i,2),Fs(i))}function Et(i,o,u){if(i.tag===3)TT(i,i,u);else for(;o!==null;){if(o.tag===3){TT(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ca===null||!Ca.has(f))){i=$r(u,i),u=NS(2),f=ba(o,u,2),f!==null&&(IS(u,f,o,i),hi(f,2),Fs(f));break}}o=o.return}}function ry(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new DL;var v=new Set;f.set(o,v)}else v=f.get(o),v===void 0&&(v=new Set,f.set(o,v));v.has(u)||(W0=!0,v.add(u),i=UL.bind(null,i,o,u),o.then(i,i))}function UL(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Nt===i&&(it&u)===u&&(Bt===4||Bt===3&&(it&62914560)===it&&300>q()-X0?(mt&2)===0&&Au(i,0):K0|=u,Su===it&&(Su=0)),Fs(i)}function RT(i,o){o===0&&(o=kc()),i=uu(i,o),i!==null&&(hi(i,o),Fs(i))}function FL(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),RT(i,u)}function zL(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,v=i.memoizedState;v!==null&&(u=v.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(o),RT(i,u)}function $L(i,o){return Gn(i,o)}var Am=null,Nu=null,sy=!1,Cm=!1,iy=!1,il=0;function Fs(i){i!==Nu&&i.next===null&&(Nu===null?Am=Nu=i:Nu=Nu.next=i),Cm=!0,sy||(sy=!0,GL())}function Ed(i,o){if(!iy&&Cm){iy=!0;do for(var u=!1,f=Am;f!==null;){if(i!==0){var v=f.pendingLanes;if(v===0)var x=0;else{var C=f.suspendedLanes,k=f.pingedLanes;x=(1<<31-Hn(42|i)+1)-1,x&=v&~(C&~k),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(u=!0,IT(f,x))}else x=it,x=Gl(f,f===Nt?x:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(x&3)===0||Io(f,x)||(u=!0,IT(f,x));f=f.next}while(u);iy=!1}}function BL(){AT()}function AT(){Cm=sy=!1;var i=0;il!==0&&(ZL()&&(i=il),il=0);for(var o=q(),u=null,f=Am;f!==null;){var v=f.next,x=CT(f,o);x===0?(f.next=null,u===null?Am=v:u.next=v,v===null&&(Nu=u)):(u=f,(i!==0||(x&3)!==0)&&(Cm=!0)),f=v}Ed(i)}function CT(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,v=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var C=31-Hn(x),k=1<<C,B=v[C];B===-1?((k&u)===0||(k&f)!==0)&&(v[C]=Ic(k,o)):B<=o&&(i.expiredLanes|=k),x&=~k}if(o=Nt,u=it,u=Gl(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,u===0||i===o&&(pt===2||pt===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&di(f),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Io(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(f!==null&&di(f),Hl(u)){case 2:case 8:u=qe;break;case 32:u=At;break;case 268435456:u=kn;break;default:u=At}return f=NT.bind(null,i),u=Gn(u,f),i.callbackPriority=o,i.callbackNode=u,o}return f!==null&&f!==null&&di(f),i.callbackPriority=2,i.callbackNode=null,2}function NT(i,o){if(jn!==0&&jn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Rm()&&i.callbackNode!==u)return null;var f=it;return f=Gl(i,i===Nt?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(dT(i,f,o),CT(i,q()),i.callbackNode!=null&&i.callbackNode===u?NT.bind(null,i):null)}function IT(i,o){if(Rm())return null;dT(i,o,!0)}function GL(){e3(function(){(mt&6)!==0?Gn(ke,BL):AT()})}function ay(){return il===0&&(il=Pc()),il}function PT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ql(""+i)}function kT(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function HL(i,o,u,f,v){if(o==="submit"&&u&&u.stateNode===v){var x=PT((v[tn]||null).action),C=f.submitter;C&&(o=(o=C[tn]||null)?PT(o.formAction):C.getAttribute("formAction"),o!==null&&(x=o,C=null));var k=new Zl("action","action",null,f,v);i.push({event:k,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(il!==0){var B=C?kT(v,C):new FormData(v);R0(u,{pending:!0,data:B,method:v.method,action:x},null,B)}}else typeof x=="function"&&(k.preventDefault(),B=C?kT(v,C):new FormData(v),R0(u,{pending:!0,data:B,method:v.method,action:x},x,B))},currentTarget:v}]})}}for(var oy=0;oy<Hv.length;oy++){var ly=Hv[oy],qL=ly.toLowerCase(),WL=ly[0].toUpperCase()+ly.slice(1);as(qL,"on"+WL)}as(d1,"onAnimationEnd"),as(f1,"onAnimationIteration"),as(h1,"onAnimationStart"),as("dblclick","onDoubleClick"),as("focusin","onFocus"),as("focusout","onBlur"),as(cL,"onTransitionRun"),as(dL,"onTransitionStart"),as(fL,"onTransitionCancel"),as(m1,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sd));function MT(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],v=f.event;f=f.listeners;e:{var x=void 0;if(o)for(var C=f.length-1;0<=C;C--){var k=f[C],B=k.instance,J=k.currentTarget;if(k=k.listener,B!==x&&v.isPropagationStopped())break e;x=k,v.currentTarget=J;try{x(v)}catch(oe){pm(oe)}v.currentTarget=null,x=B}else for(C=0;C<f.length;C++){if(k=f[C],B=k.instance,J=k.currentTarget,k=k.listener,B!==x&&v.isPropagationStopped())break e;x=k,v.currentTarget=J;try{x(v)}catch(oe){pm(oe)}v.currentTarget=null,x=B}}}}function Je(i,o){var u=o[Oc];u===void 0&&(u=o[Oc]=new Set);var f=i+"__bubble";u.has(f)||(DT(o,i,2,!1),u.add(f))}function uy(i,o,u){var f=0;o&&(f|=4),DT(u,i,f,o)}var Nm="_reactListening"+Math.random().toString(36).slice(2);function cy(i){if(!i[Nm]){i[Nm]=!0,jc.forEach(function(u){u!=="selectionchange"&&(KL.has(u)||uy(u,!1,i),uy(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Nm]||(o[Nm]=!0,uy("selectionchange",!1,o))}}function DT(i,o,u,f){switch(sR(o)){case 2:var v=x3;break;case 8:v=_3;break;default:v=Sy}u=v.bind(null,o,u,i),v=void 0,!Fr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),f?v!==void 0?i.addEventListener(o,u,{capture:!0,passive:v}):i.addEventListener(o,u,!0):v!==void 0?i.addEventListener(o,u,{passive:v}):i.addEventListener(o,u,!1)}function dy(i,o,u,f,v){var x=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var k=f.stateNode.containerInfo;if(k===v)break;if(C===4)for(C=f.return;C!==null;){var B=C.tag;if((B===3||B===4)&&C.stateNode.containerInfo===v)return;C=C.return}for(;k!==null;){if(C=mi(k),C===null)return;if(B=C.tag,B===5||B===6||B===26||B===27){f=x=C;continue e}k=k.parentNode}}f=f.return}Ph(function(){var J=x,oe=Ur(u),ce=[];e:{var te=p1.get(i);if(te!==void 0){var re=Zl,Ve=i;switch(i){case"keypress":if(Ps(u)===0)break e;case"keydown":case"keyup":re=su;break;case"focusin":Ve="focus",re=tu;break;case"focusout":Ve="blur",re=tu;break;case"beforeblur":case"afterblur":re=tu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=zr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Lv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=Uh;break;case d1:case f1:case h1:re=nu;break;case m1:re=zh;break;case"scroll":case"scrollend":re=kh;break;case"wheel":re=iu;break;case"copy":case"cut":case"paste":re=ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Kc;break;case"toggle":case"beforetoggle":re=Bh}var Me=(o&4)!==0,xt=!Me&&(i==="scroll"||i==="scrollend"),W=Me?te!==null?te+"Capture":null:te;Me=[];for(var H=J,Z;H!==null;){var ue=H;if(Z=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Z===null||W===null||(ue=Vo(H,W),ue!=null&&Me.push(Td(H,ue,Z))),xt)break;H=H.return}0<Me.length&&(te=new re(te,Ve,null,u,oe),ce.push({event:te,listeners:Me}))}}if((o&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",re=i==="mouseout"||i==="pointerout",te&&u!==yi&&(Ve=u.relatedTarget||u.fromElement)&&(mi(Ve)||Ve[Lr]))break e;if((re||te)&&(te=oe.window===oe?oe:(te=oe.ownerDocument)?te.defaultView||te.parentWindow:window,re?(Ve=u.relatedTarget||u.toElement,re=J,Ve=Ve?mi(Ve):null,Ve!==null&&(xt=a(Ve),Me=Ve.tag,Ve!==xt||Me!==5&&Me!==27&&Me!==6)&&(Ve=null)):(re=null,Ve=J),re!==Ve)){if(Me=zr,ue="onMouseLeave",W="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(Me=Kc,ue="onPointerLeave",W="onPointerEnter",H="pointer"),xt=re==null?te:As(re),Z=Ve==null?te:As(Ve),te=new Me(ue,H+"leave",re,u,oe),te.target=xt,te.relatedTarget=Z,ue=null,mi(oe)===J&&(Me=new Me(W,H+"enter",Ve,u,oe),Me.target=Z,Me.relatedTarget=xt,ue=Me),xt=ue,re&&Ve)t:{for(Me=re,W=Ve,H=0,Z=Me;Z;Z=Iu(Z))H++;for(Z=0,ue=W;ue;ue=Iu(ue))Z++;for(;0<H-Z;)Me=Iu(Me),H--;for(;0<Z-H;)W=Iu(W),Z--;for(;H--;){if(Me===W||W!==null&&Me===W.alternate)break t;Me=Iu(Me),W=Iu(W)}Me=null}else Me=null;re!==null&&OT(ce,te,re,Me,!1),Ve!==null&&xt!==null&&OT(ce,xt,Ve,Me,!0)}}e:{if(te=J?As(J):window,re=te.nodeName&&te.nodeName.toLowerCase(),re==="select"||re==="input"&&te.type==="file")var we=e1;else if(gn(te))if(t1)we=oL;else{we=iL;var Qe=sL}else re=te.nodeName,!re||re.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&zc(J.elementType)&&(we=e1):we=aL;if(we&&(we=we(i,J))){Ei(ce,we,u,oe);break e}Qe&&Qe(i,te,J),i==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&ma(te,"number",te.value)}switch(Qe=J?As(J):window,i){case"focusin":(gn(Qe)||Qe.contentEditable==="true")&&(au=Qe,$v=J,Qc=null);break;case"focusout":Qc=$v=au=null;break;case"mousedown":Bv=!0;break;case"contextmenu":case"mouseup":case"dragend":Bv=!1,u1(ce,u,oe);break;case"selectionchange":if(uL)break;case"keydown":case"keyup":u1(ce,u,oe)}var Ce;if(Ds)e:{switch(i){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else rt?se(i,u)&&(De="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(De="onCompositionStart");De&&(A&&u.locale!=="ko"&&(rt||De!=="onCompositionStart"?De==="onCompositionEnd"&&rt&&(Ce=Bc()):(Is=oe,pa="value"in Is?Is.value:Is.textContent,rt=!0)),Qe=Im(J,De),0<Qe.length&&(De=new qc(De,i,null,u,oe),ce.push({event:De,listeners:Qe}),Ce?De.data=Ce:(Ce=he(u),Ce!==null&&(De.data=Ce)))),(Ce=S?pn(i,u):st(i,u))&&(De=Im(J,"onBeforeInput"),0<De.length&&(Qe=new qc("onBeforeInput","beforeinput",null,u,oe),ce.push({event:Qe,listeners:De}),Qe.data=Ce)),HL(ce,i,J,u,oe)}MT(ce,o)})}function Td(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Im(i,o){for(var u=o+"Capture",f=[];i!==null;){var v=i,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=Vo(i,u),v!=null&&f.unshift(Td(i,v,x)),v=Vo(i,o),v!=null&&f.push(Td(i,v,x))),i.tag===3)return f;i=i.return}return[]}function Iu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function OT(i,o,u,f,v){for(var x=o._reactName,C=[];u!==null&&u!==f;){var k=u,B=k.alternate,J=k.stateNode;if(k=k.tag,B!==null&&B===f)break;k!==5&&k!==26&&k!==27||J===null||(B=J,v?(J=Vo(u,x),J!=null&&C.unshift(Td(u,J,B))):v||(J=Vo(u,x),J!=null&&C.push(Td(u,J,B)))),u=u.return}C.length!==0&&i.push({event:o,listeners:C})}var YL=/\r\n?/g,XL=/\u0000|\uFFFD/g;function jT(i){return(typeof i=="string"?i:""+i).replace(YL,`
`).replace(XL,"")}function LT(i,o){return o=jT(o),jT(i)===o}function Pm(){}function wt(i,o,u,f,v,x){switch(u){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Vr(i,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Vr(i,""+f);break;case"className":Cs(i,"class",f);break;case"tabIndex":Cs(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Cs(i,u,f);break;case"style":Fc(i,f,x);break;case"data":if(o!=="object"){Cs(i,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=Ql(""+f),i.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(u==="formAction"?(o!=="input"&&wt(i,o,"name",v.name,v,null),wt(i,o,"formEncType",v.formEncType,v,null),wt(i,o,"formMethod",v.formMethod,v,null),wt(i,o,"formTarget",v.formTarget,v,null)):(wt(i,o,"encType",v.encType,v,null),wt(i,o,"method",v.method,v,null),wt(i,o,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=Ql(""+f),i.setAttribute(u,f);break;case"onClick":f!=null&&(i.onclick=Pm);break;case"onScroll":f!=null&&Je("scroll",i);break;case"onScrollEnd":f!=null&&Je("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}u=Ql(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""+f):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":f===!0?i.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,f):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(u,f):i.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(u):i.setAttribute(u,f);break;case"popover":Je("beforetoggle",i),Je("toggle",i),ha(i,"popover",f);break;case"xlinkActuate":Mn(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Mn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Mn(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Mn(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Mn(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Mn(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Mn(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Mn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Mn(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ha(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Ov.get(u)||u,ha(i,u,f))}}function fy(i,o,u,f,v,x){switch(u){case"style":Fc(i,f,x);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof f=="string"?Vr(i,f):(typeof f=="number"||typeof f=="bigint")&&Vr(i,""+f);break;case"onScroll":f!=null&&Je("scroll",i);break;case"onScrollEnd":f!=null&&Je("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Pm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ql.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),o=u.slice(2,v?u.length-7:void 0),x=i[tn]||null,x=x!=null?x[u]:null,typeof x=="function"&&i.removeEventListener(o,x,v),typeof f=="function")){typeof x!="function"&&x!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,f,v);break e}u in i?i[u]=f:f===!0?i.setAttribute(u,""):ha(i,u,f)}}}function Ln(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",i),Je("load",i);var f=!1,v=!1,x;for(x in u)if(u.hasOwnProperty(x)){var C=u[x];if(C!=null)switch(x){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:wt(i,o,x,C,u,null)}}v&&wt(i,o,"srcSet",u.srcSet,u,null),f&&wt(i,o,"src",u.src,u,null);return;case"input":Je("invalid",i);var k=x=C=v=null,B=null,J=null;for(f in u)if(u.hasOwnProperty(f)){var oe=u[f];if(oe!=null)switch(f){case"name":v=oe;break;case"type":C=oe;break;case"checked":B=oe;break;case"defaultChecked":J=oe;break;case"value":x=oe;break;case"defaultValue":k=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,o));break;default:wt(i,o,f,oe,u,null)}}Oo(i,x,k,B,J,C,v,!1),Xl(i);return;case"select":Je("invalid",i),f=C=x=null;for(v in u)if(u.hasOwnProperty(v)&&(k=u[v],k!=null))switch(v){case"value":x=k;break;case"defaultValue":C=k;break;case"multiple":f=k;default:wt(i,o,v,k,u,null)}o=x,u=C,i.multiple=!!f,o!=null?vi(i,!!f,o,!1):u!=null&&vi(i,!!f,u,!0);return;case"textarea":Je("invalid",i),x=v=f=null;for(C in u)if(u.hasOwnProperty(C)&&(k=u[C],k!=null))switch(C){case"value":f=k;break;case"defaultValue":v=k;break;case"children":x=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:wt(i,o,C,k,u,null)}jo(i,f,v,x),Xl(i);return;case"option":for(B in u)if(u.hasOwnProperty(B)&&(f=u[B],f!=null))switch(B){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:wt(i,o,B,f,u,null)}return;case"dialog":Je("beforetoggle",i),Je("toggle",i),Je("cancel",i),Je("close",i);break;case"iframe":case"object":Je("load",i);break;case"video":case"audio":for(f=0;f<Sd.length;f++)Je(Sd[f],i);break;case"image":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"embed":case"source":case"link":Je("error",i),Je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in u)if(u.hasOwnProperty(J)&&(f=u[J],f!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:wt(i,o,J,f,u,null)}return;default:if(zc(o)){for(oe in u)u.hasOwnProperty(oe)&&(f=u[oe],f!==void 0&&fy(i,o,oe,f,u,void 0));return}}for(k in u)u.hasOwnProperty(k)&&(f=u[k],f!=null&&wt(i,o,k,f,u,null))}function QL(i,o,u,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,C=null,k=null,B=null,J=null,oe=null;for(re in u){var ce=u[re];if(u.hasOwnProperty(re)&&ce!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":B=ce;default:f.hasOwnProperty(re)||wt(i,o,re,null,f,ce)}}for(var te in f){var re=f[te];if(ce=u[te],f.hasOwnProperty(te)&&(re!=null||ce!=null))switch(te){case"type":x=re;break;case"name":v=re;break;case"checked":J=re;break;case"defaultChecked":oe=re;break;case"value":C=re;break;case"defaultValue":k=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,o));break;default:re!==ce&&wt(i,o,te,re,f,ce)}}_r(i,C,k,B,J,oe,x,v);return;case"select":re=C=k=te=null;for(x in u)if(B=u[x],u.hasOwnProperty(x)&&B!=null)switch(x){case"value":break;case"multiple":re=B;default:f.hasOwnProperty(x)||wt(i,o,x,null,f,B)}for(v in f)if(x=f[v],B=u[v],f.hasOwnProperty(v)&&(x!=null||B!=null))switch(v){case"value":te=x;break;case"defaultValue":k=x;break;case"multiple":C=x;default:x!==B&&wt(i,o,v,x,f,B)}o=k,u=C,f=re,te!=null?vi(i,!!u,te,!1):!!f!=!!u&&(o!=null?vi(i,!!u,o,!0):vi(i,!!u,u?[]:"",!1));return;case"textarea":re=te=null;for(k in u)if(v=u[k],u.hasOwnProperty(k)&&v!=null&&!f.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:wt(i,o,k,null,f,v)}for(C in f)if(v=f[C],x=u[C],f.hasOwnProperty(C)&&(v!=null||x!=null))switch(C){case"value":te=v;break;case"defaultValue":re=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==x&&wt(i,o,C,v,f,x)}yt(i,te,re);return;case"option":for(var Ve in u)if(te=u[Ve],u.hasOwnProperty(Ve)&&te!=null&&!f.hasOwnProperty(Ve))switch(Ve){case"selected":i.selected=!1;break;default:wt(i,o,Ve,null,f,te)}for(B in f)if(te=f[B],re=u[B],f.hasOwnProperty(B)&&te!==re&&(te!=null||re!=null))switch(B){case"selected":i.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:wt(i,o,B,te,f,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in u)te=u[Me],u.hasOwnProperty(Me)&&te!=null&&!f.hasOwnProperty(Me)&&wt(i,o,Me,null,f,te);for(J in f)if(te=f[J],re=u[J],f.hasOwnProperty(J)&&te!==re&&(te!=null||re!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,o));break;default:wt(i,o,J,te,f,re)}return;default:if(zc(o)){for(var xt in u)te=u[xt],u.hasOwnProperty(xt)&&te!==void 0&&!f.hasOwnProperty(xt)&&fy(i,o,xt,void 0,f,te);for(oe in f)te=f[oe],re=u[oe],!f.hasOwnProperty(oe)||te===re||te===void 0&&re===void 0||fy(i,o,oe,te,f,re);return}}for(var W in u)te=u[W],u.hasOwnProperty(W)&&te!=null&&!f.hasOwnProperty(W)&&wt(i,o,W,null,f,te);for(ce in f)te=f[ce],re=u[ce],!f.hasOwnProperty(ce)||te===re||te==null&&re==null||wt(i,o,ce,te,f,re)}var hy=null,my=null;function km(i){return i.nodeType===9?i:i.ownerDocument}function VT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function UT(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function py(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var gy=null;function ZL(){var i=window.event;return i&&i.type==="popstate"?i===gy?!1:(gy=i,!0):(gy=null,!1)}var FT=typeof setTimeout=="function"?setTimeout:void 0,JL=typeof clearTimeout=="function"?clearTimeout:void 0,zT=typeof Promise=="function"?Promise:void 0,e3=typeof queueMicrotask=="function"?queueMicrotask:typeof zT<"u"?function(i){return zT.resolve(null).then(i).catch(t3)}:FT;function t3(i){setTimeout(function(){throw i})}function Pa(i){return i==="head"}function $T(i,o){var u=o,f=0,v=0;do{var x=u.nextSibling;if(i.removeChild(u),x&&x.nodeType===8)if(u=x.data,u==="/$"){if(0<f&&8>f){u=f;var C=i.ownerDocument;if(u&1&&Rd(C.documentElement),u&2&&Rd(C.body),u&4)for(u=C.head,Rd(u),C=u.firstChild;C;){var k=C.nextSibling,B=C.nodeName;C[Po]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&C.rel.toLowerCase()==="stylesheet"||u.removeChild(C),C=k}}if(v===0){i.removeChild(x),Dd(o);return}v--}else u==="$"||u==="$?"||u==="$!"?v++:f=u.charCodeAt(0)-48;else f=0;u=x}while(u);Dd(o)}function vy(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":vy(u),fa(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function n3(i,o,u,f){for(;i.nodeType===1;){var v=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[Po])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=ls(i.nextSibling),i===null)break}return null}function r3(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=ls(i.nextSibling),i===null))return null;return i}function yy(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function s3(i,o){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")o();else{var f=function(){o(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function ls(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var by=null;function BT(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}function GT(i,o,u){switch(o=km(u),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Rd(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);fa(i)}var Kr=new Map,HT=new Set;function Mm(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ji=ie.d;ie.d={f:i3,r:a3,D:o3,C:l3,L:u3,m:c3,X:f3,S:d3,M:h3};function i3(){var i=ji.f(),o=Sm();return i||o}function a3(i){var o=Rs(i);o!==null&&o.tag===5&&o.type==="form"?dS(o):ji.r(i)}var Pu=typeof document>"u"?null:document;function qT(i,o,u){var f=Pu;if(f&&typeof o=="string"&&o){var v=nn(o);v='link[rel="'+i+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),HT.has(v)||(HT.add(v),i={rel:i,crossOrigin:u,href:o},f.querySelector(v)===null&&(o=f.createElement("link"),Ln(o,"link",i),Yt(o),f.head.appendChild(o)))}}function o3(i){ji.D(i),qT("dns-prefetch",i,null)}function l3(i,o){ji.C(i,o),qT("preconnect",i,o)}function u3(i,o,u){ji.L(i,o,u);var f=Pu;if(f&&i&&o){var v='link[rel="preload"][as="'+nn(o)+'"]';o==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+nn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+nn(u.imageSizes)+'"]')):v+='[href="'+nn(i)+'"]';var x=v;switch(o){case"style":x=ku(i);break;case"script":x=Mu(i)}Kr.has(x)||(i=m({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),Kr.set(x,i),f.querySelector(v)!==null||o==="style"&&f.querySelector(Ad(x))||o==="script"&&f.querySelector(Cd(x))||(o=f.createElement("link"),Ln(o,"link",i),Yt(o),f.head.appendChild(o)))}}function c3(i,o){ji.m(i,o);var u=Pu;if(u&&i){var f=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+nn(f)+'"][href="'+nn(i)+'"]',x=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Mu(i)}if(!Kr.has(x)&&(i=m({rel:"modulepreload",href:i},o),Kr.set(x,i),u.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Cd(x)))return}f=u.createElement("link"),Ln(f,"link",i),Yt(f),u.head.appendChild(f)}}}function d3(i,o,u){ji.S(i,o,u);var f=Pu;if(f&&i){var v=rr(f).hoistableStyles,x=ku(i);o=o||"default";var C=v.get(x);if(!C){var k={loading:0,preload:null};if(C=f.querySelector(Ad(x)))k.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":o},u),(u=Kr.get(x))&&wy(i,u);var B=C=f.createElement("link");Yt(B),Ln(B,"link",i),B._p=new Promise(function(J,oe){B.onload=J,B.onerror=oe}),B.addEventListener("load",function(){k.loading|=1}),B.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Dm(C,o,f)}C={type:"stylesheet",instance:C,count:1,state:k},v.set(x,C)}}}function f3(i,o){ji.X(i,o);var u=Pu;if(u&&i){var f=rr(u).hoistableScripts,v=Mu(i),x=f.get(v);x||(x=u.querySelector(Cd(v)),x||(i=m({src:i,async:!0},o),(o=Kr.get(v))&&xy(i,o),x=u.createElement("script"),Yt(x),Ln(x,"link",i),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(v,x))}}function h3(i,o){ji.M(i,o);var u=Pu;if(u&&i){var f=rr(u).hoistableScripts,v=Mu(i),x=f.get(v);x||(x=u.querySelector(Cd(v)),x||(i=m({src:i,async:!0,type:"module"},o),(o=Kr.get(v))&&xy(i,o),x=u.createElement("script"),Yt(x),Ln(x,"link",i),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(v,x))}}function WT(i,o,u,f){var v=(v=ge.current)?Mm(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=ku(u.href),u=rr(v).hoistableStyles,f=u.get(o),f||(f={type:"style",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=ku(u.href);var x=rr(v).hoistableStyles,C=x.get(i);if(C||(v=v.ownerDocument||v,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,C),(x=v.querySelector(Ad(i)))&&!x._p&&(C.instance=x,C.state.loading=5),Kr.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Kr.set(i,u),x||m3(v,i,u,C.state))),o&&f===null)throw Error(r(528,""));return C}if(o&&f!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Mu(u),u=rr(v).hoistableScripts,f=u.get(o),f||(f={type:"script",instance:null,count:0,state:null},u.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ku(i){return'href="'+nn(i)+'"'}function Ad(i){return'link[rel="stylesheet"]['+i+"]"}function KT(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function m3(i,o,u,f){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=i.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Ln(o,"link",u),Yt(o),i.head.appendChild(o))}function Mu(i){return'[src="'+nn(i)+'"]'}function Cd(i){return"script[async]"+i}function YT(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var f=i.querySelector('style[data-href~="'+nn(u.href)+'"]');if(f)return o.instance=f,Yt(f),f;var v=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),Yt(f),Ln(f,"style",v),Dm(f,u.precedence,i),o.instance=f;case"stylesheet":v=ku(u.href);var x=i.querySelector(Ad(v));if(x)return o.state.loading|=4,o.instance=x,Yt(x),x;f=KT(u),(v=Kr.get(v))&&wy(f,v),x=(i.ownerDocument||i).createElement("link"),Yt(x);var C=x;return C._p=new Promise(function(k,B){C.onload=k,C.onerror=B}),Ln(x,"link",f),o.state.loading|=4,Dm(x,u.precedence,i),o.instance=x;case"script":return x=Mu(u.src),(v=i.querySelector(Cd(x)))?(o.instance=v,Yt(v),v):(f=u,(v=Kr.get(x))&&(f=m({},u),xy(f,v)),i=i.ownerDocument||i,v=i.createElement("script"),Yt(v),Ln(v,"link",f),i.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,Dm(f,u.precedence,i));return o.instance}function Dm(i,o,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,x=v,C=0;C<f.length;C++){var k=f[C];if(k.dataset.precedence===o)x=k;else if(x!==v)break}x?x.parentNode.insertBefore(i,x.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function wy(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function xy(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Om=null;function XT(i,o,u){if(Om===null){var f=new Map,v=Om=new Map;v.set(u,f)}else v=Om,f=v.get(u),f||(f=new Map,v.set(u,f));if(f.has(i))return f;for(f.set(i,null),u=u.getElementsByTagName(i),v=0;v<u.length;v++){var x=u[v];if(!(x[Po]||x[mn]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var C=x.getAttribute(o)||"";C=i+C;var k=f.get(C);k?k.push(x):f.set(C,[x])}}return f}function QT(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function p3(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function ZT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Nd=null;function g3(){}function v3(i,o,u){if(Nd===null)throw Error(r(475));var f=Nd;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=ku(u.href),x=i.querySelector(Ad(v));if(x){i=x._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=jm.bind(f),i.then(f,f)),o.state.loading|=4,o.instance=x,Yt(x);return}x=i.ownerDocument||i,u=KT(u),(v=Kr.get(v))&&wy(u,v),x=x.createElement("link"),Yt(x);var C=x;C._p=new Promise(function(k,B){C.onload=k,C.onerror=B}),Ln(x,"link",u),o.instance=x}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(f.count++,o=jm.bind(f),i.addEventListener("load",o),i.addEventListener("error",o))}}function y3(){if(Nd===null)throw Error(r(475));var i=Nd;return i.stylesheets&&i.count===0&&_y(i,i.stylesheets),0<i.count?function(o){var u=setTimeout(function(){if(i.stylesheets&&_y(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u)}}:null}function jm(){if(this.count--,this.count===0){if(this.stylesheets)_y(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Lm=null;function _y(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Lm=new Map,o.forEach(b3,i),Lm=null,jm.call(i))}function b3(i,o){if(!(o.state.loading&4)){var u=Lm.get(i);if(u)var f=u.get(null);else{u=new Map,Lm.set(i,u);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var C=v[x];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(u.set(C.dataset.precedence,C),f=C)}f&&u.set(null,f)}v=o.instance,C=v.getAttribute("data-precedence"),x=u.get(C)||f,x===f&&u.set(null,v),u.set(C,v),this.count++,f=jm.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),x?x.parentNode.insertBefore(v,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),o.state.loading|=4}}var Id={$$typeof:M,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function w3(i,o,u,f,v,x,C,k){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function JT(i,o,u,f,v,x,C,k,B,J,oe,ce){return i=new w3(i,o,u,C,k,B,J,ce),o=1,x===!0&&(o|=24),x=Sr(3,null,null,o),i.current=x,x.stateNode=i,o=r0(),o.refCount++,i.pooledCache=o,o.refCount++,x.memoizedState={element:f,isDehydrated:u,cache:o},o0(x),i}function eR(i){return i?(i=cu,i):cu}function tR(i,o,u,f,v,x){v=eR(v),f.context===null?f.context=v:f.pendingContext=v,f=ya(o),f.payload={element:u},x=x===void 0?null:x,x!==null&&(f.callback=x),u=ba(i,f,o),u!==null&&(Nr(u,i,o),ad(u,i,o))}function nR(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Ey(i,o){nR(i,o),(i=i.alternate)&&nR(i,o)}function rR(i){if(i.tag===13){var o=uu(i,67108864);o!==null&&Nr(o,i,67108864),Ey(i,67108864)}}var Vm=!0;function x3(i,o,u,f){var v=K.T;K.T=null;var x=ie.p;try{ie.p=2,Sy(i,o,u,f)}finally{ie.p=x,K.T=v}}function _3(i,o,u,f){var v=K.T;K.T=null;var x=ie.p;try{ie.p=8,Sy(i,o,u,f)}finally{ie.p=x,K.T=v}}function Sy(i,o,u,f){if(Vm){var v=Ty(f);if(v===null)dy(i,o,f,Um,u),iR(i,f);else if(S3(v,i,o,u,f))f.stopPropagation();else if(iR(i,f),o&4&&-1<E3.indexOf(i)){for(;v!==null;){var x=Rs(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var C=rs(x.pendingLanes);if(C!==0){var k=x;for(k.pendingLanes|=2,k.entangledLanes|=2;C;){var B=1<<31-Hn(C);k.entanglements[1]|=B,C&=~B}Fs(x),(mt&6)===0&&(_m=q()+500,Ed(0))}}break;case 13:k=uu(x,2),k!==null&&Nr(k,x,2),Sm(),Ey(x,2)}if(x=Ty(f),x===null&&dy(i,o,f,Um,u),x===v)break;v=x}v!==null&&f.stopPropagation()}else dy(i,o,f,null,u)}}function Ty(i){return i=Ur(i),Ry(i)}var Um=null;function Ry(i){if(Um=null,i=mi(i),i!==null){var o=a(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=l(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Um=i,null}function sR(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case ke:return 2;case qe:return 8;case At:case _n:return 32;case kn:return 268435456;default:return 32}default:return 32}}var Ay=!1,ka=null,Ma=null,Da=null,Pd=new Map,kd=new Map,Oa=[],E3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iR(i,o){switch(i){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":Pd.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":kd.delete(o.pointerId)}}function Md(i,o,u,f,v,x){return i===null||i.nativeEvent!==x?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:x,targetContainers:[v]},o!==null&&(o=Rs(o),o!==null&&rR(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function S3(i,o,u,f,v){switch(o){case"focusin":return ka=Md(ka,i,o,u,f,v),!0;case"dragenter":return Ma=Md(Ma,i,o,u,f,v),!0;case"mouseover":return Da=Md(Da,i,o,u,f,v),!0;case"pointerover":var x=v.pointerId;return Pd.set(x,Md(Pd.get(x)||null,i,o,u,f,v)),!0;case"gotpointercapture":return x=v.pointerId,kd.set(x,Md(kd.get(x)||null,i,o,u,f,v)),!0}return!1}function aR(i){var o=mi(i.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){i.blockedOn=o,Sh(i.priority,function(){if(u.tag===13){var f=Cr();f=ua(f);var v=uu(u,f);v!==null&&Nr(v,u,f),Ey(u,f)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Fm(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Ty(i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);yi=f,u.target.dispatchEvent(f),yi=null}else return o=Rs(u),o!==null&&rR(o),i.blockedOn=u,!1;o.shift()}return!0}function oR(i,o,u){Fm(i)&&u.delete(o)}function T3(){Ay=!1,ka!==null&&Fm(ka)&&(ka=null),Ma!==null&&Fm(Ma)&&(Ma=null),Da!==null&&Fm(Da)&&(Da=null),Pd.forEach(oR),kd.forEach(oR)}function zm(i,o){i.blockedOn===o&&(i.blockedOn=null,Ay||(Ay=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,T3)))}var $m=null;function lR(i){$m!==i&&($m=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){$m===i&&($m=null);for(var o=0;o<i.length;o+=3){var u=i[o],f=i[o+1],v=i[o+2];if(typeof f!="function"){if(Ry(f||u)===null)continue;break}var x=Rs(u);x!==null&&(i.splice(o,3),o-=3,R0(x,{pending:!0,data:v,method:u.method,action:f},f,v))}}))}function Dd(i){function o(B){return zm(B,i)}ka!==null&&zm(ka,i),Ma!==null&&zm(Ma,i),Da!==null&&zm(Da,i),Pd.forEach(o),kd.forEach(o);for(var u=0;u<Oa.length;u++){var f=Oa[u];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Oa.length&&(u=Oa[0],u.blockedOn===null);)aR(u),u.blockedOn===null&&Oa.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var v=u[f],x=u[f+1],C=v[tn]||null;if(typeof x=="function")C||lR(u);else if(C){var k=null;if(x&&x.hasAttribute("formAction")){if(v=x,C=x[tn]||null)k=C.formAction;else if(Ry(v)!==null)continue}else k=C.action;typeof k=="function"?u[f+1]=k:(u.splice(f,3),f-=3),lR(u)}}}function Cy(i){this._internalRoot=i}Bm.prototype.render=Cy.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,f=Cr();tR(u,f,i,o,null,null)},Bm.prototype.unmount=Cy.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;tR(i.current,2,null,i,null,null),Sm(),o[Lr]=null}};function Bm(i){this._internalRoot=i}Bm.prototype.unstable_scheduleHydration=function(i){if(i){var o=ca();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Oa.length&&o!==0&&o<Oa[u].priority;u++);Oa.splice(u,0,i),u===0&&aR(i)}};var uR=e.version;if(uR!=="19.1.0")throw Error(r(527,uR,"19.1.0"));ie.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(o),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var R3={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gm.isDisabled&&Gm.supportsFiber)try{Ct=Gm.inject(R3),ht=Gm}catch{}}return jd.createRoot=function(i,o){if(!s(i))throw Error(r(299));var u=!1,f="",v=TS,x=RS,C=AS,k=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks)),o=JT(i,1,!1,null,null,u,f,v,x,C,k,null),i[Lr]=o.current,cy(i),new Cy(o)},jd.hydrateRoot=function(i,o,u){if(!s(i))throw Error(r(299));var f=!1,v="",x=TS,C=RS,k=AS,B=null,J=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(k=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(B=u.unstable_transitionCallbacks),u.formState!==void 0&&(J=u.formState)),o=JT(i,1,!0,o,u??null,f,v,x,C,k,B,J),o.context=eR(null),u=o.current,f=Cr(),f=ua(f),v=ya(f),v.callback=null,ba(u,v,f),u=f,o.current.lanes=u,hi(o,u),Fs(o),i[Lr]=o.current,cy(i),new Bm(o)},jd.version="19.1.0",jd}var bR;function j3(){if(bR)return Py.exports;bR=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Py.exports=O3(),Py.exports}var L3=j3();const V3="modulepreload",U3=function(t){return"/domino-gamer/"+t},wR={},ts=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let d=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");s=d(n.map(h=>{if(h=U3(h),h in wR)return;wR[h]=!0;const m=h.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${y}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":V3,m||(b.as="script"),b.crossOrigin="",b.href=h,c&&b.setAttribute("nonce",c),document.head.appendChild(b),m)return new Promise((_,E)=>{b.addEventListener("load",_),b.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};function xR(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Rg(...t){return e=>{let n=!1;const r=t.map(s=>{const a=xR(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():xR(t[s],null)}}}}function br(...t){return w.useCallback(Rg(...t),t)}function bf(t){const e=z3(t),n=w.forwardRef((r,s)=>{const{children:a,...l}=r,c=w.Children.toArray(a),d=c.find(B3);if(d){const h=d.props.children,m=c.map(y=>y===d?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:y);return p.jsx(e,{...l,ref:s,children:w.isValidElement(h)?w.cloneElement(h,void 0,m):null})}return p.jsx(e,{...l,ref:s,children:a})});return n.displayName=`${t}.Slot`,n}var F3=bf("Slot");function z3(t){const e=w.forwardRef((n,r)=>{const{children:s,...a}=n;if(w.isValidElement(s)){const l=H3(s),c=G3(a,s.props);return s.type!==w.Fragment&&(c.ref=r?Rg(r,l):l),w.cloneElement(s,c)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $3=Symbol("radix.slottable");function B3(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$3}function G3(t,e){const n={...e};for(const r in e){const s=t[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...c)=>{const d=a(...c);return s(...c),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...t,...n}}function H3(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function IN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=IN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gt(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=IN(t))&&(r&&(r+=" "),r+=e);return r}const _R=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ER=gt,q3=(t,e)=>n=>{var r;if(e?.variants==null)return ER(t,n?.class,n?.className);const{variants:s,defaultVariants:a}=e,l=Object.keys(s).map(h=>{const m=n?.[h],y=a?.[h];if(m===null)return null;const b=_R(m)||_R(y);return s[h][b]}),c=n&&Object.entries(n).reduce((h,m)=>{let[y,b]=m;return b===void 0||(h[y]=b),h},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:y,className:b,..._}=m;return Object.entries(_).every(E=>{let[T,R]=E;return Array.isArray(R)?R.includes({...a,...c}[T]):{...a,...c}[T]===R})?[...h,y,b]:h},[]);return ER(t,l,d,n?.class,n?.className)},mx="-",W3=t=>{const e=Y3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const c=l.split(mx);return c[0]===""&&c.length!==1&&c.shift(),PN(c,e)||K3(l)},getConflictingClassGroupIds:(l,c)=>{const d=n[l]||[];return c&&r[l]?[...d,...r[l]]:d}}},PN=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?PN(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(mx);return e.validators.find(({validator:l})=>l(a))?.classGroupId},SR=/^\[(.+)\]$/,K3=t=>{if(SR.test(t)){const e=SR.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Y3=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)Gb(n[s],r,s,e);return r},Gb=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:TR(e,s);a.classGroupId=n;return}if(typeof s=="function"){if(X3(s)){Gb(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,l])=>{Gb(l,TR(e,a),n,r)})})},TR=(t,e)=>{let n=t;return e.split(mx).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},X3=t=>t.isThemeGetter,Q3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(a,l)=>{n.set(a,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return s(a,l),l},set(a,l){n.has(a)?n.set(a,l):s(a,l)}}},Hb="!",qb=":",Z3=qb.length,J3=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const a=[];let l=0,c=0,d=0,h;for(let E=0;E<s.length;E++){let T=s[E];if(l===0&&c===0){if(T===qb){a.push(s.slice(d,E)),d=E+Z3;continue}if(T==="/"){h=E;continue}}T==="["?l++:T==="]"?l--:T==="("?c++:T===")"&&c--}const m=a.length===0?s:s.substring(d),y=e4(m),b=y!==m,_=h&&h>d?h-d:void 0;return{modifiers:a,hasImportantModifier:b,baseClassName:y,maybePostfixModifierPosition:_}};if(e){const s=e+qb,a=r;r=l=>l.startsWith(s)?a(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=a=>n({className:a,parseClassName:s})}return r},e4=t=>t.endsWith(Hb)?t.substring(0,t.length-1):t.startsWith(Hb)?t.substring(1):t,t4=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let a=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...a.sort(),l),a=[]):a.push(l)}),s.push(...a.sort()),s}},n4=t=>({cache:Q3(t.cacheSize),parseClassName:J3(t),sortModifiers:t4(t),...W3(t)}),r4=/\s+/,s4=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:a}=e,l=[],c=t.trim().split(r4);let d="";for(let h=c.length-1;h>=0;h-=1){const m=c[h],{isExternal:y,modifiers:b,hasImportantModifier:_,baseClassName:E,maybePostfixModifierPosition:T}=n(m);if(y){d=m+(d.length>0?" "+d:d);continue}let R=!!T,N=r(R?E.substring(0,T):E);if(!N){if(!R){d=m+(d.length>0?" "+d:d);continue}if(N=r(E),!N){d=m+(d.length>0?" "+d:d);continue}R=!1}const P=a(b).join(":"),M=_?P+Hb:P,F=M+N;if(l.includes(F))continue;l.push(F);const $=s(N,R);for(let X=0;X<$.length;++X){const O=$[X];l.push(M+O)}d=m+(d.length>0?" "+d:d)}return d};function i4(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=kN(e))&&(r&&(r+=" "),r+=n);return r}const kN=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=kN(t[r]))&&(n&&(n+=" "),n+=e);return n};function a4(t,...e){let n,r,s,a=l;function l(d){const h=e.reduce((m,y)=>y(m),t());return n=n4(h),r=n.cache.get,s=n.cache.set,a=c,c(d)}function c(d){const h=r(d);if(h)return h;const m=s4(d,n);return s(d,m),m}return function(){return a(i4.apply(null,arguments))}}const bn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},MN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,DN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,o4=/^\d+\/\d+$/,l4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,u4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,c4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,d4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,f4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Du=t=>o4.test(t),Ye=t=>!!t&&!Number.isNaN(Number(t)),La=t=>!!t&&Number.isInteger(Number(t)),Oy=t=>t.endsWith("%")&&Ye(t.slice(0,-1)),Li=t=>l4.test(t),h4=()=>!0,m4=t=>u4.test(t)&&!c4.test(t),ON=()=>!1,p4=t=>d4.test(t),g4=t=>f4.test(t),v4=t=>!xe(t)&&!_e(t),y4=t=>dc(t,VN,ON),xe=t=>MN.test(t),al=t=>dc(t,UN,m4),jy=t=>dc(t,E4,Ye),RR=t=>dc(t,jN,ON),b4=t=>dc(t,LN,g4),Hm=t=>dc(t,FN,p4),_e=t=>DN.test(t),Ld=t=>fc(t,UN),w4=t=>fc(t,S4),AR=t=>fc(t,jN),x4=t=>fc(t,VN),_4=t=>fc(t,LN),qm=t=>fc(t,FN,!0),dc=(t,e,n)=>{const r=MN.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},fc=(t,e,n=!1)=>{const r=DN.exec(t);return r?r[1]?e(r[1]):n:!1},jN=t=>t==="position"||t==="percentage",LN=t=>t==="image"||t==="url",VN=t=>t==="length"||t==="size"||t==="bg-size",UN=t=>t==="length",E4=t=>t==="number",S4=t=>t==="family-name",FN=t=>t==="shadow",T4=()=>{const t=bn("color"),e=bn("font"),n=bn("text"),r=bn("font-weight"),s=bn("tracking"),a=bn("leading"),l=bn("breakpoint"),c=bn("container"),d=bn("spacing"),h=bn("radius"),m=bn("shadow"),y=bn("inset-shadow"),b=bn("text-shadow"),_=bn("drop-shadow"),E=bn("blur"),T=bn("perspective"),R=bn("aspect"),N=bn("ease"),P=bn("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...F(),_e,xe],X=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],I=()=>[_e,xe,d],D=()=>[Du,"full","auto",...I()],L=()=>[La,"none","subgrid",_e,xe],z=()=>["auto",{span:["full",La,_e,xe]},La,_e,xe],G=()=>[La,"auto",_e,xe],U=()=>["auto","min","max","fr",_e,xe],ye=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Te=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...I()],ie=()=>[Du,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],Y=()=>[t,_e,xe],le=()=>[...F(),AR,RR,{position:[_e,xe]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ee=()=>["auto","cover","contain",x4,y4,{size:[_e,xe]}],fe=()=>[Oy,Ld,al],ne=()=>["","none","full",h,_e,xe],me=()=>["",Ye,Ld,al],Re=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],be=()=>[Ye,Oy,AR,RR],$e=()=>["","none",E,_e,xe],vt=()=>["none",Ye,_e,xe],fn=()=>["none",Ye,_e,xe],hn=()=>[Ye,_e,xe],Bn=()=>[Du,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Li],breakpoint:[Li],color:[h4],container:[Li],"drop-shadow":[Li],ease:["in","out","in-out"],font:[v4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Li],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Li],shadow:[Li],spacing:["px",Ye],text:[Li],"text-shadow":[Li],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Du,xe,_e,R]}],container:["container"],columns:[{columns:[Ye,xe,_e,c]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[La,"auto",_e,xe]}],basis:[{basis:[Du,"full","auto",c,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ye,Du,"auto","initial","none",xe]}],grow:[{grow:["",Ye,_e,xe]}],shrink:[{shrink:["",Ye,_e,xe]}],order:[{order:[La,"first","last","none",_e,xe]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...ye(),"normal"]}],"justify-items":[{"justify-items":[...Te(),"normal"]}],"justify-self":[{"justify-self":["auto",...Te()]}],"align-content":[{content:["normal",...ye()]}],"align-items":[{items:[...Te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Te(),{baseline:["","last"]}]}],"place-content":[{"place-content":ye()}],"place-items":[{"place-items":[...Te(),"baseline"]}],"place-self":[{"place-self":["auto",...Te()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:ie()}],w:[{w:[c,"screen",...ie()]}],"min-w":[{"min-w":[c,"screen","none",...ie()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...ie()]}],h:[{h:["screen","lh",...ie()]}],"min-h":[{"min-h":["screen","lh","none",...ie()]}],"max-h":[{"max-h":["screen","lh",...ie()]}],"font-size":[{text:["base",n,Ld,al]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,_e,jy]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Oy,xe]}],"font-family":[{font:[w4,xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,_e,xe]}],"line-clamp":[{"line-clamp":[Ye,"none",_e,jy]}],leading:[{leading:[a,...I()]}],"list-image":[{"list-image":["none",_e,xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_e,xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Y()}],"text-color":[{text:Y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Re(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ye,"from-font","auto",_e,al]}],"text-decoration-color":[{decoration:Y()}],"underline-offset":[{"underline-offset":[Ye,"auto",_e,xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e,xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e,xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:ee()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},La,_e,xe],radial:["",_e,xe],conic:[La,_e,xe]},_4,b4]}],"bg-color":[{bg:Y()}],"gradient-from-pos":[{from:fe()}],"gradient-via-pos":[{via:fe()}],"gradient-to-pos":[{to:fe()}],"gradient-from":[{from:Y()}],"gradient-via":[{via:Y()}],"gradient-to":[{to:Y()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Re(),"hidden","none"]}],"divide-style":[{divide:[...Re(),"hidden","none"]}],"border-color":[{border:Y()}],"border-color-x":[{"border-x":Y()}],"border-color-y":[{"border-y":Y()}],"border-color-s":[{"border-s":Y()}],"border-color-e":[{"border-e":Y()}],"border-color-t":[{"border-t":Y()}],"border-color-r":[{"border-r":Y()}],"border-color-b":[{"border-b":Y()}],"border-color-l":[{"border-l":Y()}],"divide-color":[{divide:Y()}],"outline-style":[{outline:[...Re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ye,_e,xe]}],"outline-w":[{outline:["",Ye,Ld,al]}],"outline-color":[{outline:Y()}],shadow:[{shadow:["","none",m,qm,Hm]}],"shadow-color":[{shadow:Y()}],"inset-shadow":[{"inset-shadow":["none",y,qm,Hm]}],"inset-shadow-color":[{"inset-shadow":Y()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Y()}],"ring-offset-w":[{"ring-offset":[Ye,al]}],"ring-offset-color":[{"ring-offset":Y()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":Y()}],"text-shadow":[{"text-shadow":["none",b,qm,Hm]}],"text-shadow-color":[{"text-shadow":Y()}],opacity:[{opacity:[Ye,_e,xe]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ye]}],"mask-image-linear-from-pos":[{"mask-linear-from":be()}],"mask-image-linear-to-pos":[{"mask-linear-to":be()}],"mask-image-linear-from-color":[{"mask-linear-from":Y()}],"mask-image-linear-to-color":[{"mask-linear-to":Y()}],"mask-image-t-from-pos":[{"mask-t-from":be()}],"mask-image-t-to-pos":[{"mask-t-to":be()}],"mask-image-t-from-color":[{"mask-t-from":Y()}],"mask-image-t-to-color":[{"mask-t-to":Y()}],"mask-image-r-from-pos":[{"mask-r-from":be()}],"mask-image-r-to-pos":[{"mask-r-to":be()}],"mask-image-r-from-color":[{"mask-r-from":Y()}],"mask-image-r-to-color":[{"mask-r-to":Y()}],"mask-image-b-from-pos":[{"mask-b-from":be()}],"mask-image-b-to-pos":[{"mask-b-to":be()}],"mask-image-b-from-color":[{"mask-b-from":Y()}],"mask-image-b-to-color":[{"mask-b-to":Y()}],"mask-image-l-from-pos":[{"mask-l-from":be()}],"mask-image-l-to-pos":[{"mask-l-to":be()}],"mask-image-l-from-color":[{"mask-l-from":Y()}],"mask-image-l-to-color":[{"mask-l-to":Y()}],"mask-image-x-from-pos":[{"mask-x-from":be()}],"mask-image-x-to-pos":[{"mask-x-to":be()}],"mask-image-x-from-color":[{"mask-x-from":Y()}],"mask-image-x-to-color":[{"mask-x-to":Y()}],"mask-image-y-from-pos":[{"mask-y-from":be()}],"mask-image-y-to-pos":[{"mask-y-to":be()}],"mask-image-y-from-color":[{"mask-y-from":Y()}],"mask-image-y-to-color":[{"mask-y-to":Y()}],"mask-image-radial":[{"mask-radial":[_e,xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":be()}],"mask-image-radial-to-pos":[{"mask-radial-to":be()}],"mask-image-radial-from-color":[{"mask-radial-from":Y()}],"mask-image-radial-to-color":[{"mask-radial-to":Y()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":F()}],"mask-image-conic-pos":[{"mask-conic":[Ye]}],"mask-image-conic-from-pos":[{"mask-conic-from":be()}],"mask-image-conic-to-pos":[{"mask-conic-to":be()}],"mask-image-conic-from-color":[{"mask-conic-from":Y()}],"mask-image-conic-to-color":[{"mask-conic-to":Y()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:ee()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",_e,xe]}],filter:[{filter:["","none",_e,xe]}],blur:[{blur:$e()}],brightness:[{brightness:[Ye,_e,xe]}],contrast:[{contrast:[Ye,_e,xe]}],"drop-shadow":[{"drop-shadow":["","none",_,qm,Hm]}],"drop-shadow-color":[{"drop-shadow":Y()}],grayscale:[{grayscale:["",Ye,_e,xe]}],"hue-rotate":[{"hue-rotate":[Ye,_e,xe]}],invert:[{invert:["",Ye,_e,xe]}],saturate:[{saturate:[Ye,_e,xe]}],sepia:[{sepia:["",Ye,_e,xe]}],"backdrop-filter":[{"backdrop-filter":["","none",_e,xe]}],"backdrop-blur":[{"backdrop-blur":$e()}],"backdrop-brightness":[{"backdrop-brightness":[Ye,_e,xe]}],"backdrop-contrast":[{"backdrop-contrast":[Ye,_e,xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ye,_e,xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ye,_e,xe]}],"backdrop-invert":[{"backdrop-invert":["",Ye,_e,xe]}],"backdrop-opacity":[{"backdrop-opacity":[Ye,_e,xe]}],"backdrop-saturate":[{"backdrop-saturate":[Ye,_e,xe]}],"backdrop-sepia":[{"backdrop-sepia":["",Ye,_e,xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_e,xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ye,"initial",_e,xe]}],ease:[{ease:["linear","initial",N,_e,xe]}],delay:[{delay:[Ye,_e,xe]}],animate:[{animate:["none",P,_e,xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,_e,xe]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:vt()}],"rotate-x":[{"rotate-x":vt()}],"rotate-y":[{"rotate-y":vt()}],"rotate-z":[{"rotate-z":vt()}],scale:[{scale:fn()}],"scale-x":[{"scale-x":fn()}],"scale-y":[{"scale-y":fn()}],"scale-z":[{"scale-z":fn()}],"scale-3d":["scale-3d"],skew:[{skew:hn()}],"skew-x":[{"skew-x":hn()}],"skew-y":[{"skew-y":hn()}],transform:[{transform:[_e,xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Bn()}],"translate-x":[{"translate-x":Bn()}],"translate-y":[{"translate-y":Bn()}],"translate-z":[{"translate-z":Bn()}],"translate-none":["translate-none"],accent:[{accent:Y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e,xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e,xe]}],fill:[{fill:["none",...Y()]}],"stroke-w":[{stroke:[Ye,Ld,al,jy]}],stroke:[{stroke:["none",...Y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},R4=a4(T4);function Lt(...t){return R4(gt(t))}const A4=q3("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function cs({className:t,variant:e,size:n,asChild:r=!1,...s}){const a=r?F3:"button";return p.jsx(a,{"data-slot":"button",className:Lt(A4({variant:e,size:n,className:t})),...s})}/**
 * @license lucide-react v0.532.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),N4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),CR=t=>{const e=N4(t);return e.charAt(0).toUpperCase()+e.slice(1)},zN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),I4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.532.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.532.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:l,...c},d)=>w.createElement("svg",{ref:d,...P4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:zN("lucide",s),...!a&&!I4(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,m])=>w.createElement(h,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.532.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=(t,e)=>{const n=w.forwardRef(({className:r,...s},a)=>w.createElement(k4,{ref:a,iconNode:e,className:zN(`lucide-${C4(CR(t))}`,`lucide-${t}`,r),...s}));return n.displayName=CR(t),n};/**
 * @license lucide-react v0.532.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],D4=Ag("moon",M4);/**
 * @license lucide-react v0.532.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],NR=Ag("refresh-cw",O4);/**
 * @license lucide-react v0.532.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],L4=Ag("sun",j4);/**
 * @license lucide-react v0.532.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],U4=Ag("triangle-alert",V4);class F4 extends w.Component{state={hasError:!1};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Error caught by boundary:",e,n),this.setState({error:e,errorInfo:n}),this.props.onError?.(e,n),console.error("Production error:",{error:e.message,stack:e.stack,componentStack:n.componentStack})}handleReload=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0}),window.location.reload()};handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:p.jsx("div",{className:"max-w-md w-full mx-auto p-6",children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 text-center",children:[p.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 dark:bg-red-900 mb-4",children:p.jsx(U4,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),p.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Something went wrong"}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6",children:"We apologize for the inconvenience. The application encountered an unexpected error."}),!1,p.jsxs("div",{className:"flex gap-3 justify-center",children:[p.jsxs(cs,{onClick:this.handleRetry,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[p.jsx(NR,{className:"h-4 w-4"}),"Try Again"]}),p.jsxs(cs,{onClick:this.handleReload,size:"sm",className:"flex items-center gap-2",children:[p.jsx(NR,{className:"h-4 w-4"}),"Reload Page"]})]})]})})}):this.props.children}}var Vd={},IR;function z4(){if(IR)return Vd;IR=1,Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.parse=l,Vd.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function l(b,_){const E=new a,T=b.length;if(T<2)return E;const R=_?.decode||m;let N=0;do{const P=b.indexOf("=",N);if(P===-1)break;const M=b.indexOf(";",N),F=M===-1?T:M;if(P>F){N=b.lastIndexOf(";",P-1)+1;continue}const $=c(b,N,P),X=d(b,P,$),O=b.slice($,X);if(E[O]===void 0){let I=c(b,P+1,F),D=d(b,F,I);const L=R(b.slice(I,D));E[O]=L}N=F+1}while(N<T);return E}function c(b,_,E){do{const T=b.charCodeAt(_);if(T!==32&&T!==9)return _}while(++_<E);return E}function d(b,_,E){for(;_>E;){const T=b.charCodeAt(--_);if(T!==32&&T!==9)return _+1}return E}function h(b,_,E){const T=E?.encode||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const R=T(_);if(!e.test(R))throw new TypeError(`argument val is invalid: ${_}`);let N=b+"="+R;if(!E)return N;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);N+="; Max-Age="+E.maxAge}if(E.domain){if(!n.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);N+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);N+="; Path="+E.path}if(E.expires){if(!y(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);N+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(N+="; HttpOnly"),E.secure&&(N+="; Secure"),E.partitioned&&(N+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return N}function m(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return s.call(b)==="[object Date]"}return Vd}z4();var PR="popstate";function $4(t={}){function e(r,s){let{pathname:a,search:l,hash:c}=r.location;return Wb("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:wf(s)}return G4(e,n,null,t)}function Dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function B4(){return Math.random().toString(36).substring(2,10)}function kR(t,e){return{usr:t.state,key:t.key,idx:e}}function Wb(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?hc(e):e,state:n,key:e&&e.key||r||B4()}}function wf({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function hc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function G4(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c="POP",d=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function y(){c="POP";let R=m(),N=R==null?null:R-h;h=R,d&&d({action:c,location:T.location,delta:N})}function b(R,N){c="PUSH";let P=Wb(T.location,R,N);h=m()+1;let M=kR(P,h),F=T.createHref(P);try{l.pushState(M,"",F)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;s.location.assign(F)}a&&d&&d({action:c,location:T.location,delta:1})}function _(R,N){c="REPLACE";let P=Wb(T.location,R,N);h=m();let M=kR(P,h),F=T.createHref(P);l.replaceState(M,"",F),a&&d&&d({action:c,location:T.location,delta:0})}function E(R){return H4(R)}let T={get action(){return c},get location(){return t(s,l)},listen(R){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(PR,y),d=R,()=>{s.removeEventListener(PR,y),d=null}},createHref(R){return e(s,R)},createURL:E,encodeLocation(R){let N=E(R);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:b,replace:_,go(R){return l.go(R)}};return T}function H4(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Dt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:wf(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function $N(t,e,n="/"){return q4(t,e,n,!1)}function q4(t,e,n,r){let s=typeof e=="string"?hc(e):e,a=Qi(s.pathname||"/",n);if(a==null)return null;let l=BN(t);W4(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=sV(a);c=nV(l[d],h,r)}return c}function BN(t,e=[],n=[],r=""){let s=(a,l,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};d.relativePath.startsWith("/")&&(Dt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=Ki([r,d.relativePath]),m=n.concat(d);a.children&&a.children.length>0&&(Dt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),BN(a.children,e,m,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:eV(h,a.index),routesMeta:m})};return t.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))s(a,l);else for(let c of GN(a.path))s(a,l,c)}),e}function GN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=GN(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function W4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var K4=/^:[\w-]+$/,Y4=3,X4=2,Q4=1,Z4=10,J4=-2,MR=t=>t==="*";function eV(t,e){let n=t.split("/"),r=n.length;return n.some(MR)&&(r+=J4),e&&(r+=X4),n.filter(s=>!MR(s)).reduce((s,a)=>s+(K4.test(a)?Y4:a===""?Q4:Z4),r)}function tV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function nV(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",y=Lp({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),b=d.route;if(!y&&h&&n&&!r[r.length-1].route.index&&(y=Lp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:Ki([a,y.pathname]),pathnameBase:lV(Ki([a,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(a=Ki([a,y.pathnameBase]))}return l}function Lp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rV(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:y},b)=>{if(m==="*"){let E=c[b]||"";l=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const _=c[b];return y&&!_?h[m]=void 0:h[m]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function rV(t,e=!1,n=!0){gs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function sV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function iV(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?hc(t):t;return{pathname:n?n.startsWith("/")?n:aV(n,e):e,search:uV(r),hash:cV(s)}}function aV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ly(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function px(t){let e=oV(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function gx(t,e,n,r=!1){let s;typeof t=="string"?s=hc(t):(s={...t},Dt(!s.pathname||!s.pathname.includes("?"),Ly("?","pathname","search",s)),Dt(!s.pathname||!s.pathname.includes("#"),Ly("#","pathname","hash",s)),Dt(!s.search||!s.search.includes("#"),Ly("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),y-=1;s.pathname=b.join("/")}c=y>=0?e[y]:"/"}let d=iV(s,c),h=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var Ki=t=>t.join("/").replace(/\/\/+/g,"/"),lV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var HN=["POST","PUT","PATCH","DELETE"];new Set(HN);var fV=["GET",...HN];new Set(fV);var mc=w.createContext(null);mc.displayName="DataRouter";var Cg=w.createContext(null);Cg.displayName="DataRouterState";var qN=w.createContext({isTransitioning:!1});qN.displayName="ViewTransition";var hV=w.createContext(new Map);hV.displayName="Fetchers";var mV=w.createContext(null);mV.displayName="Await";var _s=w.createContext(null);_s.displayName="Navigation";var Gf=w.createContext(null);Gf.displayName="Location";var Es=w.createContext({outlet:null,matches:[],isDataRoute:!1});Es.displayName="Route";var vx=w.createContext(null);vx.displayName="RouteError";function pV(t,{relative:e}={}){Dt(pc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=w.useContext(_s),{hash:s,pathname:a,search:l}=Hf(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:Ki([n,a])),r.createHref({pathname:c,search:l,hash:s})}function pc(){return w.useContext(Gf)!=null}function wo(){return Dt(pc(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Gf).location}var WN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KN(t){w.useContext(_s).static||w.useLayoutEffect(t)}function yx(){let{isDataRoute:t}=w.useContext(Es);return t?CV():gV()}function gV(){Dt(pc(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(mc),{basename:e,navigator:n}=w.useContext(_s),{matches:r}=w.useContext(Es),{pathname:s}=wo(),a=JSON.stringify(px(r)),l=w.useRef(!1);return KN(()=>{l.current=!0}),w.useCallback((d,h={})=>{if(gs(l.current,WN),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=gx(d,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ki([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,a,s,t])}w.createContext(null);function zse(){let{matches:t}=w.useContext(Es),e=t[t.length-1];return e?e.params:{}}function Hf(t,{relative:e}={}){let{matches:n}=w.useContext(Es),{pathname:r}=wo(),s=JSON.stringify(px(n));return w.useMemo(()=>gx(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function vV(t,e){return YN(t,e)}function YN(t,e,n,r){Dt(pc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=w.useContext(_s),{matches:a}=w.useContext(Es),l=a[a.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let N=m&&m.path||"";XN(d,!m||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let y=wo(),b;if(e){let N=typeof e=="string"?hc(e):e;Dt(h==="/"||N.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${N.pathname}" was given in the \`location\` prop.`),b=N}else b=y;let _=b.pathname||"/",E=_;if(h!=="/"){let N=h.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(N.length).join("/")}let T=$N(t,{pathname:E});gs(m||T!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),gs(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=_V(T&&T.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:Ki([h,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:Ki([h,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,n,r);return e&&R?w.createElement(Gf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},R):R}function yV(){let t=AV(),e=dV(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:a},"ErrorBoundary")," or"," ",w.createElement("code",{style:a},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:s},n):null,l)}var bV=w.createElement(yV,null),wV=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?w.createElement(Es.Provider,{value:this.props.routeContext},w.createElement(vx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xV({routeContext:t,match:e,children:n}){let r=w.useContext(mc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Es.Provider,{value:t},n)}function _V(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n?.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&a?.[h.route.id]!==void 0);Dt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:y}=n,b=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||b){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,h,m)=>{let y,b=!1,_=null,E=null;n&&(y=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||bV,l&&(c<0&&m===0?(XN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):c===m&&(b=!0,E=h.route.hydrateFallbackElement||null)));let T=e.concat(s.slice(0,m+1)),R=()=>{let N;return y?N=_:b?N=E:h.route.Component?N=w.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=d,w.createElement(xV,{match:h,routeContext:{outlet:d,matches:T,isDataRoute:n!=null},children:N})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?w.createElement(wV,{location:n.location,revalidation:n.revalidation,component:_,error:y,children:R(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):R()},null)}function bx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EV(t){let e=w.useContext(mc);return Dt(e,bx(t)),e}function SV(t){let e=w.useContext(Cg);return Dt(e,bx(t)),e}function TV(t){let e=w.useContext(Es);return Dt(e,bx(t)),e}function wx(t){let e=TV(t),n=e.matches[e.matches.length-1];return Dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function RV(){return wx("useRouteId")}function AV(){let t=w.useContext(vx),e=SV("useRouteError"),n=wx("useRouteError");return t!==void 0?t:e.errors?.[n]}function CV(){let{router:t}=EV("useNavigate"),e=wx("useNavigate"),n=w.useRef(!1);return KN(()=>{n.current=!0}),w.useCallback(async(s,a={})=>{gs(n.current,WN),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var DR={};function XN(t,e,n){!e&&!DR[t]&&(DR[t]=!0,gs(!1,n))}w.memo(NV);function NV({routes:t,future:e,state:n}){return YN(t,void 0,n,e)}function zs({to:t,replace:e,state:n,relative:r}){Dt(pc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=w.useContext(_s);gs(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=w.useContext(Es),{pathname:l}=wo(),c=yx(),d=gx(t,px(a),l,r==="path"),h=JSON.stringify(d);return w.useEffect(()=>{c(JSON.parse(h),{replace:e,state:n,relative:r})},[c,h,r,e,n]),null}function lr(t){Dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function IV({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){Dt(!pc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=hc(n));let{pathname:d="/",search:h="",hash:m="",state:y=null,key:b="default"}=n,_=w.useMemo(()=>{let E=Qi(d,l);return E==null?null:{location:{pathname:E,search:h,hash:m,state:y,key:b},navigationType:r}},[l,d,h,m,y,b,r]);return gs(_!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:w.createElement(_s.Provider,{value:c},w.createElement(Gf.Provider,{children:e,value:_}))}function PV({children:t,location:e}){return vV(Kb(t),e)}function Kb(t,e=[]){let n=[];return w.Children.forEach(t,(r,s)=>{if(!w.isValidElement(r))return;let a=[...e,s];if(r.type===w.Fragment){n.push.apply(n,Kb(r.props.children,a));return}Dt(r.type===lr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Kb(r.props.children,a)),n.push(l)}),n}var gp="get",vp="application/x-www-form-urlencoded";function Ng(t){return t!=null&&typeof t.tagName=="string"}function kV(t){return Ng(t)&&t.tagName.toLowerCase()==="button"}function MV(t){return Ng(t)&&t.tagName.toLowerCase()==="form"}function DV(t){return Ng(t)&&t.tagName.toLowerCase()==="input"}function OV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jV(t,e){return t.button===0&&(!e||e==="_self")&&!OV(t)}var Wm=null;function LV(){if(Wm===null)try{new FormData(document.createElement("form"),0),Wm=!1}catch{Wm=!0}return Wm}var VV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vy(t){return t!=null&&!VV.has(t)?(gs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vp}"`),null):t}function UV(t,e){let n,r,s,a,l;if(MV(t)){let c=t.getAttribute("action");r=c?Qi(c,e):null,n=t.getAttribute("method")||gp,s=Vy(t.getAttribute("enctype"))||vp,a=new FormData(t)}else if(kV(t)||DV(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?Qi(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||gp,s=Vy(t.getAttribute("formenctype"))||Vy(c.getAttribute("enctype"))||vp,a=new FormData(c,t),!LV()){let{name:h,type:m,value:y}=t;if(m==="image"){let b=h?`${h}.`:"";a.append(`${b}x`,"0"),a.append(`${b}y`,"0")}else h&&a.append(h,y)}}else{if(Ng(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gp,r=null,s=vp,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}function xx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function FV(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zV(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function $V(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await FV(a,n);return l.links?l.links():[]}return[]}));return qV(r.flat(1).filter(zV).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function OR(t,e,n,r,s,a){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,c=(d,h)=>n[h].pathname!==d.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,h)=>l(d,h)||c(d,h)):a==="data"?e.filter((d,h)=>{let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function BV(t,e,{includeHydrateFallback:n}={}){return GV(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function GV(t){return[...new Set(t)]}function HV(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function qV(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(HV(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var WV=new Set([100,101,204,205]);function KV(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Qi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function QN(){let t=w.useContext(mc);return xx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function YV(){let t=w.useContext(Cg);return xx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var _x=w.createContext(void 0);_x.displayName="FrameworkContext";function ZN(){let t=w.useContext(_x);return xx(t,"You must render this element inside a <HydratedRouter> element"),t}function XV(t,e){let n=w.useContext(_x),[r,s]=w.useState(!1),[a,l]=w.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:y}=e,b=w.useRef(null);w.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let T=N=>{N.forEach(P=>{l(P.isIntersecting)})},R=new IntersectionObserver(T,{threshold:.5});return b.current&&R.observe(b.current),()=>{R.disconnect()}}},[t]),w.useEffect(()=>{if(r){let T=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(T)}}},[r]);let _=()=>{s(!0)},E=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,b,{}]:[a,b,{onFocus:Ud(c,_),onBlur:Ud(d,E),onMouseEnter:Ud(h,_),onMouseLeave:Ud(m,E),onTouchStart:Ud(y,_)}]:[!1,b,{}]}function Ud(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function QV({page:t,...e}){let{router:n}=QN(),r=w.useMemo(()=>$N(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?w.createElement(JV,{page:t,matches:r,...e}):null}function ZV(t){let{manifest:e,routeModules:n}=ZN(),[r,s]=w.useState([]);return w.useEffect(()=>{let a=!1;return $V(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function JV({page:t,matches:e,...n}){let r=wo(),{manifest:s,routeModules:a}=ZN(),{basename:l}=QN(),{loaderData:c,matches:d}=YV(),h=w.useMemo(()=>OR(t,e,d,s,r,"data"),[t,e,d,s,r]),m=w.useMemo(()=>OR(t,e,d,s,r,"assets"),[t,e,d,s,r]),y=w.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let E=new Set,T=!1;if(e.forEach(N=>{let P=s.routes[N.route.id];!P||!P.hasLoader||(!h.some(M=>M.route.id===N.route.id)&&N.route.id in c&&a[N.route.id]?.shouldRevalidate||P.hasClientLoader?T=!0:E.add(N.route.id))}),E.size===0)return[];let R=KV(t,l);return T&&E.size>0&&R.searchParams.set("_routes",e.filter(N=>E.has(N.route.id)).map(N=>N.route.id).join(",")),[R.pathname+R.search]},[l,c,r,s,h,e,t,a]),b=w.useMemo(()=>BV(m,s),[m,s]),_=ZV(m);return w.createElement(w.Fragment,null,y.map(E=>w.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),b.map(E=>w.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),_.map(({key:E,link:T})=>w.createElement("link",{key:E,...T})))}function e6(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var JN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JN&&(window.__reactRouterVersion="7.6.3")}catch{}function t6({basename:t,children:e,window:n}){let r=w.useRef();r.current==null&&(r.current=$4({window:n,v5Compat:!0}));let s=r.current,[a,l]=w.useState({action:s.action,location:s.location}),c=w.useCallback(d=>{w.startTransition(()=>l(d))},[l]);return w.useLayoutEffect(()=>s.listen(c),[s,c]),w.createElement(IV,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var eI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,St=w.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:c,target:d,to:h,preventScrollReset:m,viewTransition:y,...b},_){let{basename:E}=w.useContext(_s),T=typeof h=="string"&&eI.test(h),R,N=!1;if(typeof h=="string"&&T&&(R=h,JN))try{let D=new URL(window.location.href),L=h.startsWith("//")?new URL(D.protocol+h):new URL(h),z=Qi(L.pathname,E);L.origin===D.origin&&z!=null?h=z+L.search+L.hash:N=!0}catch{gs(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=pV(h,{relative:s}),[M,F,$]=XV(r,b),X=i6(h,{replace:l,state:c,target:d,preventScrollReset:m,relative:s,viewTransition:y});function O(D){e&&e(D),D.defaultPrevented||X(D)}let I=w.createElement("a",{...b,...$,href:R||P,onClick:N||a?e:O,ref:e6(_,F),target:d,"data-discover":!T&&n==="render"?"true":void 0});return M&&!T?w.createElement(w.Fragment,null,I,w.createElement(QV,{page:P})):I});St.displayName="Link";var n6=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:c,children:d,...h},m){let y=Hf(l,{relative:h.relative}),b=wo(),_=w.useContext(Cg),{navigator:E,basename:T}=w.useContext(_s),R=_!=null&&c6(y)&&c===!0,N=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,P=b.pathname,M=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(P=P.toLowerCase(),M=M?M.toLowerCase():null,N=N.toLowerCase()),M&&T&&(M=Qi(M,T)||M);const F=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let $=P===N||!s&&P.startsWith(N)&&P.charAt(F)==="/",X=M!=null&&(M===N||!s&&M.startsWith(N)&&M.charAt(N.length)==="/"),O={isActive:$,isPending:X,isTransitioning:R},I=$?e:void 0,D;typeof r=="function"?D=r(O):D=[r,$?"active":null,X?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(O):a;return w.createElement(St,{...h,"aria-current":I,className:D,ref:m,style:L,to:l,viewTransition:c},typeof d=="function"?d(O):d)});n6.displayName="NavLink";var r6=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=gp,action:c,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:y,...b},_)=>{let E=l6(),T=u6(c,{relative:h}),R=l.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&eI.test(c),P=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let F=M.nativeEvent.submitter,$=F?.getAttribute("formmethod")||l;E(F||M.currentTarget,{fetcherKey:e,method:$,navigate:n,replace:s,state:a,relative:h,preventScrollReset:m,viewTransition:y})};return w.createElement("form",{ref:_,method:R,action:T,onSubmit:r?d:P,...b,"data-discover":!N&&t==="render"?"true":void 0})});r6.displayName="Form";function s6(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tI(t){let e=w.useContext(mc);return Dt(e,s6(t)),e}function i6(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=yx(),d=wo(),h=Hf(t,{relative:a});return w.useCallback(m=>{if(jV(m,e)){m.preventDefault();let y=n!==void 0?n:wf(d)===wf(h);c(t,{replace:y,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[d,c,h,n,r,e,t,s,a,l])}var a6=0,o6=()=>`__${String(++a6)}__`;function l6(){let{router:t}=tI("useSubmit"),{basename:e}=w.useContext(_s),n=RV();return w.useCallback(async(r,s={})=>{let{action:a,method:l,encType:c,formData:d,body:h}=UV(r,e);if(s.navigate===!1){let m=s.fetcherKey||o6();await t.fetch(m,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function u6(t,{relative:e}={}){let{basename:n}=w.useContext(_s),r=w.useContext(Es);Dt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Hf(t||".",{relative:e})},l=wo();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let m=c.toString();a.search=m?`?${m}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ki([n,a.pathname])),wf(a)}function c6(t,e={}){let n=w.useContext(qN);Dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=tI("useViewTransitionState"),s=Hf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Qi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Qi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Lp(s.pathname,l)!=null||Lp(s.pathname,a)!=null}[...WV];var Ig=NN();const d6=CN(Ig),nI=typeof document<"u"?Se.useLayoutEffect:()=>{};function f6(t){const e=w.useRef(null);return nI(()=>{e.current=t},[t]),w.useCallback((...n)=>{const r=e.current;return r?.(...n)},[])}const xo=t=>{var e;return(e=t?.ownerDocument)!==null&&e!==void 0?e:document},pl=t=>t&&"window"in t&&t.window===t?t:xo(t).defaultView||window;function h6(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function m6(t){return h6(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let p6=!1;function Ex(){return p6}function rI(t,e){if(!Ex())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let n=e;for(;n!==null;){if(n===t)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:m6(n)?n=n.host:n=n.parentNode}return!1}const Yb=(t=document)=>{var e;if(!Ex())return t.activeElement;let n=t.activeElement;for(;n&&"shadowRoot"in n&&(!((e=n.shadowRoot)===null||e===void 0)&&e.activeElement);)n=n.shadowRoot.activeElement;return n};function sI(t){return Ex()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function g6(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(n=>t.test(n.brand)))||t.test(window.navigator.userAgent)}function v6(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function iI(t){let e=null;return()=>(e==null&&(e=t()),e)}const y6=iI(function(){return v6(/^Mac/i)}),b6=iI(function(){return g6(/Android/i)});function aI(){let t=w.useRef(new Map),e=w.useCallback((s,a,l,c)=>{let d=c?.once?(...h)=>{t.current.delete(l),l(...h)}:l;t.current.set(l,{type:a,eventTarget:s,fn:d,options:c}),s.addEventListener(a,d,c)},[]),n=w.useCallback((s,a,l,c)=>{var d;let h=((d=t.current.get(l))===null||d===void 0?void 0:d.fn)||l;s.removeEventListener(a,h,c),t.current.delete(l)},[]),r=w.useCallback(()=>{t.current.forEach((s,a)=>{n(s.eventTarget,s.type,a,s.options)})},[n]);return w.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}function w6(t){return t.mozInputSource===0&&t.isTrusted?!0:b6()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function oI(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function x6(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function lI(t){let e=w.useRef({isFocused:!1,observer:null});nI(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=f6(r=>{t?.(r)});return w.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let s=r.target,a=l=>{if(e.current.isFocused=!1,s.disabled){let c=oI(l);n(c)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};s.addEventListener("focusout",a,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&s.disabled){var l;(l=e.current.observer)===null||l===void 0||l.disconnect();let c=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:c})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:c}))}}),e.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let _6=!1,qf=null,Xb=new Set,Zd=new Map,Al=!1,Qb=!1;const E6={Tab:!0,Escape:!0};function Sx(t,e){for(let n of Xb)n(t,e)}function S6(t){return!(t.metaKey||!y6()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function Vp(t){Al=!0,S6(t)&&(qf="keyboard",Sx("keyboard",t))}function Ku(t){qf="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(Al=!0,Sx("pointer",t))}function uI(t){w6(t)&&(Al=!0,qf="virtual")}function cI(t){t.target===window||t.target===document||_6||!t.isTrusted||(!Al&&!Qb&&(qf="virtual",Sx("virtual",t)),Al=!1,Qb=!1)}function dI(){Al=!1,Qb=!0}function Zb(t){if(typeof window>"u"||typeof document>"u"||Zd.get(pl(t)))return;const e=pl(t),n=xo(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Al=!0,r.apply(this,arguments)},n.addEventListener("keydown",Vp,!0),n.addEventListener("keyup",Vp,!0),n.addEventListener("click",uI,!0),e.addEventListener("focus",cI,!0),e.addEventListener("blur",dI,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",Ku,!0),n.addEventListener("pointermove",Ku,!0),n.addEventListener("pointerup",Ku,!0)),e.addEventListener("beforeunload",()=>{fI(t)},{once:!0}),Zd.set(e,{focus:r})}const fI=(t,e)=>{const n=pl(t),r=xo(t);e&&r.removeEventListener("DOMContentLoaded",e),Zd.has(n)&&(n.HTMLElement.prototype.focus=Zd.get(n).focus,r.removeEventListener("keydown",Vp,!0),r.removeEventListener("keyup",Vp,!0),r.removeEventListener("click",uI,!0),n.removeEventListener("focus",cI,!0),n.removeEventListener("blur",dI,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",Ku,!0),r.removeEventListener("pointermove",Ku,!0),r.removeEventListener("pointerup",Ku,!0)),Zd.delete(n))};function T6(t){const e=xo(t);let n;return e.readyState!=="loading"?Zb(t):(n=()=>{Zb(t)},e.addEventListener("DOMContentLoaded",n)),()=>fI(t,n)}typeof document<"u"&&T6();function hI(){return qf!=="pointer"}const R6=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function A6(t,e,n){let r=xo(n?.target);const s=typeof window<"u"?pl(n?.target).HTMLInputElement:HTMLInputElement,a=typeof window<"u"?pl(n?.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?pl(n?.target).HTMLElement:HTMLElement,c=typeof window<"u"?pl(n?.target).KeyboardEvent:KeyboardEvent;return t=t||r.activeElement instanceof s&&!R6.has(r.activeElement.type)||r.activeElement instanceof a||r.activeElement instanceof l&&r.activeElement.isContentEditable,!(t&&e==="keyboard"&&n instanceof c&&!E6[n.key])}function C6(t,e,n){Zb(),w.useEffect(()=>{let r=(s,a)=>{A6(!!n?.isTextInput,s,a)&&t(hI())};return Xb.add(r),()=>{Xb.delete(r)}},e)}function N6(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:s}=t;const a=w.useCallback(d=>{if(d.target===d.currentTarget)return r&&r(d),s&&s(!1),!0},[r,s]),l=lI(a),c=w.useCallback(d=>{const h=xo(d.target),m=h?Yb(h):Yb();d.target===d.currentTarget&&m===sI(d.nativeEvent)&&(n&&n(d),s&&s(!0),l(d))},[s,n,l]);return{focusProps:{onFocus:!e&&(n||s||r)?c:void 0,onBlur:!e&&(r||s)?a:void 0}}}function I6(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:s}=t,a=w.useRef({isFocusWithin:!1}),{addGlobalListener:l,removeAllGlobalListeners:c}=aI(),d=w.useCallback(y=>{y.currentTarget.contains(y.target)&&a.current.isFocusWithin&&!y.currentTarget.contains(y.relatedTarget)&&(a.current.isFocusWithin=!1,c(),n&&n(y),s&&s(!1))},[n,s,a,c]),h=lI(d),m=w.useCallback(y=>{if(!y.currentTarget.contains(y.target))return;const b=xo(y.target),_=Yb(b);if(!a.current.isFocusWithin&&_===sI(y.nativeEvent)){r&&r(y),s&&s(!0),a.current.isFocusWithin=!0,h(y);let E=y.currentTarget;l(b,"focus",T=>{if(a.current.isFocusWithin&&!rI(E,T.target)){let R=new b.defaultView.FocusEvent("blur",{relatedTarget:T.target});x6(R,E);let N=oI(R);d(N)}},{capture:!0})}},[r,s,h,l,d]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:m,onBlur:d}}}let Jb=!1,Uy=0;function P6(){Jb=!0,setTimeout(()=>{Jb=!1},50)}function jR(t){t.pointerType==="touch"&&P6()}function k6(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",jR),Uy++,()=>{Uy--,!(Uy>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",jR)}}function Tx(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:s}=t,[a,l]=w.useState(!1),c=w.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;w.useEffect(k6,[]);let{addGlobalListener:d,removeAllGlobalListeners:h}=aI(),{hoverProps:m,triggerHoverEnd:y}=w.useMemo(()=>{let b=(T,R)=>{if(c.pointerType=R,s||R==="touch"||c.isHovered||!T.currentTarget.contains(T.target))return;c.isHovered=!0;let N=T.currentTarget;c.target=N,d(xo(T.target),"pointerover",P=>{c.isHovered&&c.target&&!rI(c.target,P.target)&&_(P,P.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:N,pointerType:R}),n&&n(!0),l(!0)},_=(T,R)=>{let N=c.target;c.pointerType="",c.target=null,!(R==="touch"||!c.isHovered||!N)&&(c.isHovered=!1,h(),r&&r({type:"hoverend",target:N,pointerType:R}),n&&n(!1),l(!1))},E={};return typeof PointerEvent<"u"&&(E.onPointerEnter=T=>{Jb&&T.pointerType==="mouse"||b(T,T.pointerType)},E.onPointerLeave=T=>{!s&&T.currentTarget.contains(T.target)&&_(T,T.pointerType)}),{hoverProps:E,triggerHoverEnd:_}},[e,n,r,s,c,d,h]);return w.useEffect(()=>{s&&y({currentTarget:c.target},c.pointerType)},[s]),{hoverProps:m,isHovered:a}}function Rx(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,s=w.useRef({isFocused:!1,isFocusVisible:e||hI()}),[a,l]=w.useState(!1),[c,d]=w.useState(()=>s.current.isFocused&&s.current.isFocusVisible),h=w.useCallback(()=>d(s.current.isFocused&&s.current.isFocusVisible),[]),m=w.useCallback(_=>{s.current.isFocused=_,l(_),h()},[h]);C6(_=>{s.current.isFocusVisible=_,h()},[],{isTextInput:n});let{focusProps:y}=N6({isDisabled:r,onFocusChange:m}),{focusWithinProps:b}=I6({isDisabled:!r,onFocusWithinChange:m});return{isFocused:a,isFocusVisible:c,focusProps:r?b:y}}var M6=Object.defineProperty,D6=(t,e,n)=>e in t?M6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fy=(t,e,n)=>(D6(t,typeof e!="symbol"?e+"":e,n),n);let O6=class{constructor(){Fy(this,"current",this.detect()),Fy(this,"handoffState","pending"),Fy(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},xl=new O6;function Wf(t){var e,n;return xl.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(n=(e=t.current)==null?void 0:e.ownerDocument)!=null?n:document:null:document}function Pg(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function oa(){let t=[],e={addEventListener(n,r,s,a){return n.addEventListener(r,s,a),e.add(()=>n.removeEventListener(r,s,a))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Pg(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,s){let a=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:a})})},group(n){let r=oa();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let s of t.splice(r,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}function kg(){let[t]=w.useState(oa);return w.useEffect(()=>()=>t.dispose(),[t]),t}let zn=(t,e)=>{xl.isServer?w.useEffect(t,e):w.useLayoutEffect(t,e)};function Ol(t){let e=w.useRef(t);return zn(()=>{e.current=t},[t]),e}let ft=function(t){let e=Ol(t);return Se.useCallback((...n)=>e.current(...n),[e])};function j6(t){let e=t.width/2,n=t.height/2;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function L6(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function Ax({disabled:t=!1}={}){let e=w.useRef(null),[n,r]=w.useState(!1),s=kg(),a=ft(()=>{e.current=null,r(!1),s.dispose()}),l=ft(c=>{if(s.dispose(),e.current===null){e.current=c.currentTarget,r(!0);{let d=Wf(c.currentTarget);s.addEventListener(d,"pointerup",a,!1),s.addEventListener(d,"pointermove",h=>{if(e.current){let m=j6(h);r(L6(m,e.current.getBoundingClientRect()))}},!1),s.addEventListener(d,"pointercancel",a,!1)}}});return{pressed:n,pressProps:t?{}:{onPointerDown:l,onPointerUp:a,onClick:a}}}let V6=w.createContext(void 0);function Mg(){return w.useContext(V6)}function ew(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Zi(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Zi),r}var Up=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Up||{}),Ka=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Ka||{});function nr(){let t=F6();return w.useCallback(e=>U6({mergeRefs:t,...e}),[t])}function U6({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:s,visible:a=!0,name:l,mergeRefs:c}){c=c??z6;let d=mI(e,t);if(a)return Km(d,n,r,l,c);let h=s??0;if(h&2){let{static:m=!1,...y}=d;if(m)return Km(y,n,r,l,c)}if(h&1){let{unmount:m=!0,...y}=d;return Zi(m?0:1,{0(){return null},1(){return Km({...y,hidden:!0,style:{display:"none"}},n,r,l,c)}})}return Km(d,n,r,l,c)}function Km(t,e={},n,r,s){let{as:a=n,children:l,refName:c="ref",...d}=zy(t,["unmount","static"]),h=t.ref!==void 0?{[c]:t.ref}:{},m=typeof l=="function"?l(e):l;"className"in d&&d.className&&typeof d.className=="function"&&(d.className=d.className(e)),d["aria-labelledby"]&&d["aria-labelledby"]===d.id&&(d["aria-labelledby"]=void 0);let y={};if(e){let b=!1,_=[];for(let[E,T]of Object.entries(e))typeof T=="boolean"&&(b=!0),T===!0&&_.push(E.replace(/([A-Z])/g,R=>`-${R.toLowerCase()}`));if(b){y["data-headlessui-state"]=_.join(" ");for(let E of _)y[`data-${E}`]=""}}if(a===w.Fragment&&(Object.keys(ll(d)).length>0||Object.keys(ll(y)).length>0))if(!w.isValidElement(m)||Array.isArray(m)&&m.length>1){if(Object.keys(ll(d)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ll(d)).concat(Object.keys(ll(y))).map(b=>`  - ${b}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(b=>`  - ${b}`).join(`
`)].join(`
`))}else{let b=m.props,_=b?.className,E=typeof _=="function"?(...N)=>ew(_(...N),d.className):ew(_,d.className),T=E?{className:E}:{},R=mI(m.props,ll(zy(d,["ref"])));for(let N in y)N in R&&delete y[N];return w.cloneElement(m,Object.assign({},R,y,h,{ref:s($6(m),h.ref)},T))}return w.createElement(a,Object.assign({},zy(d,["ref"]),a!==w.Fragment&&h,a!==w.Fragment&&y),m)}function F6(){let t=w.useRef([]),e=w.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function z6(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function mI(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):e[s]=r[s];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[s=>{var a;return(a=s?.preventDefault)==null?void 0:a.call(s)}]);for(let r in n)Object.assign(e,{[r](s,...a){let l=n[r];for(let c of l){if((s instanceof Event||s?.nativeEvent instanceof Event)&&s.defaultPrevented)return;c(s,...a)}}});return e}function Dg(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):e[s]=r[s];for(let r in n)Object.assign(e,{[r](...s){let a=n[r];for(let l of a)l?.(...s)}});return e}function xn(t){var e;return Object.assign(w.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function ll(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function zy(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function $6(t){return Se.version.split(".")[0]>="19"?t.props.ref:t.ref}let B6="button";function G6(t,e){var n;let r=Mg(),{disabled:s=r||!1,autoFocus:a=!1,...l}=t,{isFocusVisible:c,focusProps:d}=Rx({autoFocus:a}),{isHovered:h,hoverProps:m}=Tx({isDisabled:s}),{pressed:y,pressProps:b}=Ax({disabled:s}),_=Dg({ref:e,type:(n=l.type)!=null?n:"button",disabled:s||void 0,autoFocus:a},d,m,b),E=w.useMemo(()=>({disabled:s,hover:h,focus:c,active:y,autofocus:a}),[s,h,c,y,a]);return nr()({ourProps:_,theirProps:l,slot:E,defaultTag:B6,name:"Button"})}let Kf=xn(G6),H6="span";var Fp=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Fp||{});function q6(t,e){var n;let{features:r=1,...s}=t,a={ref:e,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return nr()({ourProps:a,theirProps:s,slot:{},defaultTag:H6,name:"Hidden"})}let tw=xn(q6),W6=w.createContext(void 0);function pI(){return w.useContext(W6)}function gI(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function Yi(t){return gI(t)&&"tagName"in t}function so(t){return Yi(t)&&"accessKey"in t}function Ya(t){return Yi(t)&&"tabIndex"in t}function K6(t){return Yi(t)&&"style"in t}function Y6(t){return so(t)&&t.nodeName==="IFRAME"}function vI(t){return so(t)&&t.nodeName==="INPUT"}function LR(t){return so(t)&&t.nodeName==="LABEL"}function X6(t){return Yi(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}let yI=Symbol();function Q6(t,e=!0){return Object.assign(t,{[yI]:e})}function Ss(...t){let e=w.useRef(t);w.useEffect(()=>{e.current=t},[t]);let n=ft(r=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return t.every(r=>r==null||r?.[yI])?void 0:n}let Og=w.createContext(null);Og.displayName="DescriptionContext";function bI(){let t=w.useContext(Og);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,bI),e}return t}function Z6(){var t,e;return(e=(t=w.useContext(Og))==null?void 0:t.value)!=null?e:void 0}function J6(){let[t,e]=w.useState([]);return[t.length>0?t.join(" "):void 0,w.useMemo(()=>function(n){let r=ft(a=>(e(l=>[...l,a]),()=>e(l=>{let c=l.slice(),d=c.indexOf(a);return d!==-1&&c.splice(d,1),c}))),s=w.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Se.createElement(Og.Provider,{value:s},n.children)},[e])]}let e7="p";function t7(t,e){let n=w.useId(),r=Mg(),{id:s=`headlessui-description-${n}`,...a}=t,l=bI(),c=Ss(e);zn(()=>l.register(s),[s,l.register]);let d=r||!1,h=w.useMemo(()=>({...l.slot,disabled:d}),[l.slot,d]),m={ref:c,...l.props,id:s};return nr()({ourProps:m,theirProps:a,slot:h,defaultTag:e7,name:l.name||"Description"})}let n7=xn(t7),r7=Object.assign(n7,{});var wI=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(wI||{});let Cx=w.createContext(null);Cx.displayName="LabelContext";function xI(){let t=w.useContext(Cx);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,xI),e}return t}function s7(t){var e,n,r;let s=(n=(e=w.useContext(Cx))==null?void 0:e.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[s,...t].filter(Boolean).join(" "):s}let i7="label";function a7(t,e){var n;let r=w.useId(),s=xI(),a=pI(),l=Mg(),{id:c=`headlessui-label-${r}`,htmlFor:d=a??((n=s.props)==null?void 0:n.htmlFor),passive:h=!1,...m}=t,y=Ss(e);zn(()=>s.register(c),[c,s.register]);let b=ft(R=>{let N=R.currentTarget;if(!(R.target!==R.currentTarget&&X6(R.target))&&(LR(N)&&R.preventDefault(),s.props&&"onClick"in s.props&&typeof s.props.onClick=="function"&&s.props.onClick(R),LR(N))){let P=document.getElementById(N.htmlFor);if(P){let M=P.getAttribute("disabled");if(M==="true"||M==="")return;let F=P.getAttribute("aria-disabled");if(F==="true"||F==="")return;(vI(P)&&(P.type==="file"||P.type==="radio"||P.type==="checkbox")||P.role==="radio"||P.role==="checkbox"||P.role==="switch")&&P.click(),P.focus({preventScroll:!0})}}}),_=l||!1,E=w.useMemo(()=>({...s.slot,disabled:_}),[s.slot,_]),T={ref:y,...s.props,id:c,htmlFor:d,onClick:b};return h&&("onClick"in T&&(delete T.htmlFor,delete T.onClick),"onClick"in m&&delete m.onClick),nr()({ourProps:T,theirProps:m,slot:E,defaultTag:d?i7:"div",name:s.name||"Label"})}let o7=xn(a7);Object.assign(o7,{});let _I=w.createContext(()=>{});function l7(){return w.useContext(_I)}function u7({value:t,children:e}){return Se.createElement(_I.Provider,{value:t},e)}function c7(t,e){let n=l7();return Se.createElement(Kf,{ref:e,...Dg({onClick:n},t)})}let EI=xn(c7),SI=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var d7=Object.defineProperty,f7=(t,e,n)=>e in t?d7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,h7=(t,e,n)=>(f7(t,e+"",n),n),TI=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Yr=(t,e,n)=>(TI(t,e,"read from private field"),n?n.call(t):e.get(t)),$y=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},VR=(t,e,n,r)=>(TI(t,e,"write to private field"),e.set(t,n),n),$s,Gd,Hd;let m7=class{constructor(e){$y(this,$s,{}),$y(this,Gd,new SI(()=>new Set)),$y(this,Hd,new Set),h7(this,"disposables",oa()),VR(this,$s,e)}dispose(){this.disposables.dispose()}get state(){return Yr(this,$s)}subscribe(e,n){let r={selector:e,callback:n,current:e(Yr(this,$s))};return Yr(this,Hd).add(r),this.disposables.add(()=>{Yr(this,Hd).delete(r)})}on(e,n){return Yr(this,Gd).get(e).add(n),this.disposables.add(()=>{Yr(this,Gd).get(e).delete(n)})}send(e){let n=this.reduce(Yr(this,$s),e);if(n!==Yr(this,$s)){VR(this,$s,n);for(let r of Yr(this,Hd)){let s=r.selector(Yr(this,$s));RI(r.current,s)||(r.current=s,r.callback(s))}for(let r of Yr(this,Gd).get(e.type))r(Yr(this,$s),e)}}};$s=new WeakMap,Gd=new WeakMap,Hd=new WeakMap;function RI(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:By(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:By(t.entries(),e.entries()):UR(t)&&UR(e)?By(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function By(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function UR(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}var p7=Object.defineProperty,g7=(t,e,n)=>e in t?p7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,FR=(t,e,n)=>(g7(t,typeof e!="symbol"?e+"":e,n),n),v7=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(v7||{});let y7={0(t,e){let n=e.id,r=t.stack,s=t.stack.indexOf(n);if(s!==-1){let a=t.stack.slice();return a.splice(s,1),a.push(n),r=a,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let s=t.stack.slice();return s.splice(r,1),{...t,stack:s}}},b7=class AI extends m7{constructor(){super(...arguments),FR(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),FR(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new AI({stack:[]})}reduce(e,n){return Zi(n.type,y7,e,n)}};const CI=new SI(()=>b7.new());var Gy={exports:{}},Hy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zR;function w7(){if(zR)return Hy;zR=1;var t=Bf();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,s=t.useRef,a=t.useEffect,l=t.useMemo,c=t.useDebugValue;return Hy.useSyncExternalStoreWithSelector=function(d,h,m,y,b){var _=s(null);if(_.current===null){var E={hasValue:!1,value:null};_.current=E}else E=_.current;_=l(function(){function R($){if(!N){if(N=!0,P=$,$=y($),b!==void 0&&E.hasValue){var X=E.value;if(b(X,$))return M=X}return M=$}if(X=M,n(P,$))return X;var O=y($);return b!==void 0&&b(X,O)?(P=$,X):(P=$,M=O)}var N=!1,P,M,F=m===void 0?null:m;return[function(){return R(h())},F===null?void 0:function(){return R(F())}]},[h,m,y,b]);var T=r(d,_[0],_[1]);return a(function(){E.hasValue=!0,E.value=T},[T]),c(T),T},Hy}var $R;function x7(){return $R||($R=1,Gy.exports=w7()),Gy.exports}var _7=x7();function NI(t,e,n=RI){return _7.useSyncExternalStoreWithSelector(ft(r=>t.subscribe(E7,r)),ft(()=>t.state),ft(()=>t.state),ft(e),n)}function E7(t){return t}function Yf(t,e){let n=w.useId(),r=CI.get(e),[s,a]=NI(r,w.useCallback(l=>[r.selectors.isTop(l,n),r.selectors.inStack(l,n)],[r,n]));return zn(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?a?s:!0:!1}let nw=new Map,Jd=new Map;function BR(t){var e;let n=(e=Jd.get(t))!=null?e:0;return Jd.set(t,n+1),n!==0?()=>GR(t):(nw.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>GR(t))}function GR(t){var e;let n=(e=Jd.get(t))!=null?e:1;if(n===1?Jd.delete(t):Jd.set(t,n-1),n!==1)return;let r=nw.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,nw.delete(t))}function S7(t,{allowed:e,disallowed:n}={}){let r=Yf(t,"inert-others");zn(()=>{var s,a;if(!r)return;let l=oa();for(let d of(s=n?.())!=null?s:[])d&&l.add(BR(d));let c=(a=e?.())!=null?a:[];for(let d of c){if(!d)continue;let h=Wf(d);if(!h)continue;let m=d.parentElement;for(;m&&m!==h.body;){for(let y of m.children)c.some(b=>y.contains(b))||l.add(BR(y));m=m.parentElement}}return l.dispose},[r,e,n])}function T7(t,e,n){let r=Ol(s=>{let a=s.getBoundingClientRect();a.x===0&&a.y===0&&a.width===0&&a.height===0&&n()});w.useEffect(()=>{if(!t)return;let s=e===null?null:so(e)?e:e.current;if(!s)return;let a=oa();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>r.current(s));l.observe(s),a.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>r.current(s));l.observe(s),a.add(()=>l.disconnect())}return()=>a.dispose()},[e,r,t])}let zp=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),R7=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Bi=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Bi||{}),rw=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(rw||{}),A7=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(A7||{});function C7(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(zp)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function N7(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(R7)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var II=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(II||{});function I7(t,e=0){var n;return t===((n=Wf(t))==null?void 0:n.body)?!1:Zi(e,{0(){return t.matches(zp)},1(){let r=t;for(;r!==null;){if(r.matches(zp))return!0;r=r.parentElement}return!1}})}var P7=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(P7||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Xi(t){t?.focus({preventScroll:!0})}let k7=["textarea","input"].join(",");function M7(t){var e,n;return(n=(e=t?.matches)==null?void 0:e.call(t,k7))!=null?n:!1}function D7(t,e=n=>n){return t.slice().sort((n,r)=>{let s=e(n),a=e(r);if(s===null||a===null)return 0;let l=s.compareDocumentPosition(a);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ef(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let a=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,l=Array.isArray(t)?n?D7(t):t:e&64?N7(t):C7(t);s.length>0&&l.length>1&&(l=l.filter(_=>!s.some(E=>E!=null&&"current"in E?E?.current===_:E===_))),r=r??a.activeElement;let c=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,l.indexOf(r))-1;if(e&4)return Math.max(0,l.indexOf(r))+1;if(e&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=e&32?{preventScroll:!0}:{},m=0,y=l.length,b;do{if(m>=y||m+y<=0)return 0;let _=d+m;if(e&16)_=(_+y)%y;else{if(_<0)return 3;if(_>=y)return 1}b=l[_],b?.focus(h),m+=c}while(b!==a.activeElement);return e&6&&M7(b)&&b.select(),2}function PI(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function O7(){return/Android/gi.test(window.navigator.userAgent)}function HR(){return PI()||O7()}function Ym(t,e,n,r){let s=Ol(n);w.useEffect(()=>{if(!t)return;function a(l){s.current(l)}return document.addEventListener(e,a,r),()=>document.removeEventListener(e,a,r)},[t,e,r])}function kI(t,e,n,r){let s=Ol(n);w.useEffect(()=>{if(!t)return;function a(l){s.current(l)}return window.addEventListener(e,a,r),()=>window.removeEventListener(e,a,r)},[t,e,r])}const qR=30;function j7(t,e,n){let r=Ol(n),s=w.useCallback(function(c,d){if(c.defaultPrevented)return;let h=d(c);if(h===null||!h.getRootNode().contains(h)||!h.isConnected)return;let m=function y(b){return typeof b=="function"?y(b()):Array.isArray(b)||b instanceof Set?b:[b]}(e);for(let y of m)if(y!==null&&(y.contains(h)||c.composed&&c.composedPath().includes(y)))return;return!I7(h,II.Loose)&&h.tabIndex!==-1&&c.preventDefault(),r.current(c,h)},[r,e]),a=w.useRef(null);Ym(t,"pointerdown",c=>{var d,h;HR()||(a.current=((h=(d=c.composedPath)==null?void 0:d.call(c))==null?void 0:h[0])||c.target)},!0),Ym(t,"pointerup",c=>{if(HR()||!a.current)return;let d=a.current;return a.current=null,s(c,()=>d)},!0);let l=w.useRef({x:0,y:0});Ym(t,"touchstart",c=>{l.current.x=c.touches[0].clientX,l.current.y=c.touches[0].clientY},!0),Ym(t,"touchend",c=>{let d={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(d.x-l.current.x)>=qR||Math.abs(d.y-l.current.y)>=qR))return s(c,()=>Ya(c.target)?c.target:null)},!0),kI(t,"blur",c=>s(c,()=>Y6(window.document.activeElement)?window.document.activeElement:null),!0)}function jg(...t){return w.useMemo(()=>Wf(...t),[...t])}function MI(t,e,n,r){let s=Ol(n);w.useEffect(()=>{t=t??window;function a(l){s.current(l)}return t.addEventListener(e,a,r),()=>t.removeEventListener(e,a,r)},[t,e,r])}function L7(t){return w.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function V7(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...a){let l=e[s].call(n,...a);l&&(n=l,r.forEach(c=>c()))}}}function U7(){let t;return{before({doc:e}){var n;let r=e.documentElement,s=(n=e.defaultView)!=null?n:window;t=Math.max(0,s.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,s=Math.max(0,r.clientWidth-r.offsetWidth),a=Math.max(0,t-s);n.style(r,"paddingRight",`${a}px`)}}}function F7(){return PI()?{before({doc:t,d:e,meta:n}){function r(s){return n.containers.flatMap(a=>a()).some(a=>a.contains(s))}e.microTask(()=>{var s;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let c=oa();c.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>c.dispose()))}let a=(s=window.scrollY)!=null?s:window.pageYOffset,l=null;e.addEventListener(t,"click",c=>{if(Ya(c.target))try{let d=c.target.closest("a");if(!d)return;let{hash:h}=new URL(d.href),m=t.querySelector(h);Ya(m)&&!r(m)&&(l=m)}catch{}},!0),e.addEventListener(t,"touchstart",c=>{if(Ya(c.target)&&K6(c.target))if(r(c.target)){let d=c.target;for(;d.parentElement&&r(d.parentElement);)d=d.parentElement;e.style(d,"overscrollBehavior","contain")}else e.style(c.target,"touchAction","none")}),e.addEventListener(t,"touchmove",c=>{if(Ya(c.target)){if(vI(c.target))return;if(r(c.target)){let d=c.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),e.add(()=>{var c;let d=(c=window.scrollY)!=null?c:window.pageYOffset;a!==d&&window.scrollTo(0,a),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function z7(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function $7(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let gl=V7(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:oa(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:$7(n)},s=[F7(),U7(),z7()];s.forEach(({before:a})=>a?.(r)),s.forEach(({after:a})=>a?.(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});gl.subscribe(()=>{let t=gl.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&gl.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&gl.dispatch("TEARDOWN",n)}});function B7(t,e,n=()=>({containers:[]})){let r=L7(gl),s=e?r.get(e):void 0,a=s?s.count>0:!1;return zn(()=>{if(!(!e||!t))return gl.dispatch("PUSH",e,n),()=>gl.dispatch("POP",e,n)},[t,e]),a}function G7(t,e,n=()=>[document.body]){let r=Yf(t,"scroll-lock");B7(r,e,s=>{var a;return{containers:[...(a=s.containers)!=null?a:[],n]}})}function H7(t=0){let[e,n]=w.useState(t),r=w.useCallback(d=>n(d),[e]),s=w.useCallback(d=>n(h=>h|d),[e]),a=w.useCallback(d=>(e&d)===d,[e]),l=w.useCallback(d=>n(h=>h&~d),[n]),c=w.useCallback(d=>n(h=>h^d),[n]);return{flags:e,setFlag:r,addFlag:s,hasFlag:a,removeFlag:l,toggleFlag:c}}var q7={},WR,KR;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((WR=process==null?void 0:q7)==null?void 0:WR.NODE_ENV)==="test"&&typeof((KR=Element?.prototype)==null?void 0:KR.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var W7=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(W7||{});function K7(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function Y7(t,e,n,r){let[s,a]=w.useState(n),{hasFlag:l,addFlag:c,removeFlag:d}=H7(t&&s?3:0),h=w.useRef(!1),m=w.useRef(!1),y=kg();return zn(()=>{var b;if(t){if(n&&a(!0),!e){n&&c(3);return}return(b=r?.start)==null||b.call(r,n),X7(e,{inFlight:h,prepare(){m.current?m.current=!1:m.current=h.current,h.current=!0,!m.current&&(n?(c(3),d(4)):(c(4),d(2)))},run(){m.current?n?(d(3),c(4)):(d(4),c(3)):n?d(1):c(1)},done(){var _;m.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(h.current=!1,d(7),n||a(!1),(_=r?.end)==null||_.call(r,n))}})}},[t,n,e,y]),t?[s,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function X7(t,{prepare:e,run:n,done:r,inFlight:s}){let a=oa();return Z7(t,{prepare:e,inFlight:s}),a.nextFrame(()=>{n(),a.requestAnimationFrame(()=>{a.add(Q7(t,r))})}),a.dispose}function Q7(t,e){var n,r;let s=oa();if(!t)return s.dispose;let a=!1;s.add(()=>{a=!0});let l=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(c=>c instanceof CSSTransition))!=null?r:[];return l.length===0?(e(),s.dispose):(Promise.allSettled(l.map(c=>c.finished)).then(()=>{a||e()}),s.dispose)}function Z7(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function Nx(t,e){let n=w.useRef([]),r=ft(t);w.useEffect(()=>{let s=[...n.current];for(let[a,l]of e.entries())if(n.current[a]!==l){let c=r(e,s);return n.current=e,c}},[r,...e])}function Lg(){return typeof window<"u"}function gc(t){return DI(t)?(t.nodeName||"").toLowerCase():"#document"}function Dr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ui(t){var e;return(e=(DI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function DI(t){return Lg()?t instanceof Node||t instanceof Dr(t).Node:!1}function vs(t){return Lg()?t instanceof Element||t instanceof Dr(t).Element:!1}function ii(t){return Lg()?t instanceof HTMLElement||t instanceof Dr(t).HTMLElement:!1}function YR(t){return!Lg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Dr(t).ShadowRoot}const J7=new Set(["inline","contents"]);function Xf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ys(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!J7.has(s)}const eU=new Set(["table","td","th"]);function tU(t){return eU.has(gc(t))}const nU=[":popover-open",":modal"];function Vg(t){return nU.some(e=>{try{return t.matches(e)}catch{return!1}})}const rU=["transform","translate","scale","rotate","perspective"],sU=["transform","translate","scale","rotate","perspective","filter"],iU=["paint","layout","strict","content"];function Ix(t){const e=Px(),n=vs(t)?ys(t):t;return rU.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||sU.some(r=>(n.willChange||"").includes(r))||iU.some(r=>(n.contain||"").includes(r))}function aU(t){let e=io(t);for(;ii(e)&&!tc(e);){if(Ix(e))return e;if(Vg(e))return null;e=io(e)}return null}function Px(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const oU=new Set(["html","body","#document"]);function tc(t){return oU.has(gc(t))}function ys(t){return Dr(t).getComputedStyle(t)}function Ug(t){return vs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function io(t){if(gc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||YR(t)&&t.host||ui(t);return YR(e)?e.host:e}function OI(t){const e=io(t);return tc(e)?t.ownerDocument?t.ownerDocument.body:t.body:ii(e)&&Xf(e)?e:OI(e)}function xf(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=OI(t),a=s===((r=t.ownerDocument)==null?void 0:r.body),l=Dr(s);if(a){const c=sw(l);return e.concat(l,l.visualViewport||[],Xf(s)?s:[],c&&n?xf(c):[])}return e.concat(s,xf(s,[],n))}function sw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const lU=["top","right","bottom","left"],ao=Math.min,Ir=Math.max,$p=Math.round,Xm=Math.floor,Ks=t=>({x:t,y:t}),uU={left:"right",right:"left",bottom:"top",top:"bottom"},cU={start:"end",end:"start"};function iw(t,e,n){return Ir(t,ao(e,n))}function Ji(t,e){return typeof t=="function"?t(e):t}function ea(t){return t.split("-")[0]}function vc(t){return t.split("-")[1]}function kx(t){return t==="x"?"y":"x"}function Mx(t){return t==="y"?"height":"width"}const dU=new Set(["top","bottom"]);function qs(t){return dU.has(ea(t))?"y":"x"}function Dx(t){return kx(qs(t))}function fU(t,e,n){n===void 0&&(n=!1);const r=vc(t),s=Dx(t),a=Mx(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Bp(l)),[l,Bp(l)]}function hU(t){const e=Bp(t);return[aw(t),e,aw(e)]}function aw(t){return t.replace(/start|end/g,e=>cU[e])}const XR=["left","right"],QR=["right","left"],mU=["top","bottom"],pU=["bottom","top"];function gU(t,e,n){switch(t){case"top":case"bottom":return n?e?QR:XR:e?XR:QR;case"left":case"right":return e?mU:pU;default:return[]}}function vU(t,e,n,r){const s=vc(t);let a=gU(ea(t),n==="start",r);return s&&(a=a.map(l=>l+"-"+s),e&&(a=a.concat(a.map(aw)))),a}function Bp(t){return t.replace(/left|right|bottom|top/g,e=>uU[e])}function yU(t){return{top:0,right:0,bottom:0,left:0,...t}}function jI(t){return typeof t!="number"?yU(t):{top:t,right:t,bottom:t,left:t}}function Gp(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function ZR(t,e,n){let{reference:r,floating:s}=t;const a=qs(e),l=Dx(e),c=Mx(l),d=ea(e),h=a==="y",m=r.x+r.width/2-s.width/2,y=r.y+r.height/2-s.height/2,b=r[c]/2-s[c]/2;let _;switch(d){case"top":_={x:m,y:r.y-s.height};break;case"bottom":_={x:m,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y};break;case"left":_={x:r.x-s.width,y};break;default:_={x:r.x,y:r.y}}switch(vc(e)){case"start":_[l]-=b*(n&&h?-1:1);break;case"end":_[l]+=b*(n&&h?-1:1);break}return _}const bU=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:l}=n,c=a.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:m,y}=ZR(h,r,d),b=r,_={},E=0;for(let T=0;T<c.length;T++){const{name:R,fn:N}=c[T],{x:P,y:M,data:F,reset:$}=await N({x:m,y,initialPlacement:r,placement:b,strategy:s,middlewareData:_,rects:h,platform:l,elements:{reference:t,floating:e}});m=P??m,y=M??y,_={..._,[R]:{..._[R],...F}},$&&E<=50&&(E++,typeof $=="object"&&($.placement&&(b=$.placement),$.rects&&(h=$.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):$.rects),{x:m,y}=ZR(h,b,d)),T=-1)}return{x:m,y,placement:b,strategy:s,middlewareData:_}};async function _f(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:a,rects:l,elements:c,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:b=!1,padding:_=0}=Ji(e,t),E=jI(_),R=c[b?y==="floating"?"reference":"floating":y],N=Gp(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(R)))==null||n?R:R.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:d})),P=y==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,M=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),F=await(a.isElement==null?void 0:a.isElement(M))?await(a.getScale==null?void 0:a.getScale(M))||{x:1,y:1}:{x:1,y:1},$=Gp(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:P,offsetParent:M,strategy:d}):P);return{top:(N.top-$.top+E.top)/F.y,bottom:($.bottom-N.bottom+E.bottom)/F.y,left:(N.left-$.left+E.left)/F.x,right:($.right-N.right+E.right)/F.x}}const wU=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:a,platform:l,elements:c,middlewareData:d}=e,{element:h,padding:m=0}=Ji(t,e)||{};if(h==null)return{};const y=jI(m),b={x:n,y:r},_=Dx(s),E=Mx(_),T=await l.getDimensions(h),R=_==="y",N=R?"top":"left",P=R?"bottom":"right",M=R?"clientHeight":"clientWidth",F=a.reference[E]+a.reference[_]-b[_]-a.floating[E],$=b[_]-a.reference[_],X=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let O=X?X[M]:0;(!O||!await(l.isElement==null?void 0:l.isElement(X)))&&(O=c.floating[M]||a.floating[E]);const I=F/2-$/2,D=O/2-T[E]/2-1,L=ao(y[N],D),z=ao(y[P],D),G=L,U=O-T[E]-z,ye=O/2-T[E]/2+I,Te=iw(G,ye,U),K=!d.arrow&&vc(s)!=null&&ye!==Te&&a.reference[E]/2-(ye<G?L:z)-T[E]/2<0,ie=K?ye<G?ye-G:ye-U:0;return{[_]:b[_]+ie,data:{[_]:Te,centerOffset:ye-Te-ie,...K&&{alignmentOffset:ie}},reset:K}}}),xU=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:a,rects:l,initialPlacement:c,platform:d,elements:h}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:b,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:T=!0,...R}=Ji(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=ea(s),P=qs(c),M=ea(c)===c,F=await(d.isRTL==null?void 0:d.isRTL(h.floating)),$=b||(M||!T?[Bp(c)]:hU(c)),X=E!=="none";!b&&X&&$.push(...vU(c,T,E,F));const O=[c,...$],I=await _f(e,R),D=[];let L=((r=a.flip)==null?void 0:r.overflows)||[];if(m&&D.push(I[N]),y){const ye=fU(s,l,F);D.push(I[ye[0]],I[ye[1]])}if(L=[...L,{placement:s,overflows:D}],!D.every(ye=>ye<=0)){var z,G;const ye=(((z=a.flip)==null?void 0:z.index)||0)+1,Te=O[ye];if(Te&&(!(y==="alignment"?P!==qs(Te):!1)||L.every(Y=>Y.overflows[0]>0&&qs(Y.placement)===P)))return{data:{index:ye,overflows:L},reset:{placement:Te}};let K=(G=L.filter(ie=>ie.overflows[0]<=0).sort((ie,Y)=>ie.overflows[1]-Y.overflows[1])[0])==null?void 0:G.placement;if(!K)switch(_){case"bestFit":{var U;const ie=(U=L.filter(Y=>{if(X){const le=qs(Y.placement);return le===P||le==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(le=>le>0).reduce((le,V)=>le+V,0)]).sort((Y,le)=>Y[1]-le[1])[0])==null?void 0:U[0];ie&&(K=ie);break}case"initialPlacement":K=c;break}if(s!==K)return{reset:{placement:K}}}return{}}}};function JR(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function eA(t){return lU.some(e=>t[e]>=0)}const _U=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ji(t,e);switch(r){case"referenceHidden":{const a=await _f(e,{...s,elementContext:"reference"}),l=JR(a,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:eA(l)}}}case"escaped":{const a=await _f(e,{...s,altBoundary:!0}),l=JR(a,n.floating);return{data:{escapedOffsets:l,escaped:eA(l)}}}default:return{}}}}},LI=new Set(["left","top"]);async function EU(t,e){const{placement:n,platform:r,elements:s}=t,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=ea(n),c=vc(n),d=qs(n)==="y",h=LI.has(l)?-1:1,m=a&&d?-1:1,y=Ji(e,t);let{mainAxis:b,crossAxis:_,alignmentAxis:E}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof E=="number"&&(_=c==="end"?E*-1:E),d?{x:_*m,y:b*h}:{x:b*h,y:_*m}}const SU=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:a,placement:l,middlewareData:c}=e,d=await EU(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:a+d.y,data:{...d,placement:l}}}}},TU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:R=>{let{x:N,y:P}=R;return{x:N,y:P}}},...d}=Ji(t,e),h={x:n,y:r},m=await _f(e,d),y=qs(ea(s)),b=kx(y);let _=h[b],E=h[y];if(a){const R=b==="y"?"top":"left",N=b==="y"?"bottom":"right",P=_+m[R],M=_-m[N];_=iw(P,_,M)}if(l){const R=y==="y"?"top":"left",N=y==="y"?"bottom":"right",P=E+m[R],M=E-m[N];E=iw(P,E,M)}const T=c.fn({...e,[b]:_,[y]:E});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[b]:a,[y]:l}}}}}},RU=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:a,middlewareData:l}=e,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=Ji(t,e),m={x:n,y:r},y=qs(s),b=kx(y);let _=m[b],E=m[y];const T=Ji(c,e),R=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(d){const M=b==="y"?"height":"width",F=a.reference[b]-a.floating[M]+R.mainAxis,$=a.reference[b]+a.reference[M]-R.mainAxis;_<F?_=F:_>$&&(_=$)}if(h){var N,P;const M=b==="y"?"width":"height",F=LI.has(ea(s)),$=a.reference[y]-a.floating[M]+(F&&((N=l.offset)==null?void 0:N[y])||0)+(F?0:R.crossAxis),X=a.reference[y]+a.reference[M]+(F?0:((P=l.offset)==null?void 0:P[y])||0)-(F?R.crossAxis:0);E<$?E=$:E>X&&(E=X)}return{[b]:_,[y]:E}}}},AU=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:a,platform:l,elements:c}=e,{apply:d=()=>{},...h}=Ji(t,e),m=await _f(e,h),y=ea(s),b=vc(s),_=qs(s)==="y",{width:E,height:T}=a.floating;let R,N;y==="top"||y==="bottom"?(R=y,N=b===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(N=y,R=b==="end"?"top":"bottom");const P=T-m.top-m.bottom,M=E-m.left-m.right,F=ao(T-m[R],P),$=ao(E-m[N],M),X=!e.middlewareData.shift;let O=F,I=$;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=M),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=P),X&&!b){const L=Ir(m.left,0),z=Ir(m.right,0),G=Ir(m.top,0),U=Ir(m.bottom,0);_?I=E-2*(L!==0||z!==0?L+z:Ir(m.left,m.right)):O=T-2*(G!==0||U!==0?G+U:Ir(m.top,m.bottom))}await d({...e,availableWidth:I,availableHeight:O});const D=await l.getDimensions(c.floating);return E!==D.width||T!==D.height?{reset:{rects:!0}}:{}}}};function VI(t){const e=ys(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ii(t),a=s?t.offsetWidth:n,l=s?t.offsetHeight:r,c=$p(n)!==a||$p(r)!==l;return c&&(n=a,r=l),{width:n,height:r,$:c}}function Ox(t){return vs(t)?t:t.contextElement}function Yu(t){const e=Ox(t);if(!ii(e))return Ks(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:a}=VI(e);let l=(a?$p(n.width):n.width)/r,c=(a?$p(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const CU=Ks(0);function UI(t){const e=Dr(t);return!Px()||!e.visualViewport?CU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function NU(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Dr(t)?!1:e}function Cl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),a=Ox(t);let l=Ks(1);e&&(r?vs(r)&&(l=Yu(r)):l=Yu(t));const c=NU(a,n,r)?UI(a):Ks(0);let d=(s.left+c.x)/l.x,h=(s.top+c.y)/l.y,m=s.width/l.x,y=s.height/l.y;if(a){const b=Dr(a),_=r&&vs(r)?Dr(r):r;let E=b,T=sw(E);for(;T&&r&&_!==E;){const R=Yu(T),N=T.getBoundingClientRect(),P=ys(T),M=N.left+(T.clientLeft+parseFloat(P.paddingLeft))*R.x,F=N.top+(T.clientTop+parseFloat(P.paddingTop))*R.y;d*=R.x,h*=R.y,m*=R.x,y*=R.y,d+=M,h+=F,E=Dr(T),T=sw(E)}}return Gp({width:m,height:y,x:d,y:h})}function jx(t,e){const n=Ug(t).scrollLeft;return e?e.left+n:Cl(ui(t)).left+n}function FI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:jx(t,r)),a=r.top+e.scrollTop;return{x:s,y:a}}function IU(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const a=s==="fixed",l=ui(r),c=e?Vg(e.floating):!1;if(r===l||c&&a)return n;let d={scrollLeft:0,scrollTop:0},h=Ks(1);const m=Ks(0),y=ii(r);if((y||!y&&!a)&&((gc(r)!=="body"||Xf(l))&&(d=Ug(r)),ii(r))){const _=Cl(r);h=Yu(r),m.x=_.x+r.clientLeft,m.y=_.y+r.clientTop}const b=l&&!y&&!a?FI(l,d,!0):Ks(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+m.x+b.x,y:n.y*h.y-d.scrollTop*h.y+m.y+b.y}}function PU(t){return Array.from(t.getClientRects())}function kU(t){const e=ui(t),n=Ug(t),r=t.ownerDocument.body,s=Ir(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Ir(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+jx(t);const c=-n.scrollTop;return ys(r).direction==="rtl"&&(l+=Ir(e.clientWidth,r.clientWidth)-s),{width:s,height:a,x:l,y:c}}function MU(t,e){const n=Dr(t),r=ui(t),s=n.visualViewport;let a=r.clientWidth,l=r.clientHeight,c=0,d=0;if(s){a=s.width,l=s.height;const h=Px();(!h||h&&e==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}return{width:a,height:l,x:c,y:d}}const DU=new Set(["absolute","fixed"]);function OU(t,e){const n=Cl(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,a=ii(t)?Yu(t):Ks(1),l=t.clientWidth*a.x,c=t.clientHeight*a.y,d=s*a.x,h=r*a.y;return{width:l,height:c,x:d,y:h}}function tA(t,e,n){let r;if(e==="viewport")r=MU(t,n);else if(e==="document")r=kU(ui(t));else if(vs(e))r=OU(e,n);else{const s=UI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Gp(r)}function zI(t,e){const n=io(t);return n===e||!vs(n)||tc(n)?!1:ys(n).position==="fixed"||zI(n,e)}function jU(t,e){const n=e.get(t);if(n)return n;let r=xf(t,[],!1).filter(c=>vs(c)&&gc(c)!=="body"),s=null;const a=ys(t).position==="fixed";let l=a?io(t):t;for(;vs(l)&&!tc(l);){const c=ys(l),d=Ix(l);!d&&c.position==="fixed"&&(s=null),(a?!d&&!s:!d&&c.position==="static"&&!!s&&DU.has(s.position)||Xf(l)&&!d&&zI(t,l))?r=r.filter(m=>m!==l):s=c,l=io(l)}return e.set(t,r),r}function LU(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const l=[...n==="clippingAncestors"?Vg(e)?[]:jU(e,this._c):[].concat(n),r],c=l[0],d=l.reduce((h,m)=>{const y=tA(e,m,s);return h.top=Ir(y.top,h.top),h.right=ao(y.right,h.right),h.bottom=ao(y.bottom,h.bottom),h.left=Ir(y.left,h.left),h},tA(e,c,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function VU(t){const{width:e,height:n}=VI(t);return{width:e,height:n}}function UU(t,e,n){const r=ii(e),s=ui(e),a=n==="fixed",l=Cl(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const d=Ks(0);function h(){d.x=jx(s)}if(r||!r&&!a)if((gc(e)!=="body"||Xf(s))&&(c=Ug(e)),r){const _=Cl(e,!0,a,e);d.x=_.x+e.clientLeft,d.y=_.y+e.clientTop}else s&&h();a&&!r&&s&&h();const m=s&&!r&&!a?FI(s,c):Ks(0),y=l.left+c.scrollLeft-d.x-m.x,b=l.top+c.scrollTop-d.y-m.y;return{x:y,y:b,width:l.width,height:l.height}}function qy(t){return ys(t).position==="static"}function nA(t,e){if(!ii(t)||ys(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ui(t)===n&&(n=n.ownerDocument.body),n}function $I(t,e){const n=Dr(t);if(Vg(t))return n;if(!ii(t)){let s=io(t);for(;s&&!tc(s);){if(vs(s)&&!qy(s))return s;s=io(s)}return n}let r=nA(t,e);for(;r&&tU(r)&&qy(r);)r=nA(r,e);return r&&tc(r)&&qy(r)&&!Ix(r)?n:r||aU(t)||n}const FU=async function(t){const e=this.getOffsetParent||$I,n=this.getDimensions,r=await n(t.floating);return{reference:UU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function zU(t){return ys(t).direction==="rtl"}const $U={convertOffsetParentRelativeRectToViewportRelativeRect:IU,getDocumentElement:ui,getClippingRect:LU,getOffsetParent:$I,getElementRects:FU,getClientRects:PU,getDimensions:VU,getScale:Yu,isElement:vs,isRTL:zU};function BI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function BU(t,e){let n=null,r;const s=ui(t);function a(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),a();const h=t.getBoundingClientRect(),{left:m,top:y,width:b,height:_}=h;if(c||e(),!b||!_)return;const E=Xm(y),T=Xm(s.clientWidth-(m+b)),R=Xm(s.clientHeight-(y+_)),N=Xm(m),M={rootMargin:-E+"px "+-T+"px "+-R+"px "+-N+"px",threshold:Ir(0,ao(1,d))||1};let F=!0;function $(X){const O=X[0].intersectionRatio;if(O!==d){if(!F)return l();O?l(!1,O):r=setTimeout(()=>{l(!1,1e-7)},1e3)}O===1&&!BI(h,t.getBoundingClientRect())&&l(),F=!1}try{n=new IntersectionObserver($,{...M,root:s.ownerDocument})}catch{n=new IntersectionObserver($,M)}n.observe(t)}return l(!0),a}function GU(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=Ox(t),m=s||a?[...h?xf(h):[],...xf(e)]:[];m.forEach(N=>{s&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const y=h&&c?BU(h,n):null;let b=-1,_=null;l&&(_=new ResizeObserver(N=>{let[P]=N;P&&P.target===h&&_&&(_.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var M;(M=_)==null||M.observe(e)})),n()}),h&&!d&&_.observe(h),_.observe(e));let E,T=d?Cl(t):null;d&&R();function R(){const N=Cl(t);T&&!BI(T,N)&&n(),T=N,E=requestAnimationFrame(R)}return n(),()=>{var N;m.forEach(P=>{s&&P.removeEventListener("scroll",n),a&&P.removeEventListener("resize",n)}),y?.(),(N=_)==null||N.disconnect(),_=null,d&&cancelAnimationFrame(E)}}const HU=SU,qU=TU,WU=xU,KU=AU,YU=_U,rA=wU,XU=RU,QU=(t,e,n)=>{const r=new Map,s={platform:$U,...n},a={...s.platform,_c:r};return bU(t,e,{...s,platform:a})};var ZU=typeof document<"u",JU=function(){},yp=ZU?w.useLayoutEffect:JU;function Hp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Hp(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&t.$$typeof)&&!Hp(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function GI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function sA(t,e){const n=GI(t);return Math.round(e*n)/n}function Wy(t){const e=w.useRef(t);return yp(()=>{e.current=t}),e}function e9(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:d,open:h}=t,[m,y]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,_]=w.useState(r);Hp(b,r)||_(r);const[E,T]=w.useState(null),[R,N]=w.useState(null),P=w.useCallback(Y=>{Y!==X.current&&(X.current=Y,T(Y))},[]),M=w.useCallback(Y=>{Y!==O.current&&(O.current=Y,N(Y))},[]),F=a||E,$=l||R,X=w.useRef(null),O=w.useRef(null),I=w.useRef(m),D=d!=null,L=Wy(d),z=Wy(s),G=Wy(h),U=w.useCallback(()=>{if(!X.current||!O.current)return;const Y={placement:e,strategy:n,middleware:b};z.current&&(Y.platform=z.current),QU(X.current,O.current,Y).then(le=>{const V={...le,isPositioned:G.current!==!1};ye.current&&!Hp(I.current,V)&&(I.current=V,Ig.flushSync(()=>{y(V)}))})},[b,e,n,z,G]);yp(()=>{h===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,y(Y=>({...Y,isPositioned:!1})))},[h]);const ye=w.useRef(!1);yp(()=>(ye.current=!0,()=>{ye.current=!1}),[]),yp(()=>{if(F&&(X.current=F),$&&(O.current=$),F&&$){if(L.current)return L.current(F,$,U);U()}},[F,$,U,L,D]);const Te=w.useMemo(()=>({reference:X,floating:O,setReference:P,setFloating:M}),[P,M]),K=w.useMemo(()=>({reference:F,floating:$}),[F,$]),ie=w.useMemo(()=>{const Y={position:n,left:0,top:0};if(!K.floating)return Y;const le=sA(K.floating,m.x),V=sA(K.floating,m.y);return c?{...Y,transform:"translate("+le+"px, "+V+"px)",...GI(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:le,top:V}},[n,c,K.floating,m.x,m.y]);return w.useMemo(()=>({...m,update:U,refs:Te,elements:K,floatingStyles:ie}),[m,U,Te,K,ie])}const t9=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?rA({element:r.current,padding:s}).fn(n):{}:r?rA({element:r,padding:s}).fn(n):{}}}},n9=(t,e)=>({...HU(t),options:[t,e]}),r9=(t,e)=>({...qU(t),options:[t,e]}),s9=(t,e)=>({...XU(t),options:[t,e]}),i9=(t,e)=>({...WU(t),options:[t,e]}),a9=(t,e)=>({...KU(t),options:[t,e]}),o9=(t,e)=>({...YU(t),options:[t,e]}),l9=(t,e)=>({...t9(t),options:[t,e]});let Fg=w.createContext(null);Fg.displayName="OpenClosedContext";var fs=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(fs||{});function zg(){return w.useContext(Fg)}function u9({value:t,children:e}){return Se.createElement(Fg.Provider,{value:t},e)}function c9({children:t}){return Se.createElement(Fg.Provider,{value:null},t)}function d9(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ba=[];d9(()=>{function t(e){if(!Ya(e.target)||e.target===document.body||Ba[0]===e.target)return;let n=e.target;n=n.closest(zp),Ba.unshift(n??e.target),Ba=Ba.filter(r=>r!=null&&r.isConnected),Ba.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function HI(t){let e=ft(t),n=w.useRef(!1);w.useEffect(()=>(n.current=!1,()=>{n.current=!0,Pg(()=>{n.current&&e()})}),[e])}function f9(){let t=typeof document>"u";return"useSyncExternalStore"in jp?(e=>e.useSyncExternalStore)(jp)(()=>()=>{},()=>!1,()=>!t):!1}function Qf(){let t=f9(),[e,n]=w.useState(xl.isHandoffComplete);return e&&xl.isHandoffComplete===!1&&n(!1),w.useEffect(()=>{e!==!0&&n(!0)},[e]),w.useEffect(()=>xl.handoff(),[]),t?!1:e}let qI=w.createContext(!1);function h9(){return w.useContext(qI)}function iA(t){return Se.createElement(qI.Provider,{value:t.force},t.children)}function m9(t){let e=h9(),n=w.useContext(KI),[r,s]=w.useState(()=>{var a;if(!e&&n!==null)return(a=n.current)!=null?a:null;if(xl.isServer)return null;let l=t?.getElementById("headlessui-portal-root");if(l)return l;if(t===null)return null;let c=t.createElement("div");return c.setAttribute("id","headlessui-portal-root"),t.body.appendChild(c)});return w.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),w.useEffect(()=>{e||n!==null&&s(n.current)},[n,s,e]),r}let WI=w.Fragment,p9=xn(function(t,e){let{ownerDocument:n=null,...r}=t,s=w.useRef(null),a=Ss(Q6(_=>{s.current=_}),e),l=jg(s),c=n??l,d=m9(c),[h]=w.useState(()=>{var _;return xl.isServer?null:(_=c?.createElement("div"))!=null?_:null}),m=w.useContext(ow),y=Qf();zn(()=>{!d||!h||d.contains(h)||(h.setAttribute("data-headlessui-portal",""),d.appendChild(h))},[d,h]),zn(()=>{if(h&&m)return m.register(h)},[m,h]),HI(()=>{var _;!d||!h||(gI(h)&&d.contains(h)&&d.removeChild(h),d.childNodes.length<=0&&((_=d.parentElement)==null||_.removeChild(d)))});let b=nr();return y?!d||!h?null:Ig.createPortal(b({ourProps:{ref:a},theirProps:r,slot:{},defaultTag:WI,name:"Portal"}),h):null});function g9(t,e){let n=Ss(e),{enabled:r=!0,ownerDocument:s,...a}=t,l=nr();return r?Se.createElement(p9,{...a,ownerDocument:s,ref:n}):l({ourProps:{ref:n},theirProps:a,slot:{},defaultTag:WI,name:"Portal"})}let v9=w.Fragment,KI=w.createContext(null);function y9(t,e){let{target:n,...r}=t,s={ref:Ss(e)},a=nr();return Se.createElement(KI.Provider,{value:n},a({ourProps:s,theirProps:r,defaultTag:v9,name:"Popover.Group"}))}let ow=w.createContext(null);function b9(){let t=w.useContext(ow),e=w.useRef([]),n=ft(a=>(e.current.push(a),t&&t.register(a),()=>r(a))),r=ft(a=>{let l=e.current.indexOf(a);l!==-1&&e.current.splice(l,1),t&&t.unregister(a)}),s=w.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,w.useMemo(()=>function({children:a}){return Se.createElement(ow.Provider,{value:s},a)},[s])]}let w9=xn(g9),YI=xn(y9),x9=Object.assign(w9,{Group:YI}),_9=w.Fragment;function E9(t,e){let{...n}=t,r=!1,{isFocusVisible:s,focusProps:a}=Rx(),{isHovered:l,hoverProps:c}=Tx({isDisabled:r}),{pressed:d,pressProps:h}=Ax({disabled:r}),m=Dg({ref:e},a,c,h),y=w.useMemo(()=>({hover:l,focus:s,active:d}),[l,s,d]);return nr()({ourProps:m,theirProps:n,slot:y,defaultTag:_9,name:"DataInteractive"})}let S9=xn(E9);function T9(t,e=typeof document<"u"?document.defaultView:null,n){let r=Yf(t,"escape");MI(e,"keydown",s=>{r&&(s.defaultPrevented||s.key===wI.Escape&&n(s))})}function R9(){var t;let[e]=w.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=w.useState((t=e?.matches)!=null?t:!1);return zn(()=>{if(!e)return;function s(a){r(a.matches)}return e.addEventListener("change",s),()=>e.removeEventListener("change",s)},[e]),n}function A9({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=jg(n),s=ft(()=>{var a,l;let c=[];for(let d of t)d!==null&&(Yi(d)?c.push(d):"current"in d&&Yi(d.current)&&c.push(d.current));if(e!=null&&e.current)for(let d of e.current)c.push(d);for(let d of(a=r?.querySelectorAll("html > *, body > *"))!=null?a:[])d!==document.body&&d!==document.head&&Yi(d)&&d.id!=="headlessui-portal-root"&&(n&&(d.contains(n)||d.contains((l=n?.getRootNode())==null?void 0:l.host))||c.some(h=>d.contains(h))||c.push(d));return c});return{resolveContainers:s,contains:ft(a=>s().some(l=>l.contains(a)))}}let XI=w.createContext(null);function aA({children:t,node:e}){let[n,r]=w.useState(null),s=QI(e??n);return Se.createElement(XI.Provider,{value:s},t,s===null&&Se.createElement(tw,{features:Fp.Hidden,ref:a=>{var l,c;if(a){for(let d of(c=(l=Wf(a))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?c:[])if(d!==document.body&&d!==document.head&&Yi(d)&&d!=null&&d.contains(a)){r(d);break}}}}))}function QI(t=null){var e;return(e=w.useContext(XI))!=null?e:t}function Lx(){let t=w.useRef(!1);return zn(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var qd=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(qd||{});function C9(){let t=w.useRef(0);return kI(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function ZI(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)Yi(n.current)&&e.add(n.current);return e}let N9="div";var fl=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(fl||{});function I9(t,e){let n=w.useRef(null),r=Ss(n,e),{initialFocus:s,initialFocusFallback:a,containers:l,features:c=15,...d}=t;Qf()||(c=0);let h=jg(n);D9(c,{ownerDocument:h});let m=O9(c,{ownerDocument:h,container:n,initialFocus:s,initialFocusFallback:a});j9(c,{ownerDocument:h,container:n,containers:l,previousActiveElement:m});let y=C9(),b=ft(P=>{if(!so(n.current))return;let M=n.current;(F=>F())(()=>{Zi(y.current,{[qd.Forwards]:()=>{ef(M,Bi.First,{skipElements:[P.relatedTarget,a]})},[qd.Backwards]:()=>{ef(M,Bi.Last,{skipElements:[P.relatedTarget,a]})}})})}),_=Yf(!!(c&2),"focus-trap#tab-lock"),E=kg(),T=w.useRef(!1),R={ref:r,onKeyDown(P){P.key=="Tab"&&(T.current=!0,E.requestAnimationFrame(()=>{T.current=!1}))},onBlur(P){if(!(c&4))return;let M=ZI(l);so(n.current)&&M.add(n.current);let F=P.relatedTarget;Ya(F)&&F.dataset.headlessuiFocusGuard!=="true"&&(JI(M,F)||(T.current?ef(n.current,Zi(y.current,{[qd.Forwards]:()=>Bi.Next,[qd.Backwards]:()=>Bi.Previous})|Bi.WrapAround,{relativeTo:P.target}):Ya(P.target)&&Xi(P.target)))}},N=nr();return Se.createElement(Se.Fragment,null,_&&Se.createElement(tw,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:b,features:Fp.Focusable}),N({ourProps:R,theirProps:d,defaultTag:N9,name:"FocusTrap"}),_&&Se.createElement(tw,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:b,features:Fp.Focusable}))}let P9=xn(I9),k9=Object.assign(P9,{features:fl});function M9(t=!0){let e=w.useRef(Ba.slice());return Nx(([n],[r])=>{r===!0&&n===!1&&Pg(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=Ba.slice())},[t,Ba,e]),ft(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function D9(t,{ownerDocument:e}){let n=!!(t&8),r=M9(n);Nx(()=>{n||e?.activeElement===e?.body&&Xi(r())},[n]),HI(()=>{n&&Xi(r())})}function O9(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:s}){let a=w.useRef(null),l=Yf(!!(t&1),"focus-trap#initial-focus"),c=Lx();return Nx(()=>{if(t===0)return;if(!l){s!=null&&s.current&&Xi(s.current);return}let d=n.current;d&&Pg(()=>{if(!c.current)return;let h=e?.activeElement;if(r!=null&&r.current){if(r?.current===h){a.current=h;return}}else if(d.contains(h)){a.current=h;return}if(r!=null&&r.current)Xi(r.current);else{if(t&16){if(ef(d,Bi.First|Bi.AutoFocus)!==rw.Error)return}else if(ef(d,Bi.First)!==rw.Error)return;if(s!=null&&s.current&&(Xi(s.current),e?.activeElement===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}a.current=e?.activeElement})},[s,l,t]),a}function j9(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:s}){let a=Lx(),l=!!(t&4);MI(e?.defaultView,"focus",c=>{if(!l||!a.current)return;let d=ZI(r);so(n.current)&&d.add(n.current);let h=s.current;if(!h)return;let m=c.target;so(m)?JI(d,m)?(s.current=m,Xi(m)):(c.preventDefault(),c.stopPropagation(),Xi(h)):Xi(s.current)},!0)}function JI(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function eP(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:nP)!==w.Fragment||Se.Children.count(t.children)===1}let $g=w.createContext(null);$g.displayName="TransitionContext";var L9=(t=>(t.Visible="visible",t.Hidden="hidden",t))(L9||{});function V9(){let t=w.useContext($g);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function U9(){let t=w.useContext(Bg);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Bg=w.createContext(null);Bg.displayName="NestingContext";function Gg(t){return"children"in t?Gg(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function tP(t,e){let n=Ol(t),r=w.useRef([]),s=Lx(),a=kg(),l=ft((_,E=Ka.Hidden)=>{let T=r.current.findIndex(({el:R})=>R===_);T!==-1&&(Zi(E,{[Ka.Unmount](){r.current.splice(T,1)},[Ka.Hidden](){r.current[T].state="hidden"}}),a.microTask(()=>{var R;!Gg(r)&&s.current&&((R=n.current)==null||R.call(n))}))}),c=ft(_=>{let E=r.current.find(({el:T})=>T===_);return E?E.state!=="visible"&&(E.state="visible"):r.current.push({el:_,state:"visible"}),()=>l(_,Ka.Unmount)}),d=w.useRef([]),h=w.useRef(Promise.resolve()),m=w.useRef({enter:[],leave:[]}),y=ft((_,E,T)=>{d.current.splice(0),e&&(e.chains.current[E]=e.chains.current[E].filter(([R])=>R!==_)),e?.chains.current[E].push([_,new Promise(R=>{d.current.push(R)})]),e?.chains.current[E].push([_,new Promise(R=>{Promise.all(m.current[E].map(([N,P])=>P)).then(()=>R())})]),E==="enter"?h.current=h.current.then(()=>e?.wait.current).then(()=>T(E)):T(E)}),b=ft((_,E,T)=>{Promise.all(m.current[E].splice(0).map(([R,N])=>N)).then(()=>{var R;(R=d.current.shift())==null||R()}).then(()=>T(E))});return w.useMemo(()=>({children:r,register:c,unregister:l,onStart:y,onStop:b,wait:h,chains:m}),[c,l,r,y,b,m,h])}let nP=w.Fragment,rP=Up.RenderStrategy;function F9(t,e){var n,r;let{transition:s=!0,beforeEnter:a,afterEnter:l,beforeLeave:c,afterLeave:d,enter:h,enterFrom:m,enterTo:y,entered:b,leave:_,leaveFrom:E,leaveTo:T,...R}=t,[N,P]=w.useState(null),M=w.useRef(null),F=eP(t),$=Ss(...F?[M,e,P]:e===null?[]:[e]),X=(n=R.unmount)==null||n?Ka.Unmount:Ka.Hidden,{show:O,appear:I,initial:D}=V9(),[L,z]=w.useState(O?"visible":"hidden"),G=U9(),{register:U,unregister:ye}=G;zn(()=>U(M),[U,M]),zn(()=>{if(X===Ka.Hidden&&M.current){if(O&&L!=="visible"){z("visible");return}return Zi(L,{hidden:()=>ye(M),visible:()=>U(M)})}},[L,M,U,ye,O,X]);let Te=Qf();zn(()=>{if(F&&Te&&L==="visible"&&M.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[M,L,Te,F]);let K=D&&!I,ie=I&&O&&D,Y=w.useRef(!1),le=tP(()=>{Y.current||(z("hidden"),ye(M))},G),V=ft(be=>{Y.current=!0;let $e=be?"enter":"leave";le.onStart(M,$e,vt=>{vt==="enter"?a?.():vt==="leave"&&c?.()})}),ee=ft(be=>{let $e=be?"enter":"leave";Y.current=!1,le.onStop(M,$e,vt=>{vt==="enter"?l?.():vt==="leave"&&d?.()}),$e==="leave"&&!Gg(le)&&(z("hidden"),ye(M))});w.useEffect(()=>{F&&s||(V(O),ee(O))},[O,F,s]);let fe=!(!s||!F||!Te||K),[,ne]=Y7(fe,N,O,{start:V,end:ee}),me=ll({ref:$,className:((r=ew(R.className,ie&&h,ie&&m,ne.enter&&h,ne.enter&&ne.closed&&m,ne.enter&&!ne.closed&&y,ne.leave&&_,ne.leave&&!ne.closed&&E,ne.leave&&ne.closed&&T,!ne.transition&&O&&b))==null?void 0:r.trim())||void 0,...K7(ne)}),Re=0;L==="visible"&&(Re|=fs.Open),L==="hidden"&&(Re|=fs.Closed),O&&L==="hidden"&&(Re|=fs.Opening),!O&&L==="visible"&&(Re|=fs.Closing);let ge=nr();return Se.createElement(Bg.Provider,{value:le},Se.createElement(u9,{value:Re},ge({ourProps:me,theirProps:R,defaultTag:nP,features:rP,visible:L==="visible",name:"Transition.Child"})))}function z9(t,e){let{show:n,appear:r=!1,unmount:s=!0,...a}=t,l=w.useRef(null),c=eP(t),d=Ss(...c?[l,e]:e===null?[]:[e]);Qf();let h=zg();if(n===void 0&&h!==null&&(n=(h&fs.Open)===fs.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[m,y]=w.useState(n?"visible":"hidden"),b=tP(()=>{n||y("hidden")}),[_,E]=w.useState(!0),T=w.useRef([n]);zn(()=>{_!==!1&&T.current[T.current.length-1]!==n&&(T.current.push(n),E(!1))},[T,n]);let R=w.useMemo(()=>({show:n,appear:r,initial:_}),[n,r,_]);zn(()=>{n?y("visible"):!Gg(b)&&l.current!==null&&y("hidden")},[n,b]);let N={unmount:s},P=ft(()=>{var $;_&&E(!1),($=t.beforeEnter)==null||$.call(t)}),M=ft(()=>{var $;_&&E(!1),($=t.beforeLeave)==null||$.call(t)}),F=nr();return Se.createElement(Bg.Provider,{value:b},Se.createElement($g.Provider,{value:R},F({ourProps:{...N,as:w.Fragment,children:Se.createElement(sP,{ref:d,...N,...a,beforeEnter:P,beforeLeave:M})},theirProps:{},defaultTag:w.Fragment,features:rP,visible:m==="visible",name:"Transition"})))}function $9(t,e){let n=w.useContext($g)!==null,r=zg()!==null;return Se.createElement(Se.Fragment,null,!n&&r?Se.createElement(lw,{ref:e,...t}):Se.createElement(sP,{ref:e,...t}))}let lw=xn(z9),sP=xn(F9),Vx=xn($9),B9=Object.assign(lw,{Child:Vx,Root:lw});var G9=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(G9||{}),H9=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(H9||{});let q9={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},Ux=w.createContext(null);Ux.displayName="DialogContext";function Hg(t){let e=w.useContext(Ux);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Hg),n}return e}function W9(t,e){return Zi(e.type,q9,t,e)}let oA=xn(function(t,e){let n=w.useId(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:a,initialFocus:l,role:c="dialog",autoFocus:d=!0,__demoMode:h=!1,unmount:m=!1,...y}=t,b=w.useRef(!1);c=function(){return c==="dialog"||c==="alertdialog"?c:(b.current||(b.current=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let _=zg();s===void 0&&_!==null&&(s=(_&fs.Open)===fs.Open);let E=w.useRef(null),T=Ss(E,e),R=jg(E),N=s?0:1,[P,M]=w.useReducer(W9,{titleId:null,descriptionId:null,panelRef:w.createRef()}),F=ft(()=>a(!1)),$=ft(ne=>M({type:0,id:ne})),X=Qf()?N===0:!1,[O,I]=b9(),D={get current(){var ne;return(ne=P.panelRef.current)!=null?ne:E.current}},L=QI(),{resolveContainers:z}=A9({mainTreeNode:L,portals:O,defaultContainers:[D]}),G=_!==null?(_&fs.Closing)===fs.Closing:!1;S7(h||G?!1:X,{allowed:ft(()=>{var ne,me;return[(me=(ne=E.current)==null?void 0:ne.closest("[data-headlessui-portal]"))!=null?me:null]}),disallowed:ft(()=>{var ne;return[(ne=L?.closest("body > *:not(#headlessui-portal-root)"))!=null?ne:null]})});let U=CI.get(null);zn(()=>{if(X)return U.actions.push(r),()=>U.actions.pop(r)},[U,r,X]);let ye=NI(U,w.useCallback(ne=>U.selectors.isTop(ne,r),[U,r]));j7(ye,z,ne=>{ne.preventDefault(),F()}),T9(ye,R?.defaultView,ne=>{ne.preventDefault(),ne.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),F()}),G7(h||G?!1:X,R,z),T7(X,E,F);let[Te,K]=J6(),ie=w.useMemo(()=>[{dialogState:N,close:F,setTitleId:$,unmount:m},P],[N,P,F,$,m]),Y=w.useMemo(()=>({open:N===0}),[N]),le={ref:T,id:r,role:c,tabIndex:-1,"aria-modal":h?void 0:N===0?!0:void 0,"aria-labelledby":P.titleId,"aria-describedby":Te,unmount:m},V=!R9(),ee=fl.None;X&&!h&&(ee|=fl.RestoreFocus,ee|=fl.TabLock,d&&(ee|=fl.AutoFocus),V&&(ee|=fl.InitialFocus));let fe=nr();return Se.createElement(c9,null,Se.createElement(iA,{force:!0},Se.createElement(x9,null,Se.createElement(Ux.Provider,{value:ie},Se.createElement(YI,{target:E},Se.createElement(iA,{force:!1},Se.createElement(K,{slot:Y},Se.createElement(I,null,Se.createElement(k9,{initialFocus:l,initialFocusFallback:E,containers:z,features:ee},Se.createElement(u7,{value:F},fe({ourProps:le,theirProps:y,slot:Y,defaultTag:K9,features:Y9,visible:N===0,name:"Dialog"})))))))))))}),K9="div",Y9=Up.RenderStrategy|Up.Static;function X9(t,e){let{transition:n=!1,open:r,...s}=t,a=zg(),l=t.hasOwnProperty("open")||a!==null,c=t.hasOwnProperty("onClose");if(!l&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!a&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!s.static?Se.createElement(aA,null,Se.createElement(B9,{show:r,transition:n,unmount:s.unmount},Se.createElement(oA,{ref:e,...s}))):Se.createElement(aA,null,Se.createElement(oA,{ref:e,open:r,...s}))}let Q9="div";function Z9(t,e){let n=w.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:s=!1,...a}=t,[{dialogState:l,unmount:c},d]=Hg("Dialog.Panel"),h=Ss(e,d.panelRef),m=w.useMemo(()=>({open:l===0}),[l]),y=ft(R=>{R.stopPropagation()}),b={ref:h,id:r,onClick:y},_=s?Vx:w.Fragment,E=s?{unmount:c}:{},T=nr();return Se.createElement(_,{...E},T({ourProps:b,theirProps:a,slot:m,defaultTag:Q9,name:"Dialog.Panel"}))}let J9="div";function eF(t,e){let{transition:n=!1,...r}=t,[{dialogState:s,unmount:a}]=Hg("Dialog.Backdrop"),l=w.useMemo(()=>({open:s===0}),[s]),c={ref:e,"aria-hidden":!0},d=n?Vx:w.Fragment,h=n?{unmount:a}:{},m=nr();return Se.createElement(d,{...h},m({ourProps:c,theirProps:r,slot:l,defaultTag:J9,name:"Dialog.Backdrop"}))}let tF="h2";function nF(t,e){let n=w.useId(),{id:r=`headlessui-dialog-title-${n}`,...s}=t,[{dialogState:a,setTitleId:l}]=Hg("Dialog.Title"),c=Ss(e);w.useEffect(()=>(l(r),()=>l(null)),[r,l]);let d=w.useMemo(()=>({open:a===0}),[a]),h={ref:c,id:r};return nr()({ourProps:h,theirProps:s,slot:d,defaultTag:tF,name:"Dialog.Title"})}let rF=xn(X9),Fx=xn(Z9),iP=xn(eF),aP=xn(nF),oP=Object.assign(rF,{Panel:Fx,Title:aP,Description:r7}),sF="select";function iF(t,e){let n=w.useId(),r=pI(),s=Mg(),{id:a=r||`headlessui-select-${n}`,disabled:l=s||!1,invalid:c=!1,autoFocus:d=!1,...h}=t,m=s7(),y=Z6(),{isFocusVisible:b,focusProps:_}=Rx({autoFocus:d}),{isHovered:E,hoverProps:T}=Tx({isDisabled:l}),{pressed:R,pressProps:N}=Ax({disabled:l}),P=Dg({ref:e,id:a,"aria-labelledby":m,"aria-describedby":y,"aria-invalid":c?"true":void 0,disabled:l||void 0,autoFocus:d},_,T,N),M=w.useMemo(()=>({disabled:l,invalid:c,hover:E,focus:b,active:R,autofocus:d}),[l,c,E,b,R,d]);return nr()({ourProps:P,theirProps:h,slot:M,defaultTag:sF,name:"Select"})}let aF=xn(iF);const qp=w.createContext({});function oF(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const zx=typeof window<"u",lP=zx?w.useLayoutEffect:w.useEffect,$x=w.createContext(null);function Bx(t,e){t.indexOf(e)===-1&&t.push(e)}function Gx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ta=(t,e,n)=>n>e?e:n<t?t:n;let Hx=()=>{};const na={},uP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function cP(t){return typeof t=="object"&&t!==null}const dP=t=>/^0[^.\s]+$/u.test(t);function qx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Jr=t=>t,lF=(t,e)=>n=>e(t(n)),Zf=(...t)=>t.reduce(lF),Ef=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Wx{constructor(){this.subscriptions=[]}add(e){return Bx(this.subscriptions,e),()=>Gx(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ys=t=>t*1e3,Xs=t=>t/1e3;function fP(t,e){return e?t*(1e3/e):0}const hP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,uF=1e-7,cF=12;function dF(t,e,n,r,s){let a,l,c=0;do l=e+(n-e)/2,a=hP(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>uF&&++c<cF);return l}function Jf(t,e,n,r){if(t===e&&n===r)return Jr;const s=a=>dF(a,0,1,t,n);return a=>a===0||a===1?a:hP(s(a),e,r)}const mP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pP=t=>e=>1-t(1-e),gP=Jf(.33,1.53,.69,.99),Kx=pP(gP),vP=mP(Kx),yP=t=>(t*=2)<1?.5*Kx(t):.5*(2-Math.pow(2,-10*(t-1))),Yx=t=>1-Math.sin(Math.acos(t)),bP=pP(Yx),wP=mP(Yx),fF=Jf(.42,0,1,1),hF=Jf(0,0,.58,1),xP=Jf(.42,0,.58,1),mF=t=>Array.isArray(t)&&typeof t[0]!="number",_P=t=>Array.isArray(t)&&typeof t[0]=="number",pF={linear:Jr,easeIn:fF,easeInOut:xP,easeOut:hF,circIn:Yx,circInOut:wP,circOut:bP,backIn:Kx,backInOut:vP,backOut:gP,anticipate:yP},gF=t=>typeof t=="string",lA=t=>{if(_P(t)){Hx(t.length===4);const[e,n,r,s]=t;return Jf(e,n,r,s)}else if(gF(t))return pF[t];return t},Qm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function vF(t,e){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){l.has(m)&&(h.schedule(m),t()),m(c)}const h={schedule:(m,y=!1,b=!1)=>{const E=b&&s?n:r;return y&&l.add(m),E.has(m)||E.add(m),m},cancel:m=>{r.delete(m),l.delete(m)},process:m=>{if(c=m,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(d),n.clear(),s=!1,a&&(a=!1,h.process(m))}};return h}const yF=40;function EP(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=Qm.reduce((M,F)=>(M[F]=vF(a),M),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:m,update:y,preRender:b,render:_,postRender:E}=l,T=()=>{const M=na.useManualTiming?s.timestamp:performance.now();n=!1,na.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(M-s.timestamp,yF),1)),s.timestamp=M,s.isProcessing=!0,c.process(s),d.process(s),h.process(s),m.process(s),y.process(s),b.process(s),_.process(s),E.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(T))},R=()=>{n=!0,r=!0,s.isProcessing||t(T)};return{schedule:Qm.reduce((M,F)=>{const $=l[F];return M[F]=(X,O=!1,I=!1)=>(n||R(),$.schedule(X,O,I)),M},{}),cancel:M=>{for(let F=0;F<Qm.length;F++)l[Qm[F]].cancel(M)},state:s,steps:l}}const{schedule:Ot,cancel:oo,state:Vn,steps:Ky}=EP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jr,!0);let bp;function bF(){bp=void 0}const yr={now:()=>(bp===void 0&&yr.set(Vn.isProcessing||na.useManualTiming?Vn.timestamp:performance.now()),bp),set:t=>{bp=t,queueMicrotask(bF)}},SP=t=>e=>typeof e=="string"&&e.startsWith(t),Xx=SP("--"),wF=SP("var(--"),Qx=t=>wF(t)?xF.test(t.split("/*")[0].trim()):!1,xF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Sf={...yc,transform:t=>ta(0,1,t)},Zm={...yc,default:1},tf=t=>Math.round(t*1e5)/1e5,Zx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _F(t){return t==null}const EF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Jx=(t,e)=>n=>!!(typeof n=="string"&&EF.test(n)&&n.startsWith(t)||e&&!_F(n)&&Object.prototype.hasOwnProperty.call(n,e)),TP=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,c]=r.match(Zx);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},SF=t=>ta(0,255,t),Yy={...yc,transform:t=>Math.round(SF(t))},vl={test:Jx("rgb","red"),parse:TP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Yy.transform(t)+", "+Yy.transform(e)+", "+Yy.transform(n)+", "+tf(Sf.transform(r))+")"};function TF(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const uw={test:Jx("#"),parse:TF,transform:vl.transform},eh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fa=eh("deg"),Qs=eh("%"),Ue=eh("px"),RF=eh("vh"),AF=eh("vw"),uA={...Qs,parse:t=>Qs.parse(t)/100,transform:t=>Qs.transform(t*100)},$u={test:Jx("hsl","hue"),parse:TP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Qs.transform(tf(e))+", "+Qs.transform(tf(n))+", "+tf(Sf.transform(r))+")"},on={test:t=>vl.test(t)||uw.test(t)||$u.test(t),parse:t=>vl.test(t)?vl.parse(t):$u.test(t)?$u.parse(t):uw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vl.transform(t):$u.transform(t),getAnimatableNone:t=>{const e=on.parse(t);return e.alpha=0,on.transform(e)}},CF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function NF(t){return isNaN(t)&&typeof t=="string"&&(t.match(Zx)?.length||0)+(t.match(CF)?.length||0)>0}const RP="number",AP="color",IF="var",PF="var(",cA="${}",kF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Tf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const c=e.replace(kF,d=>(on.test(d)?(r.color.push(a),s.push(AP),n.push(on.parse(d))):d.startsWith(PF)?(r.var.push(a),s.push(IF),n.push(d)):(r.number.push(a),s.push(RP),n.push(parseFloat(d))),++a,cA)).split(cA);return{values:n,split:c,indexes:r,types:s}}function CP(t){return Tf(t).values}function NP(t){const{split:e,types:n}=Tf(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const c=n[l];c===RP?a+=tf(s[l]):c===AP?a+=on.transform(s[l]):a+=s[l]}return a}}const MF=t=>typeof t=="number"?0:on.test(t)?on.getAnimatableNone(t):t;function DF(t){const e=CP(t);return NP(t)(e.map(MF))}const lo={test:NF,parse:CP,createTransformer:NP,getAnimatableNone:DF};function Xy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function OF({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;s=Xy(d,c,t+1/3),a=Xy(d,c,t),l=Xy(d,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Wp(t,e){return n=>n>0?e:t}const Ut=(t,e,n)=>t+(e-t)*n,Qy=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},jF=[uw,vl,$u],LF=t=>jF.find(e=>e.test(t));function dA(t){const e=LF(t);if(!e)return!1;let n=e.parse(t);return e===$u&&(n=OF(n)),n}const fA=(t,e)=>{const n=dA(t),r=dA(e);if(!n||!r)return Wp(t,e);const s={...n};return a=>(s.red=Qy(n.red,r.red,a),s.green=Qy(n.green,r.green,a),s.blue=Qy(n.blue,r.blue,a),s.alpha=Ut(n.alpha,r.alpha,a),vl.transform(s))},cw=new Set(["none","hidden"]);function VF(t,e){return cw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function UF(t,e){return n=>Ut(t,e,n)}function e_(t){return typeof t=="number"?UF:typeof t=="string"?Qx(t)?Wp:on.test(t)?fA:$F:Array.isArray(t)?IP:typeof t=="object"?on.test(t)?fA:FF:Wp}function IP(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>e_(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function FF(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=e_(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function zF(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=t.indexes[a][r[a]],c=t.values[l]??0;n[s]=c,r[a]++}return n}const $F=(t,e)=>{const n=lo.createTransformer(e),r=Tf(t),s=Tf(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?cw.has(t)&&!s.values.length||cw.has(e)&&!r.values.length?VF(t,e):Zf(IP(zF(r,s),s.values),n):Wp(t,e)};function PP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ut(t,e,n):e_(t)(t,e)}const BF=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ot.update(e,n),stop:()=>oo(e),now:()=>Vn.isProcessing?Vn.timestamp:yr.now()}},kP=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Kp=2e4;function t_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Kp;)e+=n,r=t.next(e);return e>=Kp?1/0:e}function GF(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(t_(r),Kp);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:Xs(s)}}const HF=5;function MP(t,e,n){const r=Math.max(e-HF,0);return fP(n-t(r),e-r)}const Gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zy=.001;function qF({duration:t=Gt.duration,bounce:e=Gt.bounce,velocity:n=Gt.velocity,mass:r=Gt.mass}){let s,a,l=1-e;l=ta(Gt.minDamping,Gt.maxDamping,l),t=ta(Gt.minDuration,Gt.maxDuration,Xs(t)),l<1?(s=h=>{const m=h*l,y=m*t,b=m-n,_=dw(h,l),E=Math.exp(-y);return Zy-b/_*E},a=h=>{const y=h*l*t,b=y*n+n,_=Math.pow(l,2)*Math.pow(h,2)*t,E=Math.exp(-y),T=dw(Math.pow(h,2),l);return(-s(h)+Zy>0?-1:1)*((b-_)*E)/T}):(s=h=>{const m=Math.exp(-h*t),y=(h-n)*t+1;return-Zy+m*y},a=h=>{const m=Math.exp(-h*t),y=(n-h)*(t*t);return m*y});const c=5/t,d=KF(s,a,c);if(t=Ys(t),isNaN(d))return{stiffness:Gt.stiffness,damping:Gt.damping,duration:t};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:t}}}const WF=12;function KF(t,e,n){let r=n;for(let s=1;s<WF;s++)r=r-t(r)/e(r);return r}function dw(t,e){return t*Math.sqrt(1-e*e)}const YF=["duration","bounce"],XF=["stiffness","damping","mass"];function hA(t,e){return e.some(n=>t[n]!==void 0)}function QF(t){let e={velocity:Gt.velocity,stiffness:Gt.stiffness,damping:Gt.damping,mass:Gt.mass,isResolvedFromDuration:!1,...t};if(!hA(t,XF)&&hA(t,YF))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*ta(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Gt.mass,stiffness:s,damping:a}}else{const n=qF(t);e={...e,...n,mass:Gt.mass},e.isResolvedFromDuration=!0}return e}function Yp(t=Gt.visualDuration,e=Gt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:h,mass:m,duration:y,velocity:b,isResolvedFromDuration:_}=QF({...n,velocity:-Xs(n.velocity||0)}),E=b||0,T=h/(2*Math.sqrt(d*m)),R=l-a,N=Xs(Math.sqrt(d/m)),P=Math.abs(R)<5;r||(r=P?Gt.restSpeed.granular:Gt.restSpeed.default),s||(s=P?Gt.restDelta.granular:Gt.restDelta.default);let M;if(T<1){const $=dw(N,T);M=X=>{const O=Math.exp(-T*N*X);return l-O*((E+T*N*R)/$*Math.sin($*X)+R*Math.cos($*X))}}else if(T===1)M=$=>l-Math.exp(-N*$)*(R+(E+N*R)*$);else{const $=N*Math.sqrt(T*T-1);M=X=>{const O=Math.exp(-T*N*X),I=Math.min($*X,300);return l-O*((E+T*N*R)*Math.sinh(I)+$*R*Math.cosh(I))/$}}const F={calculatedDuration:_&&y||null,next:$=>{const X=M($);if(_)c.done=$>=y;else{let O=$===0?E:0;T<1&&(O=$===0?Ys(E):MP(M,$,X));const I=Math.abs(O)<=r,D=Math.abs(l-X)<=s;c.done=I&&D}return c.value=c.done?l:X,c},toString:()=>{const $=Math.min(t_(F),Kp),X=kP(O=>F.next($*O).value,$,30);return $+"ms "+X},toTransition:()=>{}};return F}Yp.applyToOptions=t=>{const e=GF(t,100,Yp);return t.ease=e.ease,t.duration=Ys(e.duration),t.type="keyframes",t};function fw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:d,restDelta:h=.5,restSpeed:m}){const y=t[0],b={done:!1,value:y},_=I=>c!==void 0&&I<c||d!==void 0&&I>d,E=I=>c===void 0?d:d===void 0||Math.abs(c-I)<Math.abs(d-I)?c:d;let T=n*e;const R=y+T,N=l===void 0?R:l(R);N!==R&&(T=N-y);const P=I=>-T*Math.exp(-I/r),M=I=>N+P(I),F=I=>{const D=P(I),L=M(I);b.done=Math.abs(D)<=h,b.value=b.done?N:L};let $,X;const O=I=>{_(b.value)&&($=I,X=Yp({keyframes:[b.value,E(b.value)],velocity:MP(M,I,b.value),damping:s,stiffness:a,restDelta:h,restSpeed:m}))};return O(0),{calculatedDuration:null,next:I=>{let D=!1;return!X&&$===void 0&&(D=!0,F(I),O(I)),$!==void 0&&I>=$?X.next(I-$):(!D&&F(I),b)}}}function ZF(t,e,n){const r=[],s=n||na.mix||PP,a=t.length-1;for(let l=0;l<a;l++){let c=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||Jr:e;c=Zf(d,c)}r.push(c)}return r}function JF(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(Hx(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=ZF(e,r,s),d=c.length,h=m=>{if(l&&m<t[0])return e[0];let y=0;if(d>1)for(;y<t.length-2&&!(m<t[y+1]);y++);const b=Ef(t[y],t[y+1],m);return c[y](b)};return n?m=>h(ta(t[0],t[a-1],m)):h}function ez(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Ef(0,e,r);t.push(Ut(n,1,s))}}function tz(t){const e=[0];return ez(e,t.length-1),e}function nz(t,e){return t.map(n=>n*e)}function rz(t,e){return t.map(()=>e||xP).splice(0,t.length-1)}function nf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=mF(r)?r.map(lA):lA(r),a={done:!1,value:e[0]},l=nz(n&&n.length===e.length?n:tz(e),t),c=JF(l,e,{ease:Array.isArray(s)?s:rz(e,s)});return{calculatedDuration:t,next:d=>(a.value=c(d),a.done=d>=t,a)}}const sz=t=>t!==null;function n_(t,{repeat:e,repeatType:n="loop"},r,s=1){const a=t.filter(sz),c=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const iz={decay:fw,inertia:fw,tween:nf,keyframes:nf,spring:Yp};function DP(t){typeof t.type=="string"&&(t.type=iz[t.type])}class r_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const az=t=>t/100;class s_ extends r_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==yr.now()&&this.tick(yr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;DP(e);const{type:n=nf,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=e;let{keyframes:c}=e;const d=n||nf;d!==nf&&typeof c[0]!="number"&&(this.mixKeyframes=Zf(az,PP(c[0],c[1])),c=[0,100]);const h=d({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=t_(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:m,repeat:y,repeatType:b,repeatDelay:_,type:E,onUpdate:T,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-h*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let M=this.currentTime,F=r;if(y){const I=Math.min(this.currentTime,s)/c;let D=Math.floor(I),L=I%1;!L&&I>=1&&(L=1),L===1&&D--,D=Math.min(D,y+1),!!(D%2)&&(b==="reverse"?(L=1-L,_&&(L-=_/c)):b==="mirror"&&(F=l)),M=ta(0,1,L)*c}const $=P?{done:!1,value:m[0]}:F.next(M);a&&($.value=a($.value));let{done:X}=$;!P&&d!==null&&(X=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return O&&E!==fw&&($.value=n_(m,this.options,R,this.speed)),T&&T($.value),O&&this.finish(),$}then(e,n){return this.finished.then(e,n)}get duration(){return Xs(this.calculatedDuration)}get time(){return Xs(this.currentTime)}set time(e){e=Ys(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(yr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Xs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=BF,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function oz(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const yl=t=>t*180/Math.PI,hw=t=>{const e=yl(Math.atan2(t[1],t[0]));return mw(e)},lz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:hw,rotateZ:hw,skewX:t=>yl(Math.atan(t[1])),skewY:t=>yl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},mw=t=>(t=t%360,t<0&&(t+=360),t),mA=hw,pA=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),gA=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),uz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:pA,scaleY:gA,scale:t=>(pA(t)+gA(t))/2,rotateX:t=>mw(yl(Math.atan2(t[6],t[5]))),rotateY:t=>mw(yl(Math.atan2(-t[2],t[0]))),rotateZ:mA,rotate:mA,skewX:t=>yl(Math.atan(t[4])),skewY:t=>yl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function pw(t){return t.includes("scale")?1:0}function gw(t,e){if(!t||t==="none")return pw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=uz,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=lz,s=c}if(!s)return pw(e);const a=r[e],l=s[1].split(",").map(dz);return typeof a=="function"?a(l):l[a]}const cz=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return gw(n,e)};function dz(t){return parseFloat(t.trim())}const bc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wc=new Set(bc),vA=t=>t===yc||t===Ue,fz=new Set(["x","y","z"]),hz=bc.filter(t=>!fz.has(t));function mz(t){const e=[];return hz.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const _l={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>gw(e,"x"),y:(t,{transform:e})=>gw(e,"y")};_l.translateX=_l.x;_l.translateY=_l.y;const El=new Set;let vw=!1,yw=!1,bw=!1;function OP(){if(yw){const t=Array.from(El).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=mz(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{r.getValue(a)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}yw=!1,vw=!1,El.forEach(t=>t.complete(bw)),El.clear()}function jP(){El.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(yw=!0)})}function pz(){bw=!0,jP(),OP(),bw=!1}class i_{constructor(e,n,r,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(El.add(this),vw||(vw=!0,Ot.read(jP),Ot.resolveKeyframes(OP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const a=s?.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}oz(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),El.delete(this)}cancel(){this.state==="scheduled"&&(El.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const gz=t=>t.startsWith("--");function vz(t,e,n){gz(e)?t.style.setProperty(e,n):t.style[e]=n}const yz=qx(()=>window.ScrollTimeline!==void 0),bz={};function wz(t,e){const n=qx(t);return()=>bz[e]??n()}const LP=wz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,yA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wd([0,.65,.55,1]),circOut:Wd([.55,0,1,.45]),backIn:Wd([.31,.01,.66,-.59]),backOut:Wd([.33,1.53,.69,.99])};function VP(t,e){if(t)return typeof t=="function"?LP()?kP(t,e):"ease-out":_P(t)?Wd(t):Array.isArray(t)?t.map(n=>VP(n,e)||yA.easeOut):yA[t]}function xz(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeOut",times:d}={},h=void 0){const m={[e]:n};d&&(m.offset=d);const y=VP(c,s);Array.isArray(y)&&(m.easing=y);const b={delay:r,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return h&&(b.pseudoElement=h),t.animate(m,b)}function UP(t){return typeof t=="function"&&"applyToOptions"in t}function _z({type:t,...e}){return UP(t)&&LP()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Ez extends r_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Hx(typeof e.type!="string");const h=_z(e);this.animation=xz(n,r,s,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=n_(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):vz(n,r,m),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Xs(Number(e))}get time(){return Xs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ys(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&yz()?(this.animation.timeline=e,Jr):n(this)}}const FP={anticipate:yP,backInOut:vP,circInOut:wP};function Sz(t){return t in FP}function Tz(t){typeof t.ease=="string"&&Sz(t.ease)&&(t.ease=FP[t.ease])}const bA=10;class Rz extends Ez{constructor(e){Tz(e),DP(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new s_({...l,autoplay:!1}),d=Ys(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-bA).value,c.sample(d).value,bA),c.stop()}}const wA=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(lo.test(t)||t==="0")&&!t.startsWith("url("));function Az(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Cz(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=wA(s,e),c=wA(a,e);return!l||!c?!1:Az(t)||(n==="spring"||UP(n))&&r}function zP(t){return cP(t)&&"offsetHeight"in t}const Nz=new Set(["opacity","clipPath","filter","transform"]),Iz=qx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Pz(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:a,type:l}=t;if(!zP(e?.owner?.current))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return Iz()&&n&&Nz.has(n)&&(n!=="transform"||!d)&&!c&&!r&&s!=="mirror"&&a!==0&&l!=="inertia"}const kz=40;class Mz extends r_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:d,motionValue:h,element:m,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=yr.now();const b={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,name:d,motionValue:h,element:m,...y},_=m?.KeyframeResolver||i_;this.keyframeResolver=new _(c,(E,T,R)=>this.onKeyframesResolved(E,T,b,!R),d,h,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:a,type:l,velocity:c,delay:d,isHandoff:h,onUpdate:m}=r;this.resolvedAt=yr.now(),Cz(e,a,l,c)||((na.instantAnimations||!d)&&m?.(n_(e,r,n)),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const b={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>kz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},_=!h&&Pz(b)?new Rz({...b,element:b.motionValue.owner.current}):new s_(b);_.finished.then(()=>this.notifyFinished()).catch(Jr),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),pz()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Dz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Oz(t){const e=Dz.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function $P(t,e,n=1){const[r,s]=Oz(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return uP(l)?parseFloat(l):l}return Qx(s)?$P(s,e,n+1):s}function a_(t,e){return t?.[e]??t?.default??t}const BP=new Set(["width","height","top","left","right","bottom",...bc]),jz={test:t=>t==="auto",parse:t=>t},GP=t=>e=>e.test(t),HP=[yc,Ue,Qs,Fa,AF,RF,jz],xA=t=>HP.find(GP(t));function Lz(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||dP(t):!0}const Vz=new Set(["brightness","contrast","saturate","opacity"]);function Uz(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Zx)||[];if(!r)return t;const s=n.replace(r,"");let a=Vz.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const Fz=/\b([a-z-]*)\(.*?\)/gu,ww={...lo,getAnimatableNone:t=>{const e=t.match(Fz);return e?e.map(Uz).join(" "):t}},_A={...yc,transform:Math.round},zz={rotate:Fa,rotateX:Fa,rotateY:Fa,rotateZ:Fa,scale:Zm,scaleX:Zm,scaleY:Zm,scaleZ:Zm,skew:Fa,skewX:Fa,skewY:Fa,distance:Ue,translateX:Ue,translateY:Ue,translateZ:Ue,x:Ue,y:Ue,z:Ue,perspective:Ue,transformPerspective:Ue,opacity:Sf,originX:uA,originY:uA,originZ:Ue},o_={borderWidth:Ue,borderTopWidth:Ue,borderRightWidth:Ue,borderBottomWidth:Ue,borderLeftWidth:Ue,borderRadius:Ue,radius:Ue,borderTopLeftRadius:Ue,borderTopRightRadius:Ue,borderBottomRightRadius:Ue,borderBottomLeftRadius:Ue,width:Ue,maxWidth:Ue,height:Ue,maxHeight:Ue,top:Ue,right:Ue,bottom:Ue,left:Ue,padding:Ue,paddingTop:Ue,paddingRight:Ue,paddingBottom:Ue,paddingLeft:Ue,margin:Ue,marginTop:Ue,marginRight:Ue,marginBottom:Ue,marginLeft:Ue,backgroundPositionX:Ue,backgroundPositionY:Ue,...zz,zIndex:_A,fillOpacity:Sf,strokeOpacity:Sf,numOctaves:_A},$z={...o_,color:on,backgroundColor:on,outlineColor:on,fill:on,stroke:on,borderColor:on,borderTopColor:on,borderRightColor:on,borderBottomColor:on,borderLeftColor:on,filter:ww,WebkitFilter:ww},qP=t=>$z[t];function WP(t,e){let n=qP(t);return n!==ww&&(n=lo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Bz=new Set(["auto","none","0"]);function Gz(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!Bz.has(a)&&Tf(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=WP(n,s)}class Hz extends i_{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),Qx(h))){const m=$P(h,n.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!BP.has(r)||e.length!==2)return;const[s,a]=e,l=xA(s),c=xA(a);if(l!==c)if(vA(l)&&vA(c))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else _l[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||Lz(e[s]))&&r.push(s);r.length&&Gz(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_l[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=_l[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function qz(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=n?.[t]??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const KP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,EA=30,Wz=t=>!isNaN(parseFloat(t));class Kz{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=yr.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();s&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=yr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Wz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Wx);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=yr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>EA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,EA);return fP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nc(t,e){return new Kz(t,e)}const{schedule:l_}=EP(queueMicrotask,!1),us={x:!1,y:!1};function YP(){return us.x||us.y}function Yz(t){return t==="x"||t==="y"?us[t]?null:(us[t]=!0,()=>{us[t]=!1}):us.x||us.y?null:(us.x=us.y=!0,()=>{us.x=us.y=!1})}function XP(t,e){const n=qz(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function SA(t){return!(t.pointerType==="touch"||YP())}function Xz(t,e,n={}){const[r,s,a]=XP(t,n),l=c=>{if(!SA(c))return;const{target:d}=c,h=e(d,c);if(typeof h!="function"||!d)return;const m=y=>{SA(y)&&(h(y),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,s)};return r.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}const QP=(t,e)=>e?t===e?!0:QP(t,e.parentElement):!1,u_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Qz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Zz(t){return Qz.has(t.tagName)||t.tabIndex!==-1}const wp=new WeakSet;function TA(t){return e=>{e.key==="Enter"&&t(e)}}function Jy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Jz=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=TA(()=>{if(wp.has(n))return;Jy(n,"down");const s=TA(()=>{Jy(n,"up")}),a=()=>Jy(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function RA(t){return u_(t)&&!YP()}function e8(t,e,n={}){const[r,s,a]=XP(t,n),l=c=>{const d=c.currentTarget;if(!RA(c))return;wp.add(d);const h=e(d,c),m=(_,E)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",b),wp.has(d)&&wp.delete(d),RA(_)&&typeof h=="function"&&h(_,{success:E})},y=_=>{m(_,d===window||d===document||n.useGlobalTarget||QP(d,_.target))},b=_=>{m(_,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",b,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),zP(c)&&(c.addEventListener("focus",h=>Jz(h,s)),!Zz(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function ZP(t){return cP(t)&&"ownerSVGElement"in t}function t8(t){return ZP(t)&&t.tagName==="svg"}const Zn=t=>!!(t&&t.getVelocity),n8=[...HP,on,lo],r8=t=>n8.find(GP(t)),JP=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function s8(t=!0){const e=w.useContext($x);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=w.useId();w.useEffect(()=>{if(t)return s(a)},[t]);const l=w.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const i8=w.createContext(null);function a8(){const t=w.useRef(!1);return lP(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function o8(){const t=a8(),[e,n]=w.useState(0),r=w.useCallback(()=>{t.current&&n(e+1)},[e]);return[w.useCallback(()=>Ot.postRender(r),[r]),e]}const l8=t=>!t.isLayoutDirty&&t.willUpdate(!1);function AA(){const t=new Set,e=new WeakMap,n=()=>t.forEach(l8);return{add:r=>{t.add(r),e.set(r,r.addEventListener("willUpdate",n))},remove:r=>{t.delete(r);const s=e.get(r);s&&(s(),e.delete(r)),n()},dirty:n}}const ek=t=>t===!0,u8=t=>ek(t===!0)||t==="id",tk=({children:t,id:e,inherit:n=!0})=>{const r=w.useContext(qp),s=w.useContext(i8),[a,l]=o8(),c=w.useRef(null),d=r.id||s;c.current===null&&(u8(n)&&d&&(e=e?d+"-"+e:d),c.current={id:e,group:ek(n)&&r.group||AA()});const h=w.useMemo(()=>({...c.current,forceRender:a}),[l]);return p.jsx(qp.Provider,{value:h,children:t})},nk=w.createContext({strict:!1}),CA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rc={};for(const t in CA)rc[t]={isEnabled:e=>CA[t].some(n=>!!e[n])};function c8(t){for(const e in t)rc[e]={...rc[e],...t[e]}}const d8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||d8.has(t)}let rk=t=>!Xp(t);function f8(t){typeof t=="function"&&(rk=e=>e.startsWith("on")?!Xp(e):t(e))}try{f8(require("@emotion/is-prop-valid").default)}catch{}function h8(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(rk(s)||n===!0&&Xp(s)||!e&&!Xp(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function m8(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const qg=w.createContext({});function Wg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Rf(t){return typeof t=="string"||Array.isArray(t)}const c_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],d_=["initial",...c_];function Kg(t){return Wg(t.animate)||d_.some(e=>Rf(t[e]))}function sk(t){return!!(Kg(t)||t.variants)}function p8(t,e){if(Kg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Rf(n)?n:void 0,animate:Rf(r)?r:void 0}}return t.inherit!==!1?e:{}}function g8(t){const{initial:e,animate:n}=p8(t,w.useContext(qg));return w.useMemo(()=>({initial:e,animate:n}),[NA(e),NA(n)])}function NA(t){return Array.isArray(t)?t.join(" "):t}const v8=Symbol.for("motionComponentSymbol");function Bu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function y8(t,e,n){return w.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Bu(n)&&(n.current=r))},[e])}const f_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),b8="framerAppearId",ik="data-"+f_(b8),ak=w.createContext({});function w8(t,e,n,r,s){const{visualElement:a}=w.useContext(qg),l=w.useContext(nk),c=w.useContext($x),d=w.useContext(JP).reducedMotion,h=w.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,y=w.useContext(ak);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&x8(h.current,n,s,y);const b=w.useRef(!1);w.useInsertionEffect(()=>{m&&b.current&&m.update(n,c)});const _=n[ik],E=w.useRef(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return lP(()=>{m&&(b.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),l_.render(m.render),E.current&&m.animationState&&m.animationState.animateChanges())}),w.useEffect(()=>{m&&(!E.current&&m.animationState&&m.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),E.current=!1))}),m}function x8(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ok(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&Bu(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:h})}function ok(t){if(t)return t.options.allowProjection!==!1?t.projection:ok(t.parent)}function _8({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&c8(t);function a(c,d){let h;const m={...w.useContext(JP),...c,layoutId:E8(c)},{isStatic:y}=m,b=g8(c),_=r(c,y);if(!y&&zx){S8();const E=T8(m);h=E.MeasureLayout,b.visualElement=w8(s,_,m,e,E.ProjectionNode)}return p.jsxs(qg.Provider,{value:b,children:[h&&b.visualElement?p.jsx(h,{visualElement:b.visualElement,...m}):null,n(s,c,y8(_,b.visualElement,d),_,y,b.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const l=w.forwardRef(a);return l[v8]=s,l}function E8({layoutId:t}){const e=w.useContext(qp).id;return e&&t!==void 0?e+"-"+t:t}function S8(t,e){w.useContext(nk).strict}function T8(t){const{drag:e,layout:n}=rc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Af={};function R8(t){for(const e in t)Af[e]=t[e],Xx(e)&&(Af[e].isCSSVariable=!0)}function lk(t,{layout:e,layoutId:n}){return wc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Af[t]||t==="opacity")}const A8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},C8=bc.length;function N8(t,e,n){let r="",s=!0;for(let a=0;a<C8;a++){const l=bc[a],c=t[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const h=KP(c,o_[l]);if(!d){s=!1;const m=A8[l]||l;r+=`${m}(${h}) `}n&&(e[l]=h)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function h_(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,c=!1;for(const d in e){const h=e[d];if(wc.has(d)){l=!0;continue}else if(Xx(d)){s[d]=h;continue}else{const m=KP(h,o_[d]);d.startsWith("origin")?(c=!0,a[d]=m):r[d]=m}}if(e.transform||(l||n?r.transform=N8(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:m=0}=a;r.transformOrigin=`${d} ${h} ${m}`}}const m_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function uk(t,e,n){for(const r in e)!Zn(e[r])&&!lk(r,n)&&(t[r]=e[r])}function I8({transformTemplate:t},e){return w.useMemo(()=>{const n=m_();return h_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function P8(t,e){const n=t.style||{},r={};return uk(r,n,t),Object.assign(r,I8(t,e)),r}function k8(t,e){const n={},r=P8(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const M8={offset:"stroke-dashoffset",array:"stroke-dasharray"},D8={offset:"strokeDashoffset",array:"strokeDasharray"};function O8(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?M8:D8;t[a.offset]=Ue.transform(-r);const l=Ue.transform(e),c=Ue.transform(n);t[a.array]=`${l} ${c}`}function ck(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},d,h,m){if(h_(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:b}=t;y.transform&&(b.transform=y.transform,delete y.transform),(b.transform||y.transformOrigin)&&(b.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),b.transform&&(b.transformBox=m?.transformBox??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),s!==void 0&&O8(y,s,a,l,!1)}const dk=()=>({...m_(),attrs:{}}),fk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function j8(t,e,n,r){const s=w.useMemo(()=>{const a=dk();return ck(a,e,fk(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};uk(a,t.style,t),s.style={...a,...s.style}}return s}const L8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function p_(t){return typeof t!="string"||t.includes("-")?!1:!!(L8.indexOf(t)>-1||/[A-Z]/u.test(t))}function V8(t=!1){return(n,r,s,{latestValues:a},l)=>{const d=(p_(n)?j8:k8)(r,a,l,n),h=h8(r,typeof n=="string",t),m=n!==w.Fragment?{...h,...d,ref:s}:{},{children:y}=r,b=w.useMemo(()=>Zn(y)?y.get():y,[y]);return w.createElement(n,{...m,children:b})}}function IA(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function g_(t,e,n,r){if(typeof e=="function"){const[s,a]=IA(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=IA(r);e=e(n!==void 0?n:t.custom,s,a)}return e}function xp(t){return Zn(t)?t.get():t}function U8({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:F8(n,r,s,t),renderState:e()}}const hk=t=>(e,n)=>{const r=w.useContext(qg),s=w.useContext($x),a=()=>U8(t,e,r,s);return n?a():oF(a)};function F8(t,e,n,r){const s={},a=r(t,{});for(const b in a)s[b]=xp(a[b]);let{initial:l,animate:c}=t;const d=Kg(t),h=sk(t);e&&h&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const y=m?c:l;if(y&&typeof y!="boolean"&&!Wg(y)){const b=Array.isArray(y)?y:[y];for(let _=0;_<b.length;_++){const E=g_(t,b[_]);if(E){const{transitionEnd:T,transition:R,...N}=E;for(const P in N){let M=N[P];if(Array.isArray(M)){const F=m?M.length-1:0;M=M[F]}M!==null&&(s[P]=M)}for(const P in T)s[P]=T[P]}}}return s}function v_(t,e,n){const{style:r}=t,s={};for(const a in r)(Zn(r[a])||e.style&&Zn(e.style[a])||lk(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(s[a]=r[a]);return s}const z8={useVisualState:hk({scrapeMotionValuesFromProps:v_,createRenderState:m_})};function mk(t,e,n){const r=v_(t,e,n);for(const s in t)if(Zn(t[s])||Zn(e[s])){const a=bc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}const $8={useVisualState:hk({scrapeMotionValuesFromProps:mk,createRenderState:dk})};function B8(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...p_(r)?$8:z8,preloadedFeatures:t,useRender:V8(s),createVisualElement:e,Component:r};return _8(l)}}function Cf(t,e,n){const r=t.getProps();return g_(r,e,n!==void 0?n:r.custom,t)}const xw=t=>Array.isArray(t);function G8(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,nc(n))}function H8(t){return xw(t)?t[t.length-1]||0:t}function q8(t,e){const n=Cf(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const c=H8(a[l]);G8(t,l,c)}}function W8(t){return!!(Zn(t)&&t.add)}function _w(t,e){const n=t.getValue("willChange");if(W8(n))return n.add(e);if(!n&&na.WillChange){const r=new na.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function pk(t){return t.props[ik]}const K8=t=>t!==null;function Y8(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(K8),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}const X8={type:"spring",stiffness:500,damping:25,restSpeed:10},Q8=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Z8={type:"keyframes",duration:.8},J8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},e$=(t,{keyframes:e})=>e.length>2?Z8:wc.has(t)?t.startsWith("scale")?Q8(e[1]):X8:J8;function t$({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const y_=(t,e,n,r={},s,a)=>l=>{const c=a_(r,t)||{},d=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Ys(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:b=>{e.set(b),c.onUpdate&&c.onUpdate(b)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:s};t$(c)||Object.assign(m,e$(t,m)),m.duration&&(m.duration=Ys(m.duration)),m.repeatDelay&&(m.repeatDelay=Ys(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(y=!0)),(na.instantAnimations||na.skipAnimations)&&(y=!0,m.duration=0,m.delay=0),m.allowFlatten=!c.type&&!c.ease,y&&!a&&e.get()!==void 0){const b=Y8(m.keyframes,c);if(b!==void 0){Ot.update(()=>{m.onUpdate(b),m.onComplete()});return}}return c.isSync?new s_(m):new Mz(m)};function n$({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function gk(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(a=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const m in c){const y=t.getValue(m,t.latestValues[m]??null),b=c[m];if(b===void 0||h&&n$(h,m))continue;const _={delay:n,...a_(a||{},m)},E=y.get();if(E!==void 0&&!y.isAnimating&&!Array.isArray(b)&&b===E&&!_.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const N=pk(t);if(N){const P=window.MotionHandoffAnimation(N,m,Ot);P!==null&&(_.startTime=P,T=!0)}}_w(t,m),y.start(y_(m,y,b,t.shouldReduceMotion&&BP.has(m)?{type:!1}:_,t,T));const R=y.animation;R&&d.push(R)}return l&&Promise.all(d).then(()=>{Ot.update(()=>{l&&q8(t,l)})}),d}function Ew(t,e,n={}){const r=Cf(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(gk(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:y}=s;return r$(t,e,h+d,m,y,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[d,h]=c==="beforeChildren"?[a,l]:[l,a];return d().then(()=>h())}else return Promise.all([a(),l(n.delay)])}function r$(t,e,n=0,r=0,s=1,a){const l=[],c=(t.variantChildren.size-1)*r,d=s===1?(h=0)=>h*r:(h=0)=>c-h*r;return Array.from(t.variantChildren).sort(s$).forEach((h,m)=>{h.notify("AnimationStart",e),l.push(Ew(h,e,{...a,delay:n+d(m)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function s$(t,e){return t.sortNodePosition(e)}function i$(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Ew(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=Ew(t,e,n);else{const s=typeof e=="function"?Cf(t,e,n.custom):e;r=Promise.all(gk(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function vk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const a$=d_.length;function yk(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?yk(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<a$;n++){const r=d_[n],s=t.props[r];(Rf(s)||s===!1)&&(e[r]=s)}return e}const o$=[...c_].reverse(),l$=c_.length;function u$(t){return e=>Promise.all(e.map(({animation:n,options:r})=>i$(t,n,r)))}function c$(t){let e=u$(t),n=PA(),r=!0;const s=d=>(h,m)=>{const y=Cf(t,m,d==="exit"?t.presenceContext?.custom:void 0);if(y){const{transition:b,transitionEnd:_,...E}=y;h={...h,...E,..._}}return h};function a(d){e=d(t)}function l(d){const{props:h}=t,m=yk(t.parent)||{},y=[],b=new Set;let _={},E=1/0;for(let R=0;R<l$;R++){const N=o$[R],P=n[N],M=h[N]!==void 0?h[N]:m[N],F=Rf(M),$=N===d?P.isActive:null;$===!1&&(E=R);let X=M===m[N]&&M!==h[N]&&F;if(X&&r&&t.manuallyAnimateOnMount&&(X=!1),P.protectedKeys={..._},!P.isActive&&$===null||!M&&!P.prevProp||Wg(M)||typeof M=="boolean")continue;const O=d$(P.prevProp,M);let I=O||N===d&&P.isActive&&!X&&F||R>E&&F,D=!1;const L=Array.isArray(M)?M:[M];let z=L.reduce(s(N),{});$===!1&&(z={});const{prevResolvedValues:G={}}=P,U={...G,...z},ye=ie=>{I=!0,b.has(ie)&&(D=!0,b.delete(ie)),P.needsAnimating[ie]=!0;const Y=t.getValue(ie);Y&&(Y.liveStyle=!1)};for(const ie in U){const Y=z[ie],le=G[ie];if(_.hasOwnProperty(ie))continue;let V=!1;xw(Y)&&xw(le)?V=!vk(Y,le):V=Y!==le,V?Y!=null?ye(ie):b.add(ie):Y!==void 0&&b.has(ie)?ye(ie):P.protectedKeys[ie]=!0}P.prevProp=M,P.prevResolvedValues=z,P.isActive&&(_={..._,...z}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(X&&O)||D)&&y.push(...L.map(ie=>({animation:ie,options:{type:N}})))}if(b.size){const R={};if(typeof h.initial!="boolean"){const N=Cf(t,Array.isArray(h.initial)?h.initial[0]:h.initial);N&&N.transition&&(R.transition=N.transition)}b.forEach(N=>{const P=t.getBaseTarget(N),M=t.getValue(N);M&&(M.liveStyle=!0),R[N]=P??null}),y.push({animation:R})}let T=!!y.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(y):Promise.resolve()}function c(d,h){if(n[d].isActive===h)return Promise.resolve();t.variantChildren?.forEach(y=>y.animationState?.setActive(d,h)),n[d].isActive=h;const m=l(d);for(const y in n)n[y].protectedKeys={};return m}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=PA(),r=!0}}}function d$(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!vk(e,t):!1}function ol(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function PA(){return{animate:ol(!0),whileInView:ol(),whileHover:ol(),whileTap:ol(),whileDrag:ol(),whileFocus:ol(),exit:ol()}}class _o{constructor(e){this.isMounted=!1,this.node=e}update(){}}class f$ extends _o{constructor(e){super(e),e.animationState||(e.animationState=c$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let h$=0;class m$ extends _o{constructor(){super(...arguments),this.id=h$++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const p$={animation:{Feature:f$},exit:{Feature:m$}};function Nf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function th(t){return{point:{x:t.pageX,y:t.pageY}}}const g$=t=>e=>u_(e)&&t(e,th(e));function rf(t,e,n,r){return Nf(t,e,g$(n),r)}function bk({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function v$({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function y$(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const wk=1e-4,b$=1-wk,w$=1+wk,xk=.01,x$=0-xk,_$=0+xk;function dr(t){return t.max-t.min}function E$(t,e,n){return Math.abs(t-e)<=n}function kA(t,e,n,r=.5){t.origin=r,t.originPoint=Ut(e.min,e.max,t.origin),t.scale=dr(n)/dr(e),t.translate=Ut(n.min,n.max,t.origin)-t.originPoint,(t.scale>=b$&&t.scale<=w$||isNaN(t.scale))&&(t.scale=1),(t.translate>=x$&&t.translate<=_$||isNaN(t.translate))&&(t.translate=0)}function sf(t,e,n,r){kA(t.x,e.x,n.x,r?r.originX:void 0),kA(t.y,e.y,n.y,r?r.originY:void 0)}function MA(t,e,n){t.min=n.min+e.min,t.max=t.min+dr(e)}function S$(t,e,n){MA(t.x,e.x,n.x),MA(t.y,e.y,n.y)}function DA(t,e,n){t.min=e.min-n.min,t.max=t.min+dr(e)}function af(t,e,n){DA(t.x,e.x,n.x),DA(t.y,e.y,n.y)}const OA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gu=()=>({x:OA(),y:OA()}),jA=()=>({min:0,max:0}),Zt=()=>({x:jA(),y:jA()});function Qr(t){return[t("x"),t("y")]}function eb(t){return t===void 0||t===1}function Sw({scale:t,scaleX:e,scaleY:n}){return!eb(t)||!eb(e)||!eb(n)}function ul(t){return Sw(t)||_k(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function _k(t){return LA(t.x)||LA(t.y)}function LA(t){return t&&t!=="0%"}function Qp(t,e,n){const r=t-n,s=e*r;return n+s}function VA(t,e,n,r,s){return s!==void 0&&(t=Qp(t,s,r)),Qp(t,n,r)+e}function Tw(t,e=0,n=1,r,s){t.min=VA(t.min,e,n,r,s),t.max=VA(t.max,e,n,r,s)}function Ek(t,{x:e,y:n}){Tw(t.x,e.translate,e.scale,e.originPoint),Tw(t.y,n.translate,n.scale,n.originPoint)}const UA=.999999999999,FA=1.0000000000001;function T$(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let c=0;c<s;c++){a=n[c],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&qu(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,Ek(t,l)),r&&ul(a.latestValues)&&qu(t,a.latestValues))}e.x<FA&&e.x>UA&&(e.x=1),e.y<FA&&e.y>UA&&(e.y=1)}function Hu(t,e){t.min=t.min+e,t.max=t.max+e}function zA(t,e,n,r,s=.5){const a=Ut(t.min,t.max,s);Tw(t,e,n,a,r)}function qu(t,e){zA(t.x,e.x,e.scaleX,e.scale,e.originX),zA(t.y,e.y,e.scaleY,e.scale,e.originY)}function Sk(t,e){return bk(y$(t.getBoundingClientRect(),e))}function R$(t,e,n){const r=Sk(t,n),{scroll:s}=e;return s&&(Hu(r.x,s.offset.x),Hu(r.y,s.offset.y)),r}const Tk=({current:t})=>t?t.ownerDocument.defaultView:null,$A=(t,e)=>Math.abs(t-e);function A$(t,e){const n=$A(t.x,e.x),r=$A(t.y,e.y);return Math.sqrt(n**2+r**2)}class Rk{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=nb(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,_=A$(y.offset,{x:0,y:0})>=3;if(!b&&!_)return;const{point:E}=y,{timestamp:T}=Vn;this.history.push({...E,timestamp:T});const{onStart:R,onMove:N}=this.handlers;b||(R&&R(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=tb(b,this.transformPagePoint),Ot.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:_,onSessionEnd:E,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=nb(y.type==="pointercancel"?this.lastMoveEventInfo:tb(b,this.transformPagePoint),this.history);this.startEvent&&_&&_(y,R),E&&E(y,R)},!u_(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const l=th(e),c=tb(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=Vn;this.history=[{...d,timestamp:h}];const{onSessionStart:m}=n;m&&m(e,nb(c,this.history)),this.removeListeners=Zf(rf(this.contextWindow,"pointermove",this.handlePointerMove),rf(this.contextWindow,"pointerup",this.handlePointerUp),rf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),oo(this.updatePoint)}}function tb(t,e){return e?{point:e(t.point)}:t}function BA(t,e){return{x:t.x-e.x,y:t.y-e.y}}function nb({point:t},e){return{point:t,delta:BA(t,Ak(e)),offset:BA(t,C$(e)),velocity:N$(e,.1)}}function C$(t){return t[0]}function Ak(t){return t[t.length-1]}function N$(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Ak(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ys(e)));)n--;if(!r)return{x:0,y:0};const a=Xs(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function I$(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ut(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ut(n,t,r.max):Math.min(t,n)),t}function GA(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function P$(t,{top:e,left:n,bottom:r,right:s}){return{x:GA(t.x,n,s),y:GA(t.y,e,r)}}function HA(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function k$(t,e){return{x:HA(t.x,e.x),y:HA(t.y,e.y)}}function M$(t,e){let n=.5;const r=dr(t),s=dr(e);return s>r?n=Ef(e.min,e.max-r,t.min):r>s&&(n=Ef(t.min,t.max-s,e.min)),ta(0,1,n)}function D$(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Rw=.35;function O$(t=Rw){return t===!1?t=0:t===!0&&(t=Rw),{x:qA(t,"left","right"),y:qA(t,"top","bottom")}}function qA(t,e,n){return{min:WA(t,e),max:WA(t,n)}}function WA(t,e){return typeof t=="number"?t:t[e]||0}const j$=new WeakMap;class L${constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(th(m).point)},a=(m,y)=>{const{drag:b,dragPropagation:_,onDragStart:E}=this.getProps();if(b&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Yz(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qr(R=>{let N=this.getAxisMotionValue(R).get()||0;if(Qs.test(N)){const{projection:P}=this.visualElement;if(P&&P.layout){const M=P.layout.layoutBox[R];M&&(N=dr(M)*(parseFloat(N)/100))}}this.originPoint[R]=N}),E&&Ot.postRender(()=>E(m,y)),_w(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},l=(m,y)=>{const{dragPropagation:b,dragDirectionLock:_,onDirectionLock:E,onDrag:T}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:R}=y;if(_&&this.currentDirection===null){this.currentDirection=V$(R),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",y.point,R),this.updateAxis("y",y.point,R),this.visualElement.render(),T&&T(m,y)},c=(m,y)=>this.stop(m,y),d=()=>Qr(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new Rk(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:Tk(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Ot.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Jm(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=I$(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Bu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=P$(r.layoutBox,e):this.constraints=!1,this.elastic=O$(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Qr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=D$(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Bu(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=R$(r,s.root,this.visualElement.getTransformPagePoint());let l=k$(s.layout.layoutBox,a);if(n){const c=n(v$(l));this.hasMutatedConstraints=!!c,c&&(l=bk(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=Qr(m=>{if(!Jm(m,n,this.currentDirection))return;let y=d&&d[m]||{};l&&(y={min:0,max:0});const b=s?200:1e6,_=s?40:1e7,E={type:"inertia",velocity:r?e[m]:0,bounceStiffness:b,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(m,E)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return _w(this.visualElement,e),r.start(y_(e,r,0,n,this.visualElement,!1))}stopAnimation(){Qr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qr(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Qr(n=>{const{drag:r}=this.getProps();if(!Jm(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];a.set(e[n]-Ut(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Bu(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Qr(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();s[l]=M$({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Qr(l=>{if(!Jm(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];c.set(Ut(d,h,s[l]))})}addListeners(){if(!this.visualElement.current)return;j$.set(this.visualElement,this);const e=this.visualElement.current,n=rf(e,"pointerdown",d=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Bu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ot.read(r);const l=Nf(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Qr(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=d[m].translate,y.set(y.get()+d[m].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Rw,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function Jm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function V$(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class U$ extends _o{constructor(e){super(e),this.removeGroupControls=Jr,this.removeListeners=Jr,this.controls=new L$(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jr}unmount(){this.removeGroupControls(),this.removeListeners()}}const KA=t=>(e,n)=>{t&&Ot.postRender(()=>t(e,n))};class F$ extends _o{constructor(){super(...arguments),this.removePointerDownListener=Jr}onPointerDown(e){this.session=new Rk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Tk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:KA(e),onStart:KA(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&Ot.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=rf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _p={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function YA(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Fd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ue.test(t))t=parseFloat(t);else return t;const n=YA(t,e.target.x),r=YA(t,e.target.y);return`${n}% ${r}%`}},z$={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=lo.parse(t);if(s.length>5)return r;const a=lo.createTransformer(t),l=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;s[0+l]/=c,s[1+l]/=d;const h=Ut(c,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h),a(s)}};class $$ extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;R8(B$),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),_p.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Ot.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),l_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ck(t){const[e,n]=s8(),r=w.useContext(qp);return p.jsx($$,{...t,layoutGroup:r,switchLayoutGroup:w.useContext(ak),isPresent:e,safeToRemove:n})}const B$={borderRadius:{...Fd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fd,borderTopRightRadius:Fd,borderBottomLeftRadius:Fd,borderBottomRightRadius:Fd,boxShadow:z$};function G$(t,e,n){const r=Zn(t)?t:nc(t);return r.start(y_("",r,e,n)),r.animation}const H$=(t,e)=>t.depth-e.depth;class q${constructor(){this.children=[],this.isDirty=!1}add(e){Bx(this.children,e),this.isDirty=!0}remove(e){Gx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(H$),this.isDirty=!1,this.children.forEach(e)}}function W$(t,e){const n=yr.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(oo(r),t(a-e))};return Ot.setup(r,!0),()=>oo(r)}const Nk=["TopLeft","TopRight","BottomLeft","BottomRight"],K$=Nk.length,XA=t=>typeof t=="string"?parseFloat(t):t,QA=t=>typeof t=="number"||Ue.test(t);function Y$(t,e,n,r,s,a){s?(t.opacity=Ut(0,n.opacity??1,X$(r)),t.opacityExit=Ut(e.opacity??1,0,Q$(r))):a&&(t.opacity=Ut(e.opacity??1,n.opacity??1,r));for(let l=0;l<K$;l++){const c=`border${Nk[l]}Radius`;let d=ZA(e,c),h=ZA(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||QA(d)===QA(h)?(t[c]=Math.max(Ut(XA(d),XA(h),r),0),(Qs.test(h)||Qs.test(d))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=Ut(e.rotate||0,n.rotate||0,r))}function ZA(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const X$=Ik(0,.5,bP),Q$=Ik(.5,.95,Jr);function Ik(t,e,n){return r=>r<t?0:r>e?1:n(Ef(t,e,r))}function JA(t,e){t.min=e.min,t.max=e.max}function Xr(t,e){JA(t.x,e.x),JA(t.y,e.y)}function eC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function tC(t,e,n,r,s){return t-=e,t=Qp(t,1/n,r),s!==void 0&&(t=Qp(t,1/s,r)),t}function Z$(t,e=0,n=1,r=.5,s,a=t,l=t){if(Qs.test(e)&&(e=parseFloat(e),e=Ut(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=Ut(a.min,a.max,r);t===a&&(c-=e),t.min=tC(t.min,e,n,c,s),t.max=tC(t.max,e,n,c,s)}function nC(t,e,[n,r,s],a,l){Z$(t,e[n],e[r],e[s],e.scale,a,l)}const J$=["x","scaleX","originX"],eB=["y","scaleY","originY"];function rC(t,e,n,r){nC(t.x,e,J$,n?n.x:void 0,r?r.x:void 0),nC(t.y,e,eB,n?n.y:void 0,r?r.y:void 0)}function sC(t){return t.translate===0&&t.scale===1}function Pk(t){return sC(t.x)&&sC(t.y)}function iC(t,e){return t.min===e.min&&t.max===e.max}function tB(t,e){return iC(t.x,e.x)&&iC(t.y,e.y)}function aC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function kk(t,e){return aC(t.x,e.x)&&aC(t.y,e.y)}function oC(t){return dr(t.x)/dr(t.y)}function lC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class nB{constructor(){this.members=[]}add(e){Bx(this.members,e),e.scheduleRender()}remove(e){if(Gx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rB(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:y,rotateY:b,skewX:_,skewY:E}=n;h&&(r=`perspective(${h}px) ${r}`),m&&(r+=`rotate(${m}deg) `),y&&(r+=`rotateX(${y}deg) `),b&&(r+=`rotateY(${b}deg) `),_&&(r+=`skewX(${_}deg) `),E&&(r+=`skewY(${E}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const rb=["","X","Y","Z"],sB={visibility:"hidden"},iB=1e3;let aB=0;function sb(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Mk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=pk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ot,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Mk(r)}function Dk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=e?.()){this.id=aB++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uB),this.nodes.forEach(hB),this.nodes.forEach(mB),this.nodes.forEach(cB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new q$)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Wx),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=ZP(l)&&!t8(l),this.instance=l;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let m;const y=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=W$(y,250),_p.hasAnimatedSinceResize&&(_p.hasAnimatedSinceResize=!1,this.nodes.forEach(dC))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeLayoutChanged:b,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||h.getDefaultTransition()||bB,{onLayoutAnimationStart:T,onLayoutAnimationComplete:R}=h.getProps(),N=!this.targetLayout||!kk(this.targetLayout,_),P=!y&&b;if(this.options.layoutRoot||this.resumeFrom||P||y&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...a_(E,"layout"),onPlay:T,onComplete:R};(h.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(m,P)}else y||dC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),oo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pB),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Mk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uC);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(cC);return}this.isUpdating||this.nodes.forEach(cC),this.animationCommitId=this.animationId,this.isUpdating=!1,this.nodes.forEach(fB),this.nodes.forEach(oB),this.nodes.forEach(lB),this.clearAllSnapshots();const c=yr.now();Vn.delta=ta(0,1e3/60,c-Vn.timestamp),Vn.timestamp=c,Vn.isProcessing=!0,Ky.update.process(Vn),Ky.preRender.process(Vn),Ky.render.process(Vn),Vn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,l_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(dB),this.sharedNodes.forEach(gB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!dr(this.snapshot.measuredBox.x)&&!dr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!Pk(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;l&&this.instance&&(c||ul(this.latestValues)||m)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),wB(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Zt();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(xB))){const{scroll:h}=this.root;h&&(Hu(c.x,h.offset.x),Hu(c.y,h.offset.y))}return c}removeElementScroll(l){const c=Zt();if(Xr(c,l),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:y}=h;h!==this.root&&m&&y.layoutScroll&&(m.wasRoot&&Xr(c,l),Hu(c.x,m.offset.x),Hu(c.y,m.offset.y))}return c}applyTransform(l,c=!1){const d=Zt();Xr(d,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&qu(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ul(m.latestValues)&&qu(d,m.latestValues)}return ul(this.latestValues)&&qu(d,this.latestValues),d}removeTransform(l){const c=Zt();Xr(c,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!ul(h.latestValues))continue;Sw(h.latestValues)&&h.updateSnapshot();const m=Zt(),y=h.measurePageBox();Xr(m,y),rC(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return ul(this.latestValues)&&rC(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=Vn.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),af(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Zt(),this.targetWithTransforms=Zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),S$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xr(this.target,this.layout.layoutBox),Ek(this.target,this.targetDelta)):Xr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),af(this.relativeTargetOrigin,this.target,b.target),Xr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Sw(this.parent.latestValues)||_k(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Vn.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;Xr(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,b=this.treeScale.y;T$(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Zt());const{target:_}=l;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(eC(this.prevProjectionDelta.x,this.projectionDelta.x),eC(this.prevProjectionDelta.y,this.projectionDelta.y)),sf(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==b||!lC(this.projectionDelta.x,this.prevProjectionDelta.x)||!lC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Gu(),this.projectionDelta=Gu(),this.projectionDeltaWithTransform=Gu()}setAnimationOrigin(l,c=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},y=Gu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const b=Zt(),_=d?d.source:void 0,E=this.layout?this.layout.source:void 0,T=_!==E,R=this.getStack(),N=!R||R.members.length<=1,P=!!(T&&!N&&this.options.crossfade===!0&&!this.path.some(yB));this.animationProgress=0;let M;this.mixTargetDelta=F=>{const $=F/1e3;fC(y.x,l.x,$),fC(y.y,l.y,$),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(af(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vB(this.relativeTarget,this.relativeTargetOrigin,b,$),M&&tB(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=Zt()),Xr(M,this.relativeTarget)),T&&(this.animationValues=m,Y$(m,h,this.latestValues,$,P,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(oo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ot.update(()=>{_p.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=nc(0)),this.currentAnimation=G$(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:m}=l;if(!(!c||!d||!h)){if(this!==l&&this.layout&&h&&Ok(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Zt();const y=dr(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+y;const b=dr(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+b}Xr(c,d),qu(c,m),sf(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new nB),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&sb("z",l,h,this.animationValues);for(let m=0;m<rb.length;m++)sb(`rotate${rb[m]}`,l,h,this.animationValues),sb(`skew${rb[m]}`,l,h,this.animationValues);l.render();for(const m in h)l.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return sB;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=xp(l?.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=xp(l?.pointerEvents)||""),this.hasProjected&&!ul(this.latestValues)&&(_.transform=d?d({},""):"none",this.hasProjected=!1),_}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=rB(this.projectionDeltaWithTransform,this.treeScale,m),d&&(c.transform=d(m,c.transform));const{x:y,y:b}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,h.animationValues?c.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in Af){if(m[_]===void 0)continue;const{correct:E,applyTo:T,isCSSVariable:R}=Af[_],N=c.transform==="none"?m[_]:E(m[_],h);if(T){const P=T.length;for(let M=0;M<P;M++)c[T[M]]=N}else R?this.options.visualElement.renderState.vars[_]=N:c[_]=N}return this.options.layoutId&&(c.pointerEvents=h===this?xp(l?.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(uC),this.root.sharedNodes.clear()}}}function oB(t){t.updateLayout()}function lB(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?Qr(m=>{const y=a?e.measuredBox[m]:e.layoutBox[m],b=dr(y);y.min=n[m].min,y.max=y.min+b}):Ok(s,e.layoutBox,n)&&Qr(m=>{const y=a?e.measuredBox[m]:e.layoutBox[m],b=dr(n[m]);y.max=y.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+b)});const l=Gu();sf(l,n,e.layoutBox);const c=Gu();a?sf(c,t.applyTransform(r,!0),e.measuredBox):sf(c,n,e.layoutBox);const d=!Pk(l);let h=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:y,layout:b}=m;if(y&&b){const _=Zt();af(_,e.layoutBox,y.layoutBox);const E=Zt();af(E,n,b.layoutBox),kk(_,E)||(h=!0),m.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=_,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function uB(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function dB(t){t.clearSnapshot()}function uC(t){t.clearMeasurements()}function cC(t){t.isLayoutDirty=!1}function fB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function dC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function hB(t){t.resolveTargetDelta()}function mB(t){t.calcProjection()}function pB(t){t.resetSkewAndRotation()}function gB(t){t.removeLeadSnapshot()}function fC(t,e,n){t.translate=Ut(e.translate,0,n),t.scale=Ut(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function hC(t,e,n,r){t.min=Ut(e.min,n.min,r),t.max=Ut(e.max,n.max,r)}function vB(t,e,n,r){hC(t.x,e.x,n.x,r),hC(t.y,e.y,n.y,r)}function yB(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const bB={duration:.45,ease:[.4,0,.1,1]},mC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),pC=mC("applewebkit/")&&!mC("chrome/")?Math.round:Jr;function gC(t){t.min=pC(t.min),t.max=pC(t.max)}function wB(t){gC(t.x),gC(t.y)}function Ok(t,e,n){return t==="position"||t==="preserve-aspect"&&!E$(oC(e),oC(n),.2)}function xB(t){return t!==t.root&&t.scroll?.wasRoot}const _B=Dk({attachResizeListener:(t,e)=>Nf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ib={current:void 0},jk=Dk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ib.current){const t=new _B({});t.mount(window),t.setOptions({layoutScroll:!0}),ib.current=t}return ib.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),EB={pan:{Feature:F$},drag:{Feature:U$,ProjectionNode:jk,MeasureLayout:Ck}};function vC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&Ot.postRender(()=>a(e,th(e)))}class SB extends _o{mount(){const{current:e}=this.node;e&&(this.unmount=Xz(e,(n,r)=>(vC(this.node,r,"Start"),s=>vC(this.node,s,"End"))))}unmount(){}}class TB extends _o{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zf(Nf(this.node.current,"focus",()=>this.onFocus()),Nf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yC(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&Ot.postRender(()=>a(e,th(e)))}class RB extends _o{mount(){const{current:e}=this.node;e&&(this.unmount=e8(e,(n,r)=>(yC(this.node,r,"Start"),(s,{success:a})=>yC(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Aw=new WeakMap,ab=new WeakMap,AB=t=>{const e=Aw.get(t.target);e&&e(t)},CB=t=>{t.forEach(AB)};function NB({root:t,...e}){const n=t||document;ab.has(n)||ab.set(n,{});const r=ab.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(CB,{root:t,...e})),r[s]}function IB(t,e,n){const r=NB(e);return Aw.set(t,n),r.observe(t),()=>{Aw.delete(t),r.unobserve(t)}}const PB={some:0,all:1};class kB extends _o{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:PB[s]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),b=h?m:y;b&&b(d)};return IB(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(MB(e,n))&&this.startObserver()}unmount(){}}function MB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const DB={inView:{Feature:kB},tap:{Feature:RB},focus:{Feature:TB},hover:{Feature:SB}},OB={layout:{ProjectionNode:jk,MeasureLayout:Ck}},Cw={current:null},Lk={current:!1};function jB(){if(Lk.current=!0,!!zx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Cw.current=t.matches;t.addListener(e),e()}else Cw.current=!1}const LB=new WeakMap;function VB(t,e,n){for(const r in e){const s=e[r],a=n[r];if(Zn(s))t.addValue(r,s);else if(Zn(a))t.addValue(r,nc(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,nc(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const bC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UB{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=i_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=yr.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Ot.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Kg(n),this.isVariantNode=sk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in y){const _=y[b];d[b]!==void 0&&Zn(_)&&_.set(d[b],!1)}}mount(e){this.current=e,LB.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Lk.current||jB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Cw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),oo(this.notifyUpdate),oo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=wc.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Ot.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in rc){const n=rc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<bC.length;r++){const s=bC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=VB(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=nc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(uP(r)||dP(r))?r=parseFloat(r):!r8(r)&&lo.test(n)&&(r=WP(e,n)),this.setBaseTarget(e,Zn(r)?r.get():r)),Zn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=g_(this.props,n,this.presenceContext?.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Zn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Wx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Vk extends UB{constructor(){super(...arguments),this.KeyframeResolver=Hz}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Uk(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}function FB(t){return window.getComputedStyle(t)}class zB extends Vk{constructor(){super(...arguments),this.type="html",this.renderInstance=Uk}readValueFromInstance(e,n){if(wc.has(n))return this.projection?.isProjecting?pw(n):cz(e,n);{const r=FB(e),s=(Xx(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Sk(e,n)}build(e,n,r){h_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return v_(e,n,r)}}const Fk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $B(t,e,n,r){Uk(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Fk.has(s)?s:f_(s),e.attrs[s])}class BB extends Vk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Zt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(wc.has(n)){const r=qP(n);return r&&r.default||0}return n=Fk.has(n)?n:f_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return mk(e,n,r)}build(e,n,r){ck(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){$B(e,n,r,s)}mount(e){this.isSVGTag=fk(e.tagName),super.mount(e)}}const GB=(t,e)=>p_(t)?new BB(e):new zB(e,{allowProjection:t!==w.Fragment}),HB=B8({...p$,...DB,...EB,...OB},GB),zk=m8(HB),Yg=w.forwardRef(function(e,n){return p.jsx(S9,{children:p.jsx("a",{...e,ref:n})})}),zd={base:["relative isolate inline-flex items-baseline justify-center gap-x-2 rounded-lg border text-base/6 font-semibold","px-[calc(--spacing(3.5)-1px)] py-[calc(--spacing(2.5)-1px)] sm:px-[calc(--spacing(3)-1px)] sm:py-[calc(--spacing(1.5)-1px)] sm:text-sm/6","focus:not-data-focus:outline-hidden data-focus:outline-2 data-focus:outline-offset-2 data-focus:outline-blue-500","data-disabled:opacity-50","*:data-[slot=icon]:-mx-0.5 *:data-[slot=icon]:my-0.5 *:data-[slot=icon]:size-5 *:data-[slot=icon]:shrink-0 *:data-[slot=icon]:self-center *:data-[slot=icon]:text-(--btn-icon) sm:*:data-[slot=icon]:my-1 sm:*:data-[slot=icon]:size-4 forced-colors:[--btn-icon:ButtonText] forced-colors:data-hover:[--btn-icon:ButtonText]"],solid:["border-transparent bg-(--btn-border)","dark:bg-(--btn-bg)","before:absolute before:inset-0 before:-z-10 before:rounded-[calc(var(--radius-lg)-1px)] before:bg-(--btn-bg)","before:shadow-sm","dark:before:hidden","dark:border-white/5","after:absolute after:inset-0 after:-z-10 after:rounded-[calc(var(--radius-lg)-1px)]","after:shadow-[inset_0_1px_--theme(--color-white/15%)]","data-active:after:bg-(--btn-hover-overlay) data-hover:after:bg-(--btn-hover-overlay)","dark:after:-inset-px dark:after:rounded-lg","data-disabled:before:shadow-none data-disabled:after:shadow-none"],outline:["border-zinc-950/10 text-zinc-950 data-active:bg-zinc-950/2.5 data-hover:bg-zinc-950/2.5","dark:border-white/15 dark:text-white dark:[--btn-bg:transparent] dark:data-active:bg-white/5 dark:data-hover:bg-white/5","[--btn-icon:var(--color-zinc-500)] data-active:[--btn-icon:var(--color-zinc-700)] data-hover:[--btn-icon:var(--color-zinc-700)] dark:data-active:[--btn-icon:var(--color-zinc-400)] dark:data-hover:[--btn-icon:var(--color-zinc-400)]"],plain:["border-transparent text-zinc-950 data-active:bg-zinc-950/5 data-hover:bg-zinc-950/5","dark:text-white dark:data-active:bg-white/10 dark:data-hover:bg-white/10","[--btn-icon:var(--color-zinc-500)] data-active:[--btn-icon:var(--color-zinc-700)] data-hover:[--btn-icon:var(--color-zinc-700)] dark:[--btn-icon:var(--color-zinc-500)] dark:data-active:[--btn-icon:var(--color-zinc-400)] dark:data-hover:[--btn-icon:var(--color-zinc-400)]"],colors:{"dark/zinc":["text-white [--btn-bg:var(--color-zinc-900)] [--btn-border:var(--color-zinc-950)]/90 [--btn-hover-overlay:var(--color-white)]/10","dark:text-white dark:[--btn-bg:var(--color-zinc-600)] dark:[--btn-hover-overlay:var(--color-white)]/5","[--btn-icon:var(--color-zinc-400)] data-active:[--btn-icon:var(--color-zinc-300)] data-hover:[--btn-icon:var(--color-zinc-300)]"],light:["text-zinc-950 [--btn-bg:white] [--btn-border:var(--color-zinc-950)]/10 [--btn-hover-overlay:var(--color-zinc-950)]/2.5 data-active:[--btn-border:var(--color-zinc-950)]/15 data-hover:[--btn-border:var(--color-zinc-950)]/15","dark:text-white dark:[--btn-hover-overlay:var(--color-white)]/5 dark:[--btn-bg:var(--color-zinc-800)]","[--btn-icon:var(--color-zinc-500)] data-active:[--btn-icon:var(--color-zinc-700)] data-hover:[--btn-icon:var(--color-zinc-700)] dark:[--btn-icon:var(--color-zinc-500)] dark:data-active:[--btn-icon:var(--color-zinc-400)] dark:data-hover:[--btn-icon:var(--color-zinc-400)]"],"dark/white":["text-white [--btn-bg:var(--color-zinc-900)] [--btn-border:var(--color-zinc-950)]/90 [--btn-hover-overlay:var(--color-white)]/10","dark:text-zinc-950 dark:[--btn-bg:white] dark:[--btn-hover-overlay:var(--color-zinc-950)]/5","[--btn-icon:var(--color-zinc-400)] data-active:[--btn-icon:var(--color-zinc-300)] data-hover:[--btn-icon:var(--color-zinc-300)] dark:[--btn-icon:var(--color-zinc-500)] dark:data-active:[--btn-icon:var(--color-zinc-400)] dark:data-hover:[--btn-icon:var(--color-zinc-400)]"],dark:["text-white [--btn-bg:var(--color-zinc-900)] [--btn-border:var(--color-zinc-950)]/90 [--btn-hover-overlay:var(--color-white)]/10","dark:[--btn-hover-overlay:var(--color-white)]/5 dark:[--btn-bg:var(--color-zinc-800)]","[--btn-icon:var(--color-zinc-400)] data-active:[--btn-icon:var(--color-zinc-300)] data-hover:[--btn-icon:var(--color-zinc-300)]"],white:["text-zinc-950 [--btn-bg:white] [--btn-border:var(--color-zinc-950)]/10 [--btn-hover-overlay:var(--color-zinc-950)]/2.5 data-active:[--btn-border:var(--color-zinc-950)]/15 data-hover:[--btn-border:var(--color-zinc-950)]/15","dark:[--btn-hover-overlay:var(--color-zinc-950)]/5","[--btn-icon:var(--color-zinc-400)] data-active:[--btn-icon:var(--color-zinc-500)] data-hover:[--btn-icon:var(--color-zinc-500)]"],zinc:["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-zinc-600)] [--btn-border:var(--color-zinc-700)]/90","dark:[--btn-hover-overlay:var(--color-white)]/5","[--btn-icon:var(--color-zinc-400)] data-active:[--btn-icon:var(--color-zinc-300)] data-hover:[--btn-icon:var(--color-zinc-300)]"],indigo:["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-indigo-500)] [--btn-border:var(--color-indigo-600)]/90","[--btn-icon:var(--color-indigo-300)] data-active:[--btn-icon:var(--color-indigo-200)] data-hover:[--btn-icon:var(--color-indigo-200)]"],cyan:["text-cyan-950 [--btn-bg:var(--color-cyan-300)] [--btn-border:var(--color-cyan-400)]/80 [--btn-hover-overlay:var(--color-white)]/25","[--btn-icon:var(--color-cyan-500)]"],red:["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-red-600)] [--btn-border:var(--color-red-700)]/90","[--btn-icon:var(--color-red-300)] data-active:[--btn-icon:var(--color-red-200)] data-hover:[--btn-icon:var(--color-red-200)]"],orange:["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-orange-500)] [--btn-border:var(--color-orange-600)]/90","[--btn-icon:var(--color-orange-300)] data-active:[--btn-icon:var(--color-orange-200)] data-hover:[--btn-icon:var(--color-orange-200)]"],amber:["text-amber-950 [--btn-hover-overlay:var(--color-white)]/25 [--btn-bg:var(--color-amber-400)] [--btn-border:var(--color-amber-500)]/80","[--btn-icon:var(--color-amber-600)]"],yellow:["text-yellow-950 [--btn-hover-overlay:var(--color-white)]/25 [--btn-bg:var(--color-yellow-300)] [--btn-border:var(--color-yellow-400)]/80","[--btn-icon:var(--color-yellow-600)] data-active:[--btn-icon:var(--color-yellow-700)] data-hover:[--btn-icon:var(--color-yellow-700)]"],lime:["text-lime-950 [--btn-hover-overlay:var(--color-white)]/25 [--btn-bg:var(--color-lime-300)] [--btn-border:var(--color-lime-400)]/80","[--btn-icon:var(--color-lime-600)] data-active:[--btn-icon:var(--color-lime-700)] data-hover:[--btn-icon:var(--color-lime-700)]"],green:["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-green-600)] [--btn-border:var(--color-green-700)]/90","[--btn-icon:var(--color-white)]/60 data-active:[--btn-icon:var(--color-white)]/80 data-hover:[--btn-icon:var(--color-white)]/80"],emerald:["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-emerald-600)] [--btn-border:var(--color-emerald-700)]/90","[--btn-icon:var(--color-white)]/60 data-active:[--btn-icon:var(--color-white)]/80 data-hover:[--btn-icon:var(--color-white)]/80"],teal:["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-teal-600)] [--btn-border:var(--color-teal-700)]/90","[--btn-icon:var(--color-white)]/60 data-active:[--btn-icon:var(--color-white)]/80 data-hover:[--btn-icon:var(--color-white)]/80"],sky:["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-sky-500)] [--btn-border:var(--color-sky-600)]/80","[--btn-icon:var(--color-white)]/60 data-active:[--btn-icon:var(--color-white)]/80 data-hover:[--btn-icon:var(--color-white)]/80"],blue:["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-blue-600)] [--btn-border:var(--color-blue-700)]/90","[--btn-icon:var(--color-blue-400)] data-active:[--btn-icon:var(--color-blue-300)] data-hover:[--btn-icon:var(--color-blue-300)]"],violet:["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-violet-500)] [--btn-border:var(--color-violet-600)]/90","[--btn-icon:var(--color-violet-300)] data-active:[--btn-icon:var(--color-violet-200)] data-hover:[--btn-icon:var(--color-violet-200)]"],purple:["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-purple-500)] [--btn-border:var(--color-purple-600)]/90","[--btn-icon:var(--color-purple-300)] data-active:[--btn-icon:var(--color-purple-200)] data-hover:[--btn-icon:var(--color-purple-200)]"],fuchsia:["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-fuchsia-500)] [--btn-border:var(--color-fuchsia-600)]/90","[--btn-icon:var(--color-fuchsia-300)] data-active:[--btn-icon:var(--color-fuchsia-200)] data-hover:[--btn-icon:var(--color-fuchsia-200)]"],pink:["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-pink-500)] [--btn-border:var(--color-pink-600)]/90","[--btn-icon:var(--color-pink-300)] data-active:[--btn-icon:var(--color-pink-200)] data-hover:[--btn-icon:var(--color-pink-200)]"],rose:["text-white [--btn-hover-overlay:var(--color-white)]/10 [--btn-bg:var(--color-rose-500)] [--btn-border:var(--color-rose-600)]/90","[--btn-icon:var(--color-rose-300)] data-active:[--btn-icon:var(--color-rose-200)] data-hover:[--btn-icon:var(--color-rose-200)]"]}},qse=w.forwardRef(function({color:e,outline:n,plain:r,className:s,children:a,...l},c){let d=gt(s,zd.base,n?zd.outline:r?zd.plain:gt(zd.solid,zd.colors[e??"dark/zinc"]));return"href"in l?p.jsx(Yg,{...l,className:d,ref:c,children:p.jsx(uo,{children:a})}):p.jsx(Kf,{...l,className:gt(d,"cursor-default"),ref:c,children:p.jsx(uo,{children:a})})});function uo({children:t}){return p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"absolute top-1/2 left-1/2 size-[max(100%,2.75rem)] -translate-x-1/2 -translate-y-1/2 pointer-fine:hidden","aria-hidden":"true"}),t]})}function qB({className:t,...e}){return p.jsx("nav",{...e,className:gt(t,"flex flex-1 items-center gap-4 py-2.5")})}function WB({className:t,...e}){const n=w.useId();return p.jsx(tk,{id:n,children:p.jsx("div",{...e,className:gt(t,"flex items-center gap-3")})})}function KB({className:t,...e}){return p.jsx("div",{"aria-hidden":"true",...e,className:gt(t,"-ml-4 flex-1")})}const hl=w.forwardRef(function({current:e,className:n,children:r,...s},a){const l=gt("relative flex min-w-0 items-center gap-3 rounded-lg p-2 text-left text-base/6 font-medium text-white sm:text-sm/5","*:data-[slot=icon]:size-6 *:data-[slot=icon]:shrink-0 *:data-[slot=icon]:fill-white sm:*:data-[slot=icon]:size-5","*:not-nth-2:last:data-[slot=icon]:ml-auto *:not-nth-2:last:data-[slot=icon]:size-5 sm:*:not-nth-2:last:data-[slot=icon]:size-4","*:data-[slot=avatar]:-m-0.5 *:data-[slot=avatar]:size-7 *:data-[slot=avatar]:[--avatar-radius:var(--radius-md)] sm:*:data-[slot=avatar]:size-6","data-hover:bg-white/10 data-hover:*:data-[slot=icon]:fill-white","data-active:bg-white/10 data-active:*:data-[slot=icon]:fill-white");return p.jsxs("span",{className:gt(n,"relative"),children:[e&&p.jsx(zk.span,{layoutId:"current-indicator",className:"absolute inset-x-2 -bottom-2.5 h-0.5 rounded-full bg-zinc-950 dark:bg-white"}),"href"in s?p.jsx(Yg,{...s,className:l,"data-current":e?"true":void 0,ref:a,children:p.jsx(uo,{children:r})}):p.jsx(Kf,{...s,className:gt("cursor-default",l),"data-current":e?"true":void 0,ref:a,children:p.jsx(uo,{children:r})})]})}),$k=w.createContext({}),Bk=()=>w.useContext($k);function YB(){return p.jsx("svg",{"data-slot":"icon",viewBox:"0 0 20 20","aria-hidden":"true",children:p.jsx("path",{d:"M2 6.75C2 6.33579 2.33579 6 2.75 6H17.25C17.6642 6 18 6.33579 18 6.75C18 7.16421 17.6642 7.5 17.25 7.5H2.75C2.33579 7.5 2 7.16421 2 6.75ZM2 13.25C2 12.8358 2.33579 12.5 2.75 12.5H17.25C17.6642 12.5 18 12.8358 18 13.25C18 13.6642 17.6642 14 17.25 14H2.75C2.33579 14 2 13.6642 2 13.25Z"})})}function XB(){return p.jsx("svg",{"data-slot":"icon",viewBox:"0 0 20 20","aria-hidden":"true",children:p.jsx("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"})})}function QB({open:t,close:e,children:n}){return p.jsxs(oP,{open:t,onClose:e,className:"lg:hidden",children:[p.jsx(iP,{transition:!0,className:"fixed inset-0 bg-black/30 transition data-closed:opacity-0 data-enter:duration-300 data-enter:ease-out data-leave:duration-200 data-leave:ease-in"}),p.jsx(Fx,{transition:!0,className:"fixed inset-y-0 w-full max-w-80 p-2 transition duration-300 ease-in-out data-closed:-translate-x-full",children:p.jsxs("div",{className:"flex h-full flex-col rounded-lg bg-blue-900 shadow-xs ring-1 ring-zinc-950/5 dark:bg-blue-900 dark:ring-white/10",children:[p.jsx("div",{className:"-mb-3 px-4 pt-3",children:p.jsx(EI,{as:hl,"aria-label":"Close navigation",children:p.jsx(XB,{})})}),n]})})]})}function ZB({navbar:t,sidebar:e,children:n}){const[r,s]=w.useState(!1),a=()=>s(!1);return p.jsx($k.Provider,{value:{closeSidebar:a},children:p.jsxs("div",{className:"relative isolate flex min-h-svh w-full  max-lg:flex-col bg-blue-900",children:[p.jsx("div",{className:"fixed inset-y-0 left-0 w-64 max-lg:hidden bg-blue-900",children:e}),p.jsx(QB,{open:r,close:a,children:e}),p.jsxs("header",{className:"flex items-center px-2 sm:px-4 lg:hidden bg-blue-900",children:[p.jsx("div",{className:"py-2.5",children:p.jsx(hl,{onClick:()=>s(!0),"aria-label":"Open navigation",children:p.jsx(YB,{})})}),p.jsx("div",{className:"min-w-0 flex-1",children:t})]}),p.jsx("main",{className:"flex flex-1 flex-col pb-2 lg:min-w-0 lg:pt-2 lg:pr-2 lg:pl-64",children:p.jsx("div",{className:"grow bg-white p-2 sm:p-4 lg:rounded-lg lg:bg-white lg:p-10 lg:shadow-xs lg:ring-1 lg:ring-zinc-950/5 dark:bg-zinc-900 dark:lg:bg-zinc-900 dark:lg:ring-white/10",children:p.jsx("div",{className:"w-full lg:mx-auto lg:max-w-6xl",children:n})})})]})})}function JB({className:t,...e}){return p.jsx("nav",{...e,className:gt(t,"flex h-full min-h-0 flex-col text-white")})}function eG({className:t,...e}){return p.jsx("div",{...e,className:gt(t,"flex flex-col border-b border-zinc-950/5 p-4 dark:border-white/5 [&>[data-slot=section]+[data-slot=section]]:mt-2.5")})}function tG({className:t,...e}){return p.jsx("div",{...e,className:gt(t,"flex flex-1 flex-col overflow-y-auto p-4 [&>[data-slot=section]+[data-slot=section]]:mt-8")})}function nG({className:t,...e}){return p.jsx("div",{...e,className:gt(t,"flex flex-col border-t border-zinc-950/5 p-4 dark:border-white/5 [&>[data-slot=section]+[data-slot=section]]:mt-2.5")})}function ob({className:t,...e}){const n=w.useId();return p.jsx(tk,{id:n,children:p.jsx("div",{...e,"data-slot":"section",className:gt(t,"flex flex-col gap-0.5")})})}function rG({className:t,...e}){return p.jsx("div",{"aria-hidden":"true",...e,className:gt(t,"mt-8 flex-1")})}const Vi=w.forwardRef(function({current:e,className:n,children:r,...s},a){const l=gt("flex w-full items-center gap-3 rounded-lg px-2 py-2.5 text-left text-base/6 font-medium text-white sm:py-2 sm:text-sm/5","*:data-[slot=icon]:size-6 *:data-[slot=icon]:shrink-0 *:data-[slot=icon]:fill-white sm:*:data-[slot=icon]:size-5","*:last:data-[slot=icon]:ml-auto *:last:data-[slot=icon]:size-5 sm:*:last:data-[slot=icon]:size-4","*:data-[slot=avatar]:-m-0.5 *:data-[slot=avatar]:size-7 sm:*:data-[slot=avatar]:size-6","data-hover:bg-white/10 data-hover:*:data-[slot=icon]:fill-white","data-active:bg-white/10 data-active:*:data-[slot=icon]:fill-white","data-current:*:data-[slot=icon]:fill-white");return p.jsxs("span",{className:gt(n,"relative"),children:[e&&p.jsx(zk.span,{layoutId:"current-indicator",className:"absolute inset-y-2 -left-4 w-0.5 rounded-full bg-zinc-950 dark:bg-white"}),"href"in s?p.jsx(EI,{as:Yg,...s,className:l,"data-current":e?"true":void 0,ref:a,children:p.jsx(uo,{children:r})}):p.jsx(Kf,{...s,className:gt("cursor-default",l),"data-current":e?"true":void 0,ref:a,children:p.jsx(uo,{children:r})})]})});function Va({className:t,...e}){return p.jsx("span",{...e,className:gt(t,"truncate")})}function et(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t?.(s),n===!1||!s.defaultPrevented)return e?.(s)}}function jl(t,e=[]){let n=[];function r(a,l){const c=w.createContext(l),d=n.length;n=[...n,l];const h=y=>{const{scope:b,children:_,...E}=y,T=b?.[t]?.[d]||c,R=w.useMemo(()=>E,Object.values(E));return p.jsx(T.Provider,{value:R,children:_})};h.displayName=a+"Provider";function m(y,b){const _=b?.[t]?.[d]||c,E=w.useContext(_);if(E)return E;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[h,m]}const s=()=>{const a=n.map(l=>w.createContext(l));return function(c){const d=c?.[t]||a;return w.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return s.scopeName=t,[r,sG(s,...e)]}function sG(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=r.reduce((c,{useScope:d,scopeName:h})=>{const y=d(a)[`__scope${h}`];return{...c,...y}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}var bs=globalThis?.document?w.useLayoutEffect:()=>{},iG=jp[" useInsertionEffect ".trim().toString()]||bs;function b_({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,a,l]=aG({defaultProp:e,onChange:n}),c=t!==void 0,d=c?t:s;{const m=w.useRef(t!==void 0);w.useEffect(()=>{const y=m.current;y!==c&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const h=w.useCallback(m=>{if(c){const y=oG(m)?m(t):m;y!==t&&l.current?.(y)}else a(m)},[c,t,a,l]);return[d,h]}function aG({defaultProp:t,onChange:e}){const[n,r]=w.useState(t),s=w.useRef(n),a=w.useRef(e);return iG(()=>{a.current=e},[e]),w.useEffect(()=>{s.current!==n&&(a.current?.(n),s.current=n)},[n,s]),[n,r,a]}function oG(t){return typeof t=="function"}var lG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qt=lG.reduce((t,e)=>{const n=bf(`Primitive.${e}`),r=w.forwardRef((s,a)=>{const{asChild:l,...c}=s,d=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Gk(t,e){t&&Ig.flushSync(()=>t.dispatchEvent(e))}function Hk(t){const e=t+"CollectionProvider",[n,r]=jl(e),[s,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=T=>{const{scope:R,children:N}=T,P=Se.useRef(null),M=Se.useRef(new Map).current;return p.jsx(s,{scope:R,itemMap:M,collectionRef:P,children:N})};l.displayName=e;const c=t+"CollectionSlot",d=bf(c),h=Se.forwardRef((T,R)=>{const{scope:N,children:P}=T,M=a(c,N),F=br(R,M.collectionRef);return p.jsx(d,{ref:F,children:P})});h.displayName=c;const m=t+"CollectionItemSlot",y="data-radix-collection-item",b=bf(m),_=Se.forwardRef((T,R)=>{const{scope:N,children:P,...M}=T,F=Se.useRef(null),$=br(R,F),X=a(m,N);return Se.useEffect(()=>(X.itemMap.set(F,{ref:F,...M}),()=>void X.itemMap.delete(F))),p.jsx(b,{[y]:"",ref:$,children:P})});_.displayName=m;function E(T){const R=a(t+"CollectionConsumer",T);return Se.useCallback(()=>{const P=R.collectionRef.current;if(!P)return[];const M=Array.from(P.querySelectorAll(`[${y}]`));return Array.from(R.itemMap.values()).sort((X,O)=>M.indexOf(X.ref.current)-M.indexOf(O.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:l,Slot:h,ItemSlot:_},E,r]}var uG=w.createContext(void 0);function w_(t){const e=w.useContext(uG);return t||e||"ltr"}function ai(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>e.current?.(...n),[])}function cG(t,e=globalThis?.document){const n=ai(t);w.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var dG="DismissableLayer",Nw="dismissableLayer.update",fG="dismissableLayer.pointerDownOutside",hG="dismissableLayer.focusOutside",wC,qk=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wk=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...d}=t,h=w.useContext(qk),[m,y]=w.useState(null),b=m?.ownerDocument??globalThis?.document,[,_]=w.useState({}),E=br(e,O=>y(O)),T=Array.from(h.layers),[R]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=T.indexOf(R),P=m?T.indexOf(m):-1,M=h.layersWithOutsidePointerEventsDisabled.size>0,F=P>=N,$=gG(O=>{const I=O.target,D=[...h.branches].some(L=>L.contains(I));!F||D||(s?.(O),l?.(O),O.defaultPrevented||c?.())},b),X=vG(O=>{const I=O.target;[...h.branches].some(L=>L.contains(I))||(a?.(O),l?.(O),O.defaultPrevented||c?.())},b);return cG(O=>{P===h.layers.size-1&&(r?.(O),!O.defaultPrevented&&c&&(O.preventDefault(),c()))},b),w.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(wC=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),xC(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=wC)}},[m,b,n,h]),w.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),xC())},[m,h]),w.useEffect(()=>{const O=()=>_({});return document.addEventListener(Nw,O),()=>document.removeEventListener(Nw,O)},[]),p.jsx(qt.div,{...d,ref:E,style:{pointerEvents:M?F?"auto":"none":void 0,...t.style},onFocusCapture:et(t.onFocusCapture,X.onFocusCapture),onBlurCapture:et(t.onBlurCapture,X.onBlurCapture),onPointerDownCapture:et(t.onPointerDownCapture,$.onPointerDownCapture)})});Wk.displayName=dG;var mG="DismissableLayerBranch",pG=w.forwardRef((t,e)=>{const n=w.useContext(qk),r=w.useRef(null),s=br(e,r);return w.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),p.jsx(qt.div,{...t,ref:s})});pG.displayName=mG;function gG(t,e=globalThis?.document){const n=ai(t),r=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let d=function(){Kk(fG,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function vG(t,e=globalThis?.document){const n=ai(t),r=w.useRef(!1);return w.useEffect(()=>{const s=a=>{a.target&&!r.current&&Kk(hG,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function xC(){const t=new CustomEvent(Nw);document.dispatchEvent(t)}function Kk(t,e,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Gk(s,a):s.dispatchEvent(a)}var lb=0;function yG(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??_C()),document.body.insertAdjacentElement("beforeend",t[1]??_C()),lb++,()=>{lb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),lb--}},[])}function _C(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ub="focusScope.autoFocusOnMount",cb="focusScope.autoFocusOnUnmount",EC={bubbles:!1,cancelable:!0},bG="FocusScope",Yk=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...l}=t,[c,d]=w.useState(null),h=ai(s),m=ai(a),y=w.useRef(null),b=br(e,T=>d(T)),_=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let T=function(M){if(_.paused||!c)return;const F=M.target;c.contains(F)?y.current=F:za(y.current,{select:!0})},R=function(M){if(_.paused||!c)return;const F=M.relatedTarget;F!==null&&(c.contains(F)||za(y.current,{select:!0}))},N=function(M){if(document.activeElement===document.body)for(const $ of M)$.removedNodes.length>0&&za(c)};document.addEventListener("focusin",T),document.addEventListener("focusout",R);const P=new MutationObserver(N);return c&&P.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",R),P.disconnect()}}},[r,c,_.paused]),w.useEffect(()=>{if(c){TC.add(_);const T=document.activeElement;if(!c.contains(T)){const N=new CustomEvent(ub,EC);c.addEventListener(ub,h),c.dispatchEvent(N),N.defaultPrevented||(wG(TG(Xk(c)),{select:!0}),document.activeElement===T&&za(c))}return()=>{c.removeEventListener(ub,h),setTimeout(()=>{const N=new CustomEvent(cb,EC);c.addEventListener(cb,m),c.dispatchEvent(N),N.defaultPrevented||za(T??document.body,{select:!0}),c.removeEventListener(cb,m),TC.remove(_)},0)}}},[c,h,m,_]);const E=w.useCallback(T=>{if(!n&&!r||_.paused)return;const R=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,N=document.activeElement;if(R&&N){const P=T.currentTarget,[M,F]=xG(P);M&&F?!T.shiftKey&&N===F?(T.preventDefault(),n&&za(M,{select:!0})):T.shiftKey&&N===M&&(T.preventDefault(),n&&za(F,{select:!0})):N===P&&T.preventDefault()}},[n,r,_.paused]);return p.jsx(qt.div,{tabIndex:-1,...l,ref:b,onKeyDown:E})});Yk.displayName=bG;function wG(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(za(r,{select:e}),document.activeElement!==n)return}function xG(t){const e=Xk(t),n=SC(e,t),r=SC(e.reverse(),t);return[n,r]}function Xk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function SC(t,e){for(const n of t)if(!_G(n,{upTo:e}))return n}function _G(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function EG(t){return t instanceof HTMLInputElement&&"select"in t}function za(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&EG(t)&&e&&t.select()}}var TC=SG();function SG(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=RC(t,e),t.unshift(e)},remove(e){t=RC(t,e),t[0]?.resume()}}}function RC(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function TG(t){return t.filter(e=>e.tagName!=="A")}var RG=jp[" useId ".trim().toString()]||(()=>{}),AG=0;function Zp(t){const[e,n]=w.useState(RG());return bs(()=>{n(r=>r??String(AG++))},[t]),t||(e?`radix-${e}`:"")}var CG="Arrow",Qk=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...a}=t;return p.jsx(qt.svg,{...a,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});Qk.displayName=CG;var NG=Qk;function IG(t){const[e,n]=w.useState(void 0);return bs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let l,c;if("borderBoxSize"in a){const d=a.borderBoxSize,h=Array.isArray(d)?d[0]:d;l=h.inlineSize,c=h.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var x_="Popper",[Zk,Jk]=jl(x_),[PG,eM]=Zk(x_),tM=t=>{const{__scopePopper:e,children:n}=t,[r,s]=w.useState(null);return p.jsx(PG,{scope:e,anchor:r,onAnchorChange:s,children:n})};tM.displayName=x_;var nM="PopperAnchor",rM=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,a=eM(nM,n),l=w.useRef(null),c=br(e,l);return w.useEffect(()=>{a.onAnchorChange(r?.current||l.current)}),r?null:p.jsx(qt.div,{...s,ref:c})});rM.displayName=nM;var __="PopperContent",[kG,MG]=Zk(__),sM=w.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:y="partial",hideWhenDetached:b=!1,updatePositionStrategy:_="optimized",onPlaced:E,...T}=t,R=eM(__,n),[N,P]=w.useState(null),M=br(e,be=>P(be)),[F,$]=w.useState(null),X=IG(F),O=X?.width??0,I=X?.height??0,D=r+(a!=="center"?"-"+a:""),L=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},z=Array.isArray(h)?h:[h],G=z.length>0,U={padding:L,boundary:z.filter(OG),altBoundary:G},{refs:ye,floatingStyles:Te,placement:K,isPositioned:ie,middlewareData:Y}=e9({strategy:"fixed",placement:D,whileElementsMounted:(...be)=>GU(...be,{animationFrame:_==="always"}),elements:{reference:R.anchor},middleware:[n9({mainAxis:s+I,alignmentAxis:l}),d&&r9({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?s9():void 0,...U}),d&&i9({...U}),a9({...U,apply:({elements:be,rects:$e,availableWidth:vt,availableHeight:fn})=>{const{width:hn,height:Bn}=$e.reference,Gn=be.floating.style;Gn.setProperty("--radix-popper-available-width",`${vt}px`),Gn.setProperty("--radix-popper-available-height",`${fn}px`),Gn.setProperty("--radix-popper-anchor-width",`${hn}px`),Gn.setProperty("--radix-popper-anchor-height",`${Bn}px`)}}),F&&l9({element:F,padding:c}),jG({arrowWidth:O,arrowHeight:I}),b&&o9({strategy:"referenceHidden",...U})]}),[le,V]=oM(K),ee=ai(E);bs(()=>{ie&&ee?.()},[ie,ee]);const fe=Y.arrow?.x,ne=Y.arrow?.y,me=Y.arrow?.centerOffset!==0,[Re,ge]=w.useState();return bs(()=>{N&&ge(window.getComputedStyle(N).zIndex)},[N]),p.jsx("div",{ref:ye.setFloating,"data-radix-popper-content-wrapper":"",style:{...Te,transform:ie?Te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[Y.transformOrigin?.x,Y.transformOrigin?.y].join(" "),...Y.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(kG,{scope:n,placedSide:le,onArrowChange:$,arrowX:fe,arrowY:ne,shouldHideArrow:me,children:p.jsx(qt.div,{"data-side":le,"data-align":V,...T,ref:M,style:{...T.style,animation:ie?void 0:"none"}})})})});sM.displayName=__;var iM="PopperArrow",DG={top:"bottom",right:"left",bottom:"top",left:"right"},aM=w.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,a=MG(iM,r),l=DG[a.placedSide];return p.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:p.jsx(NG,{...s,ref:n,style:{...s.style,display:"block"}})})});aM.displayName=iM;function OG(t){return t!==null}var jG=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:s}=e,l=s.arrow?.centerOffset!==0,c=l?0:t.arrowWidth,d=l?0:t.arrowHeight,[h,m]=oM(n),y={start:"0%",center:"50%",end:"100%"}[m],b=(s.arrow?.x??0)+c/2,_=(s.arrow?.y??0)+d/2;let E="",T="";return h==="bottom"?(E=l?y:`${b}px`,T=`${-d}px`):h==="top"?(E=l?y:`${b}px`,T=`${r.floating.height+d}px`):h==="right"?(E=`${-d}px`,T=l?y:`${_}px`):h==="left"&&(E=`${r.floating.width+d}px`,T=l?y:`${_}px`),{data:{x:E,y:T}}}});function oM(t){const[e,n="center"]=t.split("-");return[e,n]}var LG=tM,VG=rM,UG=sM,FG=aM,zG="Portal",lM=w.forwardRef((t,e)=>{const{container:n,...r}=t,[s,a]=w.useState(!1);bs(()=>a(!0),[]);const l=n||s&&globalThis?.document?.body;return l?d6.createPortal(p.jsx(qt.div,{...r,ref:e}),l):null});lM.displayName=zG;function $G(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var xc=t=>{const{present:e,children:n}=t,r=BG(e),s=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),a=br(r.ref,GG(s));return typeof n=="function"||r.isPresent?w.cloneElement(s,{ref:a}):null};xc.displayName="Presence";function BG(t){const[e,n]=w.useState(),r=w.useRef(null),s=w.useRef(t),a=w.useRef("none"),l=t?"mounted":"unmounted",[c,d]=$G(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const h=ep(r.current);a.current=c==="mounted"?h:"none"},[c]),bs(()=>{const h=r.current,m=s.current;if(m!==t){const b=a.current,_=ep(h);t?d("MOUNT"):_==="none"||h?.display==="none"?d("UNMOUNT"):d(m&&b!==_?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,d]),bs(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,y=_=>{const T=ep(r.current).includes(_.animationName);if(_.target===e&&T&&(d("ANIMATION_END"),!s.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},b=_=>{_.target===e&&(a.current=ep(r.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:w.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function ep(t){return t?.animationName||"none"}function GG(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var db="rovingFocusGroup.onEntryFocus",HG={bubbles:!1,cancelable:!0},nh="RovingFocusGroup",[Iw,uM,qG]=Hk(nh),[WG,Xg]=jl(nh,[qG]),[KG,YG]=WG(nh),cM=w.forwardRef((t,e)=>p.jsx(Iw.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(Iw.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(XG,{...t,ref:e})})}));cM.displayName=nh;var XG=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...y}=t,b=w.useRef(null),_=br(e,b),E=w_(a),[T,R]=b_({prop:l,defaultProp:c??null,onChange:d,caller:nh}),[N,P]=w.useState(!1),M=ai(h),F=uM(n),$=w.useRef(!1),[X,O]=w.useState(0);return w.useEffect(()=>{const I=b.current;if(I)return I.addEventListener(db,M),()=>I.removeEventListener(db,M)},[M]),p.jsx(KG,{scope:n,orientation:r,dir:E,loop:s,currentTabStopId:T,onItemFocus:w.useCallback(I=>R(I),[R]),onItemShiftTab:w.useCallback(()=>P(!0),[]),onFocusableItemAdd:w.useCallback(()=>O(I=>I+1),[]),onFocusableItemRemove:w.useCallback(()=>O(I=>I-1),[]),children:p.jsx(qt.div,{tabIndex:N||X===0?-1:0,"data-orientation":r,...y,ref:_,style:{outline:"none",...t.style},onMouseDown:et(t.onMouseDown,()=>{$.current=!0}),onFocus:et(t.onFocus,I=>{const D=!$.current;if(I.target===I.currentTarget&&D&&!N){const L=new CustomEvent(db,HG);if(I.currentTarget.dispatchEvent(L),!L.defaultPrevented){const z=F().filter(K=>K.focusable),G=z.find(K=>K.active),U=z.find(K=>K.id===T),Te=[G,U,...z].filter(Boolean).map(K=>K.ref.current);hM(Te,m)}}$.current=!1}),onBlur:et(t.onBlur,()=>P(!1))})})}),dM="RovingFocusGroupItem",fM=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,children:l,...c}=t,d=Zp(),h=a||d,m=YG(dM,n),y=m.currentTabStopId===h,b=uM(n),{onFocusableItemAdd:_,onFocusableItemRemove:E,currentTabStopId:T}=m;return w.useEffect(()=>{if(r)return _(),()=>E()},[r,_,E]),p.jsx(Iw.ItemSlot,{scope:n,id:h,focusable:r,active:s,children:p.jsx(qt.span,{tabIndex:y?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:et(t.onMouseDown,R=>{r?m.onItemFocus(h):R.preventDefault()}),onFocus:et(t.onFocus,()=>m.onItemFocus(h)),onKeyDown:et(t.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){m.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const N=JG(R,m.orientation,m.dir);if(N!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let M=b().filter(F=>F.focusable).map(F=>F.ref.current);if(N==="last")M.reverse();else if(N==="prev"||N==="next"){N==="prev"&&M.reverse();const F=M.indexOf(R.currentTarget);M=m.loop?eH(M,F+1):M.slice(F+1)}setTimeout(()=>hM(M))}}),children:typeof l=="function"?l({isCurrentTabStop:y,hasTabStop:T!=null}):l})})});fM.displayName=dM;var QG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ZG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function JG(t,e,n){const r=ZG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return QG[r]}function hM(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function eH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var mM=cM,pM=fM,tH=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ou=new WeakMap,tp=new WeakMap,np={},fb=0,gM=function(t){return t&&(t.host||gM(t.parentNode))},nH=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=gM(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},rH=function(t,e,n,r){var s=nH(e,Array.isArray(t)?t:[t]);np[n]||(np[n]=new WeakMap);var a=np[n],l=[],c=new Set,d=new Set(s),h=function(y){!y||c.has(y)||(c.add(y),h(y.parentNode))};s.forEach(h);var m=function(y){!y||d.has(y)||Array.prototype.forEach.call(y.children,function(b){if(c.has(b))m(b);else try{var _=b.getAttribute(r),E=_!==null&&_!=="false",T=(Ou.get(b)||0)+1,R=(a.get(b)||0)+1;Ou.set(b,T),a.set(b,R),l.push(b),T===1&&E&&tp.set(b,!0),R===1&&b.setAttribute(n,"true"),E||b.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",b,N)}})};return m(e),c.clear(),fb++,function(){l.forEach(function(y){var b=Ou.get(y)-1,_=a.get(y)-1;Ou.set(y,b),a.set(y,_),b||(tp.has(y)||y.removeAttribute(r),tp.delete(y)),_||y.removeAttribute(n)}),fb--,fb||(Ou=new WeakMap,Ou=new WeakMap,tp=new WeakMap,np={})}},sH=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=tH(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),rH(r,s,n,"aria-hidden")):function(){return null}},Hs=function(){return Hs=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Hs.apply(this,arguments)};function rh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function iH(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var Ep="right-scroll-bar-position",Sp="width-before-scroll-bar",aH="with-scroll-bars-hidden",oH="--removed-body-scroll-bar-size";function hb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function lH(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var uH=typeof window<"u"?w.useLayoutEffect:w.useEffect,AC=new WeakMap;function cH(t,e){var n=lH(null,function(r){return t.forEach(function(s){return hb(s,r)})});return uH(function(){var r=AC.get(n);if(r){var s=new Set(r),a=new Set(t),l=n.current;s.forEach(function(c){a.has(c)||hb(c,null)}),a.forEach(function(c){s.has(c)||hb(c,l)})}AC.set(n,t)},[t]),n}function dH(t){return t}function fH(t,e){e===void 0&&(e=dH);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var l=e(a,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(a){for(r=!0;n.length;){var l=n;n=[],l.forEach(a)}n={push:function(c){return a(c)},filter:function(){return n}}},assignMedium:function(a){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(a),l=n}var d=function(){var m=l;l=[],m.forEach(a)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(m){l.push(m),h()},filter:function(m){return l=l.filter(m),n}}}};return s}function hH(t){t===void 0&&(t={});var e=fH(null);return e.options=Hs({async:!0,ssr:!1},t),e}var vM=function(t){var e=t.sideCar,n=rh(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Hs({},n))};vM.isSideCarExport=!0;function mH(t,e){return t.useMedium(e),vM}var yM=hH(),mb=function(){},Qg=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:mb,onWheelCapture:mb,onTouchMoveCapture:mb}),s=r[0],a=r[1],l=t.forwardProps,c=t.children,d=t.className,h=t.removeScrollBar,m=t.enabled,y=t.shards,b=t.sideCar,_=t.noRelative,E=t.noIsolation,T=t.inert,R=t.allowPinchZoom,N=t.as,P=N===void 0?"div":N,M=t.gapMode,F=rh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=b,X=cH([n,e]),O=Hs(Hs({},F),s);return w.createElement(w.Fragment,null,m&&w.createElement($,{sideCar:yM,removeScrollBar:h,shards:y,noRelative:_,noIsolation:E,inert:T,setCallbacks:a,allowPinchZoom:!!R,lockRef:n,gapMode:M}),l?w.cloneElement(w.Children.only(c),Hs(Hs({},O),{ref:X})):w.createElement(P,Hs({},O,{className:d,ref:X}),c))});Qg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Qg.classNames={fullWidth:Sp,zeroRight:Ep};var pH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function gH(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=pH();return e&&t.setAttribute("nonce",e),t}function vH(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function yH(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var bH=function(){var t=0,e=null;return{add:function(n){t==0&&(e=gH())&&(vH(e,n),yH(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},wH=function(){var t=bH();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},bM=function(){var t=wH(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},xH={left:0,top:0,right:0,gap:0},pb=function(t){return parseInt(t||"",10)||0},_H=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[pb(n),pb(r),pb(s)]},EH=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return xH;var e=_H(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},SH=bM(),Xu="data-scroll-locked",TH=function(t,e,n,r){var s=t.left,a=t.top,l=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(aH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Xu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ep,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Sp,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Ep," .").concat(Ep,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Sp," .").concat(Sp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Xu,`] {
    `).concat(oH,": ").concat(c,`px;
  }
`)},CC=function(){var t=parseInt(document.body.getAttribute(Xu)||"0",10);return isFinite(t)?t:0},RH=function(){w.useEffect(function(){return document.body.setAttribute(Xu,(CC()+1).toString()),function(){var t=CC()-1;t<=0?document.body.removeAttribute(Xu):document.body.setAttribute(Xu,t.toString())}},[])},AH=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;RH();var a=w.useMemo(function(){return EH(s)},[s]);return w.createElement(SH,{styles:TH(a,!e,s,n?"":"!important")})},Pw=!1;if(typeof window<"u")try{var rp=Object.defineProperty({},"passive",{get:function(){return Pw=!0,!0}});window.addEventListener("test",rp,rp),window.removeEventListener("test",rp,rp)}catch{Pw=!1}var ju=Pw?{passive:!1}:!1,CH=function(t){return t.tagName==="TEXTAREA"},wM=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!CH(t)&&n[e]==="visible")},NH=function(t){return wM(t,"overflowY")},IH=function(t){return wM(t,"overflowX")},NC=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=xM(t,r);if(s){var a=_M(t,r),l=a[1],c=a[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},PH=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},kH=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},xM=function(t,e){return t==="v"?NH(e):IH(e)},_M=function(t,e){return t==="v"?PH(e):kH(e)},MH=function(t,e){return t==="h"&&e==="rtl"?-1:1},DH=function(t,e,n,r,s){var a=MH(t,window.getComputedStyle(e).direction),l=a*r,c=n.target,d=e.contains(c),h=!1,m=l>0,y=0,b=0;do{if(!c)break;var _=_M(t,c),E=_[0],T=_[1],R=_[2],N=T-R-a*E;(E||N)&&xM(t,c)&&(y+=N,b+=E);var P=c.parentNode;c=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(m&&Math.abs(y)<1||!m&&Math.abs(b)<1)&&(h=!0),h},sp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},IC=function(t){return[t.deltaX,t.deltaY]},PC=function(t){return t&&"current"in t?t.current:t},OH=function(t,e){return t[0]===e[0]&&t[1]===e[1]},jH=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},LH=0,Lu=[];function VH(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),s=w.useState(LH++)[0],a=w.useState(bM)[0],l=w.useRef(t);w.useEffect(function(){l.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var T=iH([t.lockRef.current],(t.shards||[]).map(PC),!0).filter(Boolean);return T.forEach(function(R){return R.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),T.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=w.useCallback(function(T,R){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!l.current.allowPinchZoom;var N=sp(T),P=n.current,M="deltaX"in T?T.deltaX:P[0]-N[0],F="deltaY"in T?T.deltaY:P[1]-N[1],$,X=T.target,O=Math.abs(M)>Math.abs(F)?"h":"v";if("touches"in T&&O==="h"&&X.type==="range")return!1;var I=NC(O,X);if(!I)return!0;if(I?$=O:($=O==="v"?"h":"v",I=NC(O,X)),!I)return!1;if(!r.current&&"changedTouches"in T&&(M||F)&&(r.current=$),!$)return!0;var D=r.current||$;return DH(D,R,T,D==="h"?M:F)},[]),d=w.useCallback(function(T){var R=T;if(!(!Lu.length||Lu[Lu.length-1]!==a)){var N="deltaY"in R?IC(R):sp(R),P=e.current.filter(function($){return $.name===R.type&&($.target===R.target||R.target===$.shadowParent)&&OH($.delta,N)})[0];if(P&&P.should){R.cancelable&&R.preventDefault();return}if(!P){var M=(l.current.shards||[]).map(PC).filter(Boolean).filter(function($){return $.contains(R.target)}),F=M.length>0?c(R,M[0]):!l.current.noIsolation;F&&R.cancelable&&R.preventDefault()}}},[]),h=w.useCallback(function(T,R,N,P){var M={name:T,delta:R,target:N,should:P,shadowParent:UH(N)};e.current.push(M),setTimeout(function(){e.current=e.current.filter(function(F){return F!==M})},1)},[]),m=w.useCallback(function(T){n.current=sp(T),r.current=void 0},[]),y=w.useCallback(function(T){h(T.type,IC(T),T.target,c(T,t.lockRef.current))},[]),b=w.useCallback(function(T){h(T.type,sp(T),T.target,c(T,t.lockRef.current))},[]);w.useEffect(function(){return Lu.push(a),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:b}),document.addEventListener("wheel",d,ju),document.addEventListener("touchmove",d,ju),document.addEventListener("touchstart",m,ju),function(){Lu=Lu.filter(function(T){return T!==a}),document.removeEventListener("wheel",d,ju),document.removeEventListener("touchmove",d,ju),document.removeEventListener("touchstart",m,ju)}},[]);var _=t.removeScrollBar,E=t.inert;return w.createElement(w.Fragment,null,E?w.createElement(a,{styles:jH(s)}):null,_?w.createElement(AH,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function UH(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const FH=mH(yM,VH);var EM=w.forwardRef(function(t,e){return w.createElement(Qg,Hs({},t,{ref:e,sideCar:FH}))});EM.classNames=Qg.classNames;var kw=["Enter"," "],zH=["ArrowDown","PageUp","Home"],SM=["ArrowUp","PageDown","End"],$H=[...zH,...SM],BH={ltr:[...kw,"ArrowRight"],rtl:[...kw,"ArrowLeft"]},GH={ltr:["ArrowLeft"],rtl:["ArrowRight"]},sh="Menu",[If,HH,qH]=Hk(sh),[Ll,TM]=jl(sh,[qH,Jk,Xg]),Zg=Jk(),RM=Xg(),[WH,Vl]=Ll(sh),[KH,ih]=Ll(sh),AM=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:a,modal:l=!0}=t,c=Zg(e),[d,h]=w.useState(null),m=w.useRef(!1),y=ai(a),b=w_(s);return w.useEffect(()=>{const _=()=>{m.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>m.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),p.jsx(LG,{...c,children:p.jsx(WH,{scope:e,open:n,onOpenChange:y,content:d,onContentChange:h,children:p.jsx(KH,{scope:e,onClose:w.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:m,dir:b,modal:l,children:r})})})};AM.displayName=sh;var YH="MenuAnchor",E_=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Zg(n);return p.jsx(VG,{...s,...r,ref:e})});E_.displayName=YH;var S_="MenuPortal",[XH,CM]=Ll(S_,{forceMount:void 0}),NM=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,a=Vl(S_,e);return p.jsx(XH,{scope:e,forceMount:n,children:p.jsx(xc,{present:n||a.open,children:p.jsx(lM,{asChild:!0,container:s,children:r})})})};NM.displayName=S_;var es="MenuContent",[QH,T_]=Ll(es),IM=w.forwardRef((t,e)=>{const n=CM(es,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,a=Vl(es,t.__scopeMenu),l=ih(es,t.__scopeMenu);return p.jsx(If.Provider,{scope:t.__scopeMenu,children:p.jsx(xc,{present:r||a.open,children:p.jsx(If.Slot,{scope:t.__scopeMenu,children:l.modal?p.jsx(ZH,{...s,ref:e}):p.jsx(JH,{...s,ref:e})})})})}),ZH=w.forwardRef((t,e)=>{const n=Vl(es,t.__scopeMenu),r=w.useRef(null),s=br(e,r);return w.useEffect(()=>{const a=r.current;if(a)return sH(a)},[]),p.jsx(R_,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:et(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),JH=w.forwardRef((t,e)=>{const n=Vl(es,t.__scopeMenu);return p.jsx(R_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),eq=bf("MenuContent.ScrollLock"),R_=w.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:b,onDismiss:_,disableOutsideScroll:E,...T}=t,R=Vl(es,n),N=ih(es,n),P=Zg(n),M=RM(n),F=HH(n),[$,X]=w.useState(null),O=w.useRef(null),I=br(e,O,R.onContentChange),D=w.useRef(0),L=w.useRef(""),z=w.useRef(0),G=w.useRef(null),U=w.useRef("right"),ye=w.useRef(0),Te=E?EM:w.Fragment,K=E?{as:eq,allowPinchZoom:!0}:void 0,ie=le=>{const V=L.current+le,ee=F().filter(be=>!be.disabled),fe=document.activeElement,ne=ee.find(be=>be.ref.current===fe)?.textValue,me=ee.map(be=>be.textValue),Re=fq(me,V,ne),ge=ee.find(be=>be.textValue===Re)?.ref.current;(function be($e){L.current=$e,window.clearTimeout(D.current),$e!==""&&(D.current=window.setTimeout(()=>be(""),1e3))})(V),ge&&setTimeout(()=>ge.focus())};w.useEffect(()=>()=>window.clearTimeout(D.current),[]),yG();const Y=w.useCallback(le=>U.current===G.current?.side&&mq(le,G.current?.area),[]);return p.jsx(QH,{scope:n,searchRef:L,onItemEnter:w.useCallback(le=>{Y(le)&&le.preventDefault()},[Y]),onItemLeave:w.useCallback(le=>{Y(le)||(O.current?.focus(),X(null))},[Y]),onTriggerLeave:w.useCallback(le=>{Y(le)&&le.preventDefault()},[Y]),pointerGraceTimerRef:z,onPointerGraceIntentChange:w.useCallback(le=>{G.current=le},[]),children:p.jsx(Te,{...K,children:p.jsx(Yk,{asChild:!0,trapped:s,onMountAutoFocus:et(a,le=>{le.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:p.jsx(Wk,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:y,onInteractOutside:b,onDismiss:_,children:p.jsx(mM,{asChild:!0,...M,dir:N.dir,orientation:"vertical",loop:r,currentTabStopId:$,onCurrentTabStopIdChange:X,onEntryFocus:et(d,le=>{N.isUsingKeyboardRef.current||le.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(UG,{role:"menu","aria-orientation":"vertical","data-state":qM(R.open),"data-radix-menu-content":"",dir:N.dir,...P,...T,ref:I,style:{outline:"none",...T.style},onKeyDown:et(T.onKeyDown,le=>{const ee=le.target.closest("[data-radix-menu-content]")===le.currentTarget,fe=le.ctrlKey||le.altKey||le.metaKey,ne=le.key.length===1;ee&&(le.key==="Tab"&&le.preventDefault(),!fe&&ne&&ie(le.key));const me=O.current;if(le.target!==me||!$H.includes(le.key))return;le.preventDefault();const ge=F().filter(be=>!be.disabled).map(be=>be.ref.current);SM.includes(le.key)&&ge.reverse(),cq(ge)}),onBlur:et(t.onBlur,le=>{le.currentTarget.contains(le.target)||(window.clearTimeout(D.current),L.current="")}),onPointerMove:et(t.onPointerMove,Pf(le=>{const V=le.target,ee=ye.current!==le.clientX;if(le.currentTarget.contains(V)&&ee){const fe=le.clientX>ye.current?"right":"left";U.current=fe,ye.current=le.clientX}}))})})})})})})});IM.displayName=es;var tq="MenuGroup",A_=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(qt.div,{role:"group",...r,ref:e})});A_.displayName=tq;var nq="MenuLabel",PM=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(qt.div,{...r,ref:e})});PM.displayName=nq;var Jp="MenuItem",kC="menu.itemSelect",Jg=w.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,a=w.useRef(null),l=ih(Jp,t.__scopeMenu),c=T_(Jp,t.__scopeMenu),d=br(e,a),h=w.useRef(!1),m=()=>{const y=a.current;if(!n&&y){const b=new CustomEvent(kC,{bubbles:!0,cancelable:!0});y.addEventListener(kC,_=>r?.(_),{once:!0}),Gk(y,b),b.defaultPrevented?h.current=!1:l.onClose()}};return p.jsx(kM,{...s,ref:d,disabled:n,onClick:et(t.onClick,m),onPointerDown:y=>{t.onPointerDown?.(y),h.current=!0},onPointerUp:et(t.onPointerUp,y=>{h.current||y.currentTarget?.click()}),onKeyDown:et(t.onKeyDown,y=>{const b=c.searchRef.current!=="";n||b&&y.key===" "||kw.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});Jg.displayName=Jp;var kM=w.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...a}=t,l=T_(Jp,n),c=RM(n),d=w.useRef(null),h=br(e,d),[m,y]=w.useState(!1),[b,_]=w.useState("");return w.useEffect(()=>{const E=d.current;E&&_((E.textContent??"").trim())},[a.children]),p.jsx(If.ItemSlot,{scope:n,disabled:r,textValue:s??b,children:p.jsx(pM,{asChild:!0,...c,focusable:!r,children:p.jsx(qt.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:h,onPointerMove:et(t.onPointerMove,Pf(E=>{r?l.onItemLeave(E):(l.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(t.onPointerLeave,Pf(E=>l.onItemLeave(E))),onFocus:et(t.onFocus,()=>y(!0)),onBlur:et(t.onBlur,()=>y(!1))})})})}),rq="MenuCheckboxItem",MM=w.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return p.jsx(VM,{scope:t.__scopeMenu,checked:n,children:p.jsx(Jg,{role:"menuitemcheckbox","aria-checked":eg(n)?"mixed":n,...s,ref:e,"data-state":N_(n),onSelect:et(s.onSelect,()=>r?.(eg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});MM.displayName=rq;var DM="MenuRadioGroup",[sq,iq]=Ll(DM,{value:void 0,onValueChange:()=>{}}),OM=w.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,a=ai(r);return p.jsx(sq,{scope:t.__scopeMenu,value:n,onValueChange:a,children:p.jsx(A_,{...s,ref:e})})});OM.displayName=DM;var jM="MenuRadioItem",LM=w.forwardRef((t,e)=>{const{value:n,...r}=t,s=iq(jM,t.__scopeMenu),a=n===s.value;return p.jsx(VM,{scope:t.__scopeMenu,checked:a,children:p.jsx(Jg,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":N_(a),onSelect:et(r.onSelect,()=>s.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});LM.displayName=jM;var C_="MenuItemIndicator",[VM,aq]=Ll(C_,{checked:!1}),UM=w.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,a=aq(C_,n);return p.jsx(xc,{present:r||eg(a.checked)||a.checked===!0,children:p.jsx(qt.span,{...s,ref:e,"data-state":N_(a.checked)})})});UM.displayName=C_;var oq="MenuSeparator",FM=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(qt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});FM.displayName=oq;var lq="MenuArrow",zM=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Zg(n);return p.jsx(FG,{...s,...r,ref:e})});zM.displayName=lq;var uq="MenuSub",[Wse,$M]=Ll(uq),Kd="MenuSubTrigger",BM=w.forwardRef((t,e)=>{const n=Vl(Kd,t.__scopeMenu),r=ih(Kd,t.__scopeMenu),s=$M(Kd,t.__scopeMenu),a=T_(Kd,t.__scopeMenu),l=w.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=a,h={__scopeMenu:t.__scopeMenu},m=w.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return w.useEffect(()=>m,[m]),w.useEffect(()=>{const y=c.current;return()=>{window.clearTimeout(y),d(null)}},[c,d]),p.jsx(E_,{asChild:!0,...h,children:p.jsx(kM,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":qM(n.open),...t,ref:Rg(e,s.onTriggerChange),onClick:y=>{t.onClick?.(y),!(t.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:et(t.onPointerMove,Pf(y=>{a.onItemEnter(y),!y.defaultPrevented&&!t.disabled&&!n.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:et(t.onPointerLeave,Pf(y=>{m();const b=n.content?.getBoundingClientRect();if(b){const _=n.content?.dataset.side,E=_==="right",T=E?-5:5,R=b[E?"left":"right"],N=b[E?"right":"left"];a.onPointerGraceIntentChange({area:[{x:y.clientX+T,y:y.clientY},{x:R,y:b.top},{x:N,y:b.top},{x:N,y:b.bottom},{x:R,y:b.bottom}],side:_}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(y),y.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:et(t.onKeyDown,y=>{const b=a.searchRef.current!=="";t.disabled||b&&y.key===" "||BH[r.dir].includes(y.key)&&(n.onOpenChange(!0),n.content?.focus(),y.preventDefault())})})})});BM.displayName=Kd;var GM="MenuSubContent",HM=w.forwardRef((t,e)=>{const n=CM(es,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,a=Vl(es,t.__scopeMenu),l=ih(es,t.__scopeMenu),c=$M(GM,t.__scopeMenu),d=w.useRef(null),h=br(e,d);return p.jsx(If.Provider,{scope:t.__scopeMenu,children:p.jsx(xc,{present:r||a.open,children:p.jsx(If.Slot,{scope:t.__scopeMenu,children:p.jsx(R_,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{l.isUsingKeyboardRef.current&&d.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:et(t.onFocusOutside,m=>{m.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:et(t.onEscapeKeyDown,m=>{l.onClose(),m.preventDefault()}),onKeyDown:et(t.onKeyDown,m=>{const y=m.currentTarget.contains(m.target),b=GH[l.dir].includes(m.key);y&&b&&(a.onOpenChange(!1),c.trigger?.focus(),m.preventDefault())})})})})})});HM.displayName=GM;function qM(t){return t?"open":"closed"}function eg(t){return t==="indeterminate"}function N_(t){return eg(t)?"indeterminate":t?"checked":"unchecked"}function cq(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function dq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function fq(t,e,n){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let l=dq(t,Math.max(a,0));s.length===1&&(l=l.filter(h=>h!==n));const d=l.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function hq(t,e){const{x:n,y:r}=t;let s=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const c=e[a],d=e[l],h=c.x,m=c.y,y=d.x,b=d.y;m>r!=b>r&&n<(y-h)*(r-m)/(b-m)+h&&(s=!s)}return s}function mq(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return hq(n,e)}function Pf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var pq=AM,gq=E_,vq=NM,yq=IM,bq=A_,wq=PM,xq=Jg,_q=MM,Eq=OM,Sq=LM,Tq=UM,Rq=FM,Aq=zM,Cq=BM,Nq=HM,ev="DropdownMenu",[Iq,Kse]=jl(ev,[TM]),hr=TM(),[Pq,WM]=Iq(ev),KM=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:l,modal:c=!0}=t,d=hr(e),h=w.useRef(null),[m,y]=b_({prop:s,defaultProp:a??!1,onChange:l,caller:ev});return p.jsx(Pq,{scope:e,triggerId:Zp(),triggerRef:h,contentId:Zp(),open:m,onOpenChange:y,onOpenToggle:w.useCallback(()=>y(b=>!b),[y]),modal:c,children:p.jsx(pq,{...d,open:m,onOpenChange:y,dir:r,modal:c,children:n})})};KM.displayName=ev;var YM="DropdownMenuTrigger",XM=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,a=WM(YM,n),l=hr(n);return p.jsx(gq,{asChild:!0,...l,children:p.jsx(qt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Rg(e,a.triggerRef),onPointerDown:et(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:et(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});XM.displayName=YM;var kq="DropdownMenuPortal",QM=t=>{const{__scopeDropdownMenu:e,...n}=t,r=hr(e);return p.jsx(vq,{...r,...n})};QM.displayName=kq;var ZM="DropdownMenuContent",JM=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=WM(ZM,n),a=hr(n),l=w.useRef(!1);return p.jsx(yq,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:e,onCloseAutoFocus:et(t.onCloseAutoFocus,c=>{l.current||s.triggerRef.current?.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:et(t.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,m=d.button===2||h;(!s.modal||m)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JM.displayName=ZM;var Mq="DropdownMenuGroup",eD=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=hr(n);return p.jsx(bq,{...s,...r,ref:e})});eD.displayName=Mq;var Dq="DropdownMenuLabel",tD=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=hr(n);return p.jsx(wq,{...s,...r,ref:e})});tD.displayName=Dq;var Oq="DropdownMenuItem",nD=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=hr(n);return p.jsx(xq,{...s,...r,ref:e})});nD.displayName=Oq;var jq="DropdownMenuCheckboxItem",Lq=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=hr(n);return p.jsx(_q,{...s,...r,ref:e})});Lq.displayName=jq;var Vq="DropdownMenuRadioGroup",Uq=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=hr(n);return p.jsx(Eq,{...s,...r,ref:e})});Uq.displayName=Vq;var Fq="DropdownMenuRadioItem",zq=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=hr(n);return p.jsx(Sq,{...s,...r,ref:e})});zq.displayName=Fq;var $q="DropdownMenuItemIndicator",Bq=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=hr(n);return p.jsx(Tq,{...s,...r,ref:e})});Bq.displayName=$q;var Gq="DropdownMenuSeparator",rD=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=hr(n);return p.jsx(Rq,{...s,...r,ref:e})});rD.displayName=Gq;var Hq="DropdownMenuArrow",qq=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=hr(n);return p.jsx(Aq,{...s,...r,ref:e})});qq.displayName=Hq;var Wq="DropdownMenuSubTrigger",Kq=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=hr(n);return p.jsx(Cq,{...s,...r,ref:e})});Kq.displayName=Wq;var Yq="DropdownMenuSubContent",Xq=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=hr(n);return p.jsx(Nq,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Xq.displayName=Yq;var Qq=KM,Zq=XM,Jq=QM,eW=JM,tW=eD,nW=tD,rW=nD,sW=rD;function of({...t}){return p.jsx(Qq,{"data-slot":"dropdown-menu",...t})}function lf({...t}){return p.jsx(Zq,{"data-slot":"dropdown-menu-trigger",...t})}function uf({className:t,sideOffset:e=4,...n}){return p.jsx(Jq,{children:p.jsx(eW,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Lt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function sD({...t}){return p.jsx(tW,{"data-slot":"dropdown-menu-group",...t})}function Hi({className:t,inset:e,variant:n="default",...r}){return p.jsx(rW,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:Lt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function iD({className:t,inset:e,...n}){return p.jsx(nW,{"data-slot":"dropdown-menu-label","data-inset":e,className:Lt("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...n})}function tg({className:t,...e}){return p.jsx(sW,{"data-slot":"dropdown-menu-separator",className:Lt("bg-border -mx-1 my-1 h-px",t),...e})}const iW=()=>{};var MC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},aW=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],c=t[n++],d=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},oD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,c=l?t[s+1]:0,d=s+2<t.length,h=d?t[s+2]:0,m=a>>2,y=(a&3)<<4|c>>4;let b=(c&15)<<2|h>>6,_=h&63;d||(_=64,l||(b=64)),r.push(n[m],n[y],n[b],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const y=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||c==null||h==null||y==null)throw new oW;const b=a<<2|c>>4;if(r.push(b),h!==64){const _=c<<4&240|h>>2;if(r.push(_),y!==64){const E=h<<6&192|y;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lW=function(t){const e=aD(t);return oD.encodeByteArray(e,!0)},ng=function(t){return lW(t).replace(/\./g,"")},lD=function(t){try{return oD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW=()=>uW().__FIREBASE_DEFAULTS__,dW=()=>{if(typeof process>"u"||typeof MC>"u")return;const t=MC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fW=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lD(t[1]);return e&&JSON.parse(e)},tv=()=>{try{return iW()||cW()||dW()||fW()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uD=t=>{var e,n;return(n=(e=tv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},cD=t=>{const e=uD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dD=()=>{var t;return(t=tv())===null||t===void 0?void 0:t.config},fD=t=>{var e;return(e=tv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function I_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ng(JSON.stringify(n)),ng(JSON.stringify(l)),""].join(".")}const cf={};function mW(){const t={prod:[],emulator:[]};for(const e of Object.keys(cf))cf[e]?t.emulator.push(e):t.prod.push(e);return t}function pW(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let DC=!1;function P_(t,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||cf[t]===e||cf[t]||DC)return;cf[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",a=mW().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,_){b.setAttribute("width","24"),b.setAttribute("id",_),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function h(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{DC=!0,l()},b}function m(b,_){b.setAttribute("id",_),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function y(){const b=pW(r),_=n("text"),E=document.getElementById(_)||document.createElement("span"),T=n("learnmore"),R=document.getElementById(T)||document.createElement("a"),N=n("preprendIcon"),P=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const M=b.element;c(M),m(R,T);const F=h();d(P,N),M.append(P,E,R,F),document.body.appendChild(M)}a?(E.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(er())}function vW(){var t;const e=(t=tv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yW(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bW(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wW(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xW(){const t=er();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _W(){return!vW()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EW(){try{return typeof indexedDB=="object"}catch{return!1}}function SW(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TW="FirebaseError";class ci extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TW,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ah.prototype.create)}}class ah{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?RW(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new ci(s,c,r)}}function RW(t,e){return t.replace(AW,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const AW=/\{\$([^}]+)}/g;function CW(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(OC(a)&&OC(l)){if(!Nl(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function OC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function NW(t,e){const n=new IW(t,e);return n.subscribe.bind(n)}class IW{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PW(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=gb),s.error===void 0&&(s.error=gb),s.complete===void 0&&(s.complete=gb);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PW(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t){return t&&t._delegate?t._delegate:t}class co{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hW;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),s=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DW(e))try{this.getOrInitializeService({instanceIdentifier:cl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=cl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cl){return this.instances.has(e)}getOptions(e=cl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MW(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cl){return this.component?this.component.multipleInstances?e:cl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MW(t){return t===cl?void 0:t}function DW(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new kW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const jW={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},LW=tt.INFO,VW={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},UW=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=VW[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class k_{constructor(e){this.name=e,this._logLevel=LW,this._logHandler=UW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const FW=(t,e)=>e.some(n=>t instanceof n);let jC,LC;function zW(){return jC||(jC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $W(){return LC||(LC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mD=new WeakMap,Mw=new WeakMap,pD=new WeakMap,vb=new WeakMap,M_=new WeakMap;function BW(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Ja(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&mD.set(n,t)}).catch(()=>{}),M_.set(e,t),e}function GW(t){if(Mw.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Mw.set(t,e)}let Dw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ja(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HW(t){Dw=t(Dw)}function qW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(yb(this),e,...n);return pD.set(r,e.sort?e.sort():[e]),Ja(r)}:$W().includes(t)?function(...e){return t.apply(yb(this),e),Ja(mD.get(this))}:function(...e){return Ja(t.apply(yb(this),e))}}function WW(t){return typeof t=="function"?qW(t):(t instanceof IDBTransaction&&GW(t),FW(t,zW())?new Proxy(t,Dw):t)}function Ja(t){if(t instanceof IDBRequest)return BW(t);if(vb.has(t))return vb.get(t);const e=WW(t);return e!==t&&(vb.set(t,e),M_.set(e,t)),e}const yb=t=>M_.get(t);function KW(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),c=Ja(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Ja(l.result),d.oldVersion,d.newVersion,Ja(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const YW=["get","getKey","getAll","getAllKeys","count"],XW=["put","add","delete","clear"],bb=new Map;function VC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bb.get(e))return bb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=XW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||YW.includes(n)))return;const a=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&d.done]))[0]};return bb.set(e,a),a}HW(t=>({...t,get:(e,n,r)=>VC(e,n)||t.get(e,n,r),has:(e,n)=>!!VC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ZW(t){const e=t.getComponent();return e?.type==="VERSION"}const Ow="@firebase/app",UC="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new k_("@firebase/app"),JW="@firebase/app-compat",eK="@firebase/analytics-compat",tK="@firebase/analytics",nK="@firebase/app-check-compat",rK="@firebase/app-check",sK="@firebase/auth",iK="@firebase/auth-compat",aK="@firebase/database",oK="@firebase/data-connect",lK="@firebase/database-compat",uK="@firebase/functions",cK="@firebase/functions-compat",dK="@firebase/installations",fK="@firebase/installations-compat",hK="@firebase/messaging",mK="@firebase/messaging-compat",pK="@firebase/performance",gK="@firebase/performance-compat",vK="@firebase/remote-config",yK="@firebase/remote-config-compat",bK="@firebase/storage",wK="@firebase/storage-compat",xK="@firebase/firestore",_K="@firebase/ai",EK="@firebase/firestore-compat",SK="firebase",TK="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="[DEFAULT]",RK={[Ow]:"fire-core",[JW]:"fire-core-compat",[tK]:"fire-analytics",[eK]:"fire-analytics-compat",[rK]:"fire-app-check",[nK]:"fire-app-check-compat",[sK]:"fire-auth",[iK]:"fire-auth-compat",[aK]:"fire-rtdb",[oK]:"fire-data-connect",[lK]:"fire-rtdb-compat",[uK]:"fire-fn",[cK]:"fire-fn-compat",[dK]:"fire-iid",[fK]:"fire-iid-compat",[hK]:"fire-fcm",[mK]:"fire-fcm-compat",[pK]:"fire-perf",[gK]:"fire-perf-compat",[vK]:"fire-rc",[yK]:"fire-rc-compat",[bK]:"fire-gcs",[wK]:"fire-gcs-compat",[xK]:"fire-fst",[EK]:"fire-fst-compat",[_K]:"fire-vertex","fire-js":"fire-js",[SK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=new Map,AK=new Map,Lw=new Map;function FC(t,e){try{t.container.addComponent(e)}catch(n){ra.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Il(t){const e=t.name;if(Lw.has(e))return ra.debug(`There were multiple attempts to register component ${e}.`),!1;Lw.set(e,t);for(const n of rg.values())FC(n,t);for(const n of AK.values())FC(n,t);return!0}function nv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},eo=new ah("app","Firebase",CK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=TK;function gD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jw,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw eo.create("bad-app-name",{appName:String(s)});if(n||(n=dD()),!n)throw eo.create("no-options");const a=rg.get(s);if(a){if(Nl(n,a.options)&&Nl(r,a.config))return a;throw eo.create("duplicate-app",{appName:s})}const l=new OW(s);for(const d of Lw.values())l.addComponent(d);const c=new NK(n,r,l);return rg.set(s,c),c}function D_(t=jw){const e=rg.get(t);if(!e&&t===jw&&dD())return gD();if(!e)throw eo.create("no-app",{appName:t});return e}function Zs(t,e,n){var r;let s=(r=RK[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ra.warn(c.join(" "));return}Il(new co(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IK="firebase-heartbeat-database",PK=1,kf="firebase-heartbeat-store";let wb=null;function vD(){return wb||(wb=KW(IK,PK,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kf)}catch(n){console.warn(n)}}}}).catch(t=>{throw eo.create("idb-open",{originalErrorMessage:t.message})})),wb}async function kK(t){try{const n=(await vD()).transaction(kf),r=await n.objectStore(kf).get(yD(t));return await n.done,r}catch(e){if(e instanceof ci)ra.warn(e.message);else{const n=eo.create("idb-get",{originalErrorMessage:e?.message});ra.warn(n.message)}}}async function zC(t,e){try{const r=(await vD()).transaction(kf,"readwrite");await r.objectStore(kf).put(e,yD(t)),await r.done}catch(n){if(n instanceof ci)ra.warn(n.message);else{const r=eo.create("idb-set",{originalErrorMessage:n?.message});ra.warn(r.message)}}}function yD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MK=1024,DK=30;class OK{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LK(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=$C();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>DK){const l=VK(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ra.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$C(),{heartbeatsToSend:r,unsentEntries:s}=jK(this._heartbeatsCache.heartbeats),a=ng(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ra.warn(n),""}}}function $C(){return new Date().toISOString().substring(0,10)}function jK(t,e=MK){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),BC(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),BC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class LK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EW()?SW().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kK(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return zC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return zC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function BC(t){return ng(JSON.stringify({version:2,heartbeats:t})).length}function VK(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UK(t){Il(new co("platform-logger",e=>new QW(e),"PRIVATE")),Il(new co("heartbeat",e=>new OK(e),"PRIVATE")),Zs(Ow,UC,t),Zs(Ow,UC,"esm2017"),Zs("fire-js","")}UK("");var FK="firebase",zK="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zs(FK,zK,"app");function bD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $K=bD,wD=new ah("auth","Firebase",bD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=new k_("@firebase/auth");function BK(t,...e){sg.logLevel<=tt.WARN&&sg.warn(`Auth (${Ul}): ${t}`,...e)}function Tp(t,...e){sg.logLevel<=tt.ERROR&&sg.error(`Auth (${Ul}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t,...e){throw j_(t,...e)}function ms(t,...e){return j_(t,...e)}function O_(t,e,n){const r=Object.assign(Object.assign({},$K()),{[e]:n});return new ah("auth","Firebase",r).create(e,{appName:t.name})}function Sl(t){return O_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function GK(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&oi(t,"argument-error"),O_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function j_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wD.create(t,...e)}function Fe(t,e,...n){if(!t)throw j_(e,...n)}function qi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tp(e),new Error(e)}function sa(t,e){t||qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function HK(){return GC()==="http:"||GC()==="https:"}function GC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HK()||bW()||"connection"in navigator)?navigator.onLine:!0}function WK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n){this.shortDelay=e,this.longDelay=n,sa(n>e,"Short delay should be less than long delay!"),this.isMobile=gW()||wW()}get(){return qK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t,e){sa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YK=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XK=new lh(3e4,6e4);function V_(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fl(t,e,n,r,s={}){return _D(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=oh(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},a);return yW()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Eo(t.emulatorConfig.host)&&(h.credentials="include"),xD.fetch()(await ED(t,t.config.apiHost,n,c),h)})}async function _D(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},KK),e);try{const s=new ZK(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw ip(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw ip(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw ip(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw ip(t,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw O_(t,m,h);oi(t,m)}}catch(s){if(s instanceof ci)throw s;oi(t,"network-request-failed",{message:String(s)})}}async function QK(t,e,n,r,s={}){const a=await Fl(t,e,n,r,s);return"mfaPendingCredential"in a&&oi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function ED(t,e,n,r){const s=`${e}${n}?${r}`,a=t,l=a.config.emulator?L_(t.config,s):`${t.config.apiScheme}://${s}`;return YK.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}class ZK{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ms(this.auth,"network-request-failed")),XK.get())})}}function ip(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ms(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JK(t,e){return Fl(t,"POST","/v1/accounts:delete",e)}async function ig(t,e){return Fl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eY(t,e=!1){const n=Rt(t),r=await n.getIdToken(e),s=U_(r);Fe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:df(xb(s.auth_time)),issuedAtTime:df(xb(s.iat)),expirationTime:df(xb(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function xb(t){return Number(t)*1e3}function U_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Tp("JWT malformed, contained fewer than 3 sections"),null;try{const s=lD(n);return s?JSON.parse(s):(Tp("Failed to decode base64 JWT payload"),null)}catch(s){return Tp("Caught error parsing JWT payload as JSON",s?.toString()),null}}function HC(t){const e=U_(t);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ci&&tY(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function tY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=df(this.lastLoginAt),this.creationTime=df(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ag(t){var e;const n=t.auth,r=await t.getIdToken(),s=await sc(t,ig(n,{idToken:r}));Fe(s?.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?SD(a.providerUserInfo):[],c=sY(t.providerData,l),d=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!c?.length,m=d?h:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Uw(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,y)}async function rY(t){const e=Rt(t);await ag(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sY(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function SD(t){return t.map(e=>{var{providerId:n}=e,r=rh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iY(t,e){const n=await _D(t,{},async()=>{const r=oh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await ED(t,s,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&Eo(t.emulatorConfig.host)&&(d.credentials="include"),xD.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aY(t,e){return Fl(t,"POST","/v2/accounts:revokeToken",V_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const n=HC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await iY(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new Qu;return r&&(Fe(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Fe(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Fe(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qu,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(t,e){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hs{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=rh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Uw(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await sc(this,this.stsTokenManager.getToken(this.auth,e));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eY(this,e)}reload(){return rY(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ag(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zr(this.auth.app))return Promise.reject(Sl(this.auth));const e=await this.getIdToken();return await sc(this,JK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,l,c,d,h,m;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(s=n.email)!==null&&s!==void 0?s:void 0,_=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,E=(l=n.photoURL)!==null&&l!==void 0?l:void 0,T=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,N=(h=n.createdAt)!==null&&h!==void 0?h:void 0,P=(m=n.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:M,emailVerified:F,isAnonymous:$,providerData:X,stsTokenManager:O}=n;Fe(M&&O,e,"internal-error");const I=Qu.fromJSON(this.name,O);Fe(typeof M=="string",e,"internal-error"),Ua(y,e.name),Ua(b,e.name),Fe(typeof F=="boolean",e,"internal-error"),Fe(typeof $=="boolean",e,"internal-error"),Ua(_,e.name),Ua(E,e.name),Ua(T,e.name),Ua(R,e.name),Ua(N,e.name),Ua(P,e.name);const D=new hs({uid:M,auth:e,email:b,emailVerified:F,displayName:y,isAnonymous:$,photoURL:E,phoneNumber:_,tenantId:T,stsTokenManager:I,createdAt:N,lastLoginAt:P});return X&&Array.isArray(X)&&(D.providerData=X.map(L=>Object.assign({},L))),R&&(D._redirectEventId=R),D}static async _fromIdTokenResponse(e,n,r=!1){const s=new Qu;s.updateFromServerResponse(n);const a=new hs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ag(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Fe(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?SD(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,c=new Qu;c.updateFromIdToken(r);const d=new hs({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Uw(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=new Map;function Wi(t){sa(t instanceof Function,"Expected a class definition");let e=qC.get(t);return e?(sa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TD.type="NONE";const WC=TD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(t,e,n){return`firebase:${t}:${e}:${n}`}class Zu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Rp(this.userKey,s.apiKey,a),this.fullPersistenceKey=Rp("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ig(this.auth,{idToken:e}).catch(()=>{});return n?hs._fromGetAccountInfoResponse(this.auth,n,e):null}return hs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Zu(Wi(WC),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=s[0]||Wi(WC);const l=Rp(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const m=await h._get(l);if(m){let y;if(typeof m=="string"){const b=await ig(e,{idToken:m}).catch(()=>{});if(!b)break;y=await hs._fromGetAccountInfoResponse(e,b,m)}else y=hs._fromJSON(e,m);h!==a&&(c=y),a=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Zu(a,e,r):(a=d[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(l)}catch{}})),new Zu(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ND(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PD(e))return"Blackberry";if(kD(e))return"Webos";if(AD(e))return"Safari";if((e.includes("chrome/")||CD(e))&&!e.includes("edge/"))return"Chrome";if(ID(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function RD(t=er()){return/firefox\//i.test(t)}function AD(t=er()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CD(t=er()){return/crios\//i.test(t)}function ND(t=er()){return/iemobile/i.test(t)}function ID(t=er()){return/android/i.test(t)}function PD(t=er()){return/blackberry/i.test(t)}function kD(t=er()){return/webos/i.test(t)}function F_(t=er()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oY(t=er()){var e;return F_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lY(){return xW()&&document.documentMode===10}function MD(t=er()){return F_(t)||ID(t)||kD(t)||PD(t)||/windows phone/i.test(t)||ND(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t,e=[]){let n;switch(t){case"Browser":n=KC(er());break;case"Worker":n=`${KC(er())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ul}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const d=e(a);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cY(t,e={}){return Fl(t,"GET","/v2/passwordPolicy",V_(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dY=6;class fY{constructor(e){var n,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:dY,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hY{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YC(this),this.idTokenSubscription=new YC(this),this.beforeStateQueue=new uY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await Zu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ig(this,{idToken:e}),r=await hs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Zr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ag(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WK()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zr(this.app))return Promise.reject(Sl(this));const n=e?Rt(e):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zr(this.app)?Promise.reject(Sl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zr(this.app)?Promise.reject(Sl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cY(this),n=new fY(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ah("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await aY(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wi(e)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await Zu.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&BK(`Error while retrieving App Check token: ${n.error}`),n?.token}}function rv(t){return Rt(t)}class YC{constructor(e){this.auth=e,this.observer=null,this.addObserver=NW(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mY(t){z_=t}function pY(t){return z_.loadJS(t)}function gY(){return z_.gapiScript}function vY(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yY(t,e){const n=nv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Nl(a,e??{}))return s;oi(s,"already-initialized")}return n.initialize({options:e})}function bY(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Wi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function wY(t,e,n){const r=rv(t);Fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=OD(e),{host:l,port:c}=xY(e),d=c===null?"":`:${c}`,h={url:`${a}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Fe(Nl(h,r.config.emulator)&&Nl(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Eo(l)?(I_(`${a}//${l}${d}`),P_("Auth",!0)):_Y()}function OD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xY(t){const e=OD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:XC(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:XC(l)}}}function XC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _Y(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qi("not implemented")}_getIdTokenResponse(e){return qi("not implemented")}_linkToIdToken(e,n){return qi("not implemented")}_getReauthenticationResolver(e){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(t,e){return QK(t,"POST","/v1/accounts:signInWithIdp",V_(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EY="http://localhost";class Pl extends jD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=rh(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new Pl(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ju(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ju(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ju(e,n)}buildRequest(){const e={requestUri:EY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=oh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends $_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends uh{constructor(){super("facebook.com")}static credential(e){return Pl._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ga.credentialFromTaggedObject(e)}static credentialFromError(e){return Ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ga.credential(e.oauthAccessToken)}catch{return null}}}Ga.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ga.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends uh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pl._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gi.credential(n,r)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends uh{constructor(){super("github.com")}static credential(e){return Pl._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ha.credentialFromTaggedObject(e)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ha.credential(e.oauthAccessToken)}catch{return null}}}Ha.GITHUB_SIGN_IN_METHOD="github.com";Ha.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends uh{constructor(){super("twitter.com")}static credential(e,n){return Pl._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return qa.credential(n,r)}catch{return null}}}qa.TWITTER_SIGN_IN_METHOD="twitter.com";qa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await hs._fromIdTokenResponse(e,r,s),l=QC(r);return new ic({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=QC(r);return new ic({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function QC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends ci{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,og.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new og(e,n,r,s)}}function LD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?og._fromErrorAndOperation(t,a,e,r):a})}async function SY(t,e,n=!1){const r=await sc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ic._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TY(t,e,n=!1){const{auth:r}=t;if(Zr(r.app))return Promise.reject(Sl(r));const s="reauthenticate";try{const a=await sc(t,LD(r,s,e,t),n);Fe(a.idToken,r,"internal-error");const l=U_(a.idToken);Fe(l,r,"internal-error");const{sub:c}=l;return Fe(t.uid===c,r,"user-mismatch"),ic._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&oi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RY(t,e,n=!1){if(Zr(t.app))return Promise.reject(Sl(t));const r="signIn",s=await LD(t,r,e),a=await ic._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AY(t,e){return Fl(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fw(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Rt(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await sc(r,AY(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function CY(t,e,n,r){return Rt(t).onIdTokenChanged(e,n,r)}function NY(t,e,n){return Rt(t).beforeAuthStateChanged(e,n)}function IY(t,e,n,r){return Rt(t).onAuthStateChanged(e,n,r)}function PY(t){return Rt(t).signOut()}const lg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lg,"1"),this.storage.removeItem(lg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY=1e3,MY=10;class UD extends VD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);lY()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,MY):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UD.type="LOCAL";const DY=UD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD extends VD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FD.type="SESSION";const zD=FD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new sv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async h=>h(n.origin,a)),d=await OY(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,d)=>{const h=B_("",20);s.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(y){const b=y;if(b.data.eventId===h)switch(b.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(b.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(){return window}function LY(t){Js().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(){return typeof Js().WorkerGlobalScope<"u"&&typeof Js().importScripts=="function"}async function VY(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UY(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function FY(){return $D()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="firebaseLocalStorageDb",zY=1,ug="firebaseLocalStorage",GD="fbase_key";class ch{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function iv(t,e){return t.transaction([ug],e?"readwrite":"readonly").objectStore(ug)}function $Y(){const t=indexedDB.deleteDatabase(BD);return new ch(t).toPromise()}function zw(){const t=indexedDB.open(BD,zY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ug,{keyPath:GD})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ug)?e(r):(r.close(),await $Y(),e(await zw()))})})}async function ZC(t,e,n){const r=iv(t,!0).put({[GD]:e,value:n});return new ch(r).toPromise()}async function BY(t,e){const n=iv(t,!1).get(e),r=await new ch(n).toPromise();return r===void 0?null:r.value}function JC(t,e){const n=iv(t,!0).delete(e);return new ch(n).toPromise()}const GY=800,HY=3;class HD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>HY)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $D()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sv._getInstance(FY()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await VY(),!this.activeServiceWorker)return;this.sender=new jY(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zw();return await ZC(e,lg,"1"),await JC(e,lg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ZC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>BY(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>JC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=iv(s,!1).getAll();return new ch(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HD.type="LOCAL";const qY=HD;new lh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t,e){return e?Wi(e):(Fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_ extends jD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ju(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ju(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ju(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WY(t){return RY(t.auth,new G_(t),t.bypassAuthState)}function KY(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),TY(n,new G_(t),t.bypassAuthState)}async function YY(t){const{auth:e,user:n}=t;return Fe(n,e,"internal-error"),SY(n,new G_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WY;case"linkViaPopup":case"linkViaRedirect":return YY;case"reauthViaPopup":case"reauthViaRedirect":return KY;default:oi(this.auth,"internal-error")}}resolve(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XY=new lh(2e3,1e4);async function QY(t,e,n){if(Zr(t.app))return Promise.reject(ms(t,"operation-not-supported-in-this-environment"));const r=rv(t);GK(t,e,$_);const s=qD(r,n);return new bl(r,"signInViaPopup",e,s).executeNotNull()}class bl extends WD{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,bl.currentPopupAction&&bl.currentPopupAction.cancel(),bl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){sa(this.filter.length===1,"Popup operations only handle one event");const e=B_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ms(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ms(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XY.get())};e()}}bl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZY="pendingRedirect",Ap=new Map;class JY extends WD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ap.get(this.auth._key());if(!e){try{const r=await eX(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ap.set(this.auth._key(),e)}return this.bypassAuthState||Ap.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eX(t,e){const n=rX(e),r=nX(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function tX(t,e){Ap.set(t._key(),e)}function nX(t){return Wi(t._redirectPersistence)}function rX(t){return Rp(ZY,t.config.apiKey,t.name)}async function sX(t,e,n=!1){if(Zr(t.app))return Promise.reject(Sl(t));const r=rv(t),s=qD(r,e),l=await new JY(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iX=10*60*1e3;class aX{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oX(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!KD(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ms(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iX&&this.cachedEventUids.clear(),this.cachedEventUids.has(e2(e))}saveEventToCache(e){this.cachedEventUids.add(e2(e)),this.lastProcessedEventTime=Date.now()}}function e2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function KD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function oX(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lX(t,e={}){return Fl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cX=/^https?/;async function dX(t){if(t.config.emulator)return;const{authorizedDomains:e}=await lX(t);for(const n of e)try{if(fX(n))return}catch{}oi(t,"unauthorized-domain")}function fX(t){const e=Vw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!cX.test(n))return!1;if(uX.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hX=new lh(3e4,6e4);function t2(){const t=Js().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function mX(t){return new Promise((e,n)=>{var r,s,a;function l(){t2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t2(),n(ms(t,"network-request-failed"))},timeout:hX.get()})}if(!((s=(r=Js().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Js().gapi)===null||a===void 0)&&a.load)l();else{const c=vY("iframefcb");return Js()[c]=()=>{gapi.load?l():n(ms(t,"network-request-failed"))},pY(`${gY()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw Cp=null,e})}let Cp=null;function pX(t){return Cp=Cp||mX(t),Cp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gX=new lh(5e3,15e3),vX="__/auth/iframe",yX="emulator/auth/iframe",bX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xX(t){const e=t.config;Fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?L_(e,yX):`https://${t.config.authDomain}/${vX}`,r={apiKey:e.apiKey,appName:t.name,v:Ul},s=wX.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${oh(r).slice(1)}`}async function _X(t){const e=await pX(t),n=Js().gapi;return Fe(n,t,"internal-error"),e.open({where:document.body,url:xX(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bX,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=ms(t,"network-request-failed"),c=Js().setTimeout(()=>{a(l)},gX.get());function d(){Js().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SX=500,TX=600,RX="_blank",AX="http://localhost";class n2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CX(t,e,n,r=SX,s=TX){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},EX),{width:r.toString(),height:s.toString(),top:a,left:l}),h=er().toLowerCase();n&&(c=CD(h)?RX:n),RD(h)&&(e=e||AX,d.scrollbars="yes");const m=Object.entries(d).reduce((b,[_,E])=>`${b}${_}=${E},`,"");if(oY(h)&&c!=="_self")return NX(e||"",c),new n2(null);const y=window.open(e||"",c,m);Fe(y,t,"popup-blocked");try{y.focus()}catch{}return new n2(y)}function NX(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IX="__/auth/handler",PX="emulator/auth/handler",kX=encodeURIComponent("fac");async function r2(t,e,n,r,s,a){Fe(t.config.authDomain,t,"auth-domain-config-required"),Fe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ul,eventId:s};if(e instanceof $_){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",CW(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof uh){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),h=d?`#${kX}=${encodeURIComponent(d)}`:"";return`${MX(t)}?${oh(c).slice(1)}${h}`}function MX({config:t}){return t.emulator?L_(t,PX):`https://${t.authDomain}/${IX}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="webStorageSupport";class DX{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zD,this._completeRedirectFn=sX,this._overrideRedirectResult=tX}async _openPopup(e,n,r,s){var a;sa((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await r2(e,n,r,Vw(),s);return CX(e,l,B_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await r2(e,n,r,Vw(),s);return LY(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(sa(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _X(e),r=new aX(e);return n.register("authEvent",s=>(Fe(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_b,{type:_b},s=>{var a;const l=(a=s?.[0])===null||a===void 0?void 0:a[_b];l!==void 0&&n(!!l),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dX(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MD()||AD()||F_()}}const OX=DX;var s2="@firebase/auth",i2="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VX(t){Il(new co("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Fe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DD(t)},h=new hY(r,s,a,d);return bY(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Il(new co("auth-internal",e=>{const n=rv(e.getProvider("auth").getImmediate());return(r=>new jX(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zs(s2,i2,LX(t)),Zs(s2,i2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UX=5*60,FX=fD("authIdTokenMaxAge")||UX;let a2=null;const zX=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FX)return;const s=n?.token;a2!==s&&(a2=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function $X(t=D_()){const e=nv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yY(t,{popupRedirectResolver:OX,persistence:[qY,DY,zD]}),r=fD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=zX(a.toString());NY(n,l,()=>l(n.currentUser)),CY(n,c=>l(c))}}const s=uD("auth");return s&&wY(n,`http://${s}`),n}function BX(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}mY({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=ms("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",BX().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VX("Browser");var o2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var to,YD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,I){function D(){}D.prototype=I.prototype,O.D=I.prototype,O.prototype=new D,O.prototype.constructor=O,O.C=function(L,z,G){for(var U=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)U[ye-2]=arguments[ye];return I.prototype[z].apply(L,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(O,I,D){D||(D=0);var L=Array(16);if(typeof I=="string")for(var z=0;16>z;++z)L[z]=I.charCodeAt(D++)|I.charCodeAt(D++)<<8|I.charCodeAt(D++)<<16|I.charCodeAt(D++)<<24;else for(z=0;16>z;++z)L[z]=I[D++]|I[D++]<<8|I[D++]<<16|I[D++]<<24;I=O.g[0],D=O.g[1],z=O.g[2];var G=O.g[3],U=I+(G^D&(z^G))+L[0]+3614090360&4294967295;I=D+(U<<7&4294967295|U>>>25),U=G+(z^I&(D^z))+L[1]+3905402710&4294967295,G=I+(U<<12&4294967295|U>>>20),U=z+(D^G&(I^D))+L[2]+606105819&4294967295,z=G+(U<<17&4294967295|U>>>15),U=D+(I^z&(G^I))+L[3]+3250441966&4294967295,D=z+(U<<22&4294967295|U>>>10),U=I+(G^D&(z^G))+L[4]+4118548399&4294967295,I=D+(U<<7&4294967295|U>>>25),U=G+(z^I&(D^z))+L[5]+1200080426&4294967295,G=I+(U<<12&4294967295|U>>>20),U=z+(D^G&(I^D))+L[6]+2821735955&4294967295,z=G+(U<<17&4294967295|U>>>15),U=D+(I^z&(G^I))+L[7]+4249261313&4294967295,D=z+(U<<22&4294967295|U>>>10),U=I+(G^D&(z^G))+L[8]+1770035416&4294967295,I=D+(U<<7&4294967295|U>>>25),U=G+(z^I&(D^z))+L[9]+2336552879&4294967295,G=I+(U<<12&4294967295|U>>>20),U=z+(D^G&(I^D))+L[10]+4294925233&4294967295,z=G+(U<<17&4294967295|U>>>15),U=D+(I^z&(G^I))+L[11]+2304563134&4294967295,D=z+(U<<22&4294967295|U>>>10),U=I+(G^D&(z^G))+L[12]+1804603682&4294967295,I=D+(U<<7&4294967295|U>>>25),U=G+(z^I&(D^z))+L[13]+4254626195&4294967295,G=I+(U<<12&4294967295|U>>>20),U=z+(D^G&(I^D))+L[14]+2792965006&4294967295,z=G+(U<<17&4294967295|U>>>15),U=D+(I^z&(G^I))+L[15]+1236535329&4294967295,D=z+(U<<22&4294967295|U>>>10),U=I+(z^G&(D^z))+L[1]+4129170786&4294967295,I=D+(U<<5&4294967295|U>>>27),U=G+(D^z&(I^D))+L[6]+3225465664&4294967295,G=I+(U<<9&4294967295|U>>>23),U=z+(I^D&(G^I))+L[11]+643717713&4294967295,z=G+(U<<14&4294967295|U>>>18),U=D+(G^I&(z^G))+L[0]+3921069994&4294967295,D=z+(U<<20&4294967295|U>>>12),U=I+(z^G&(D^z))+L[5]+3593408605&4294967295,I=D+(U<<5&4294967295|U>>>27),U=G+(D^z&(I^D))+L[10]+38016083&4294967295,G=I+(U<<9&4294967295|U>>>23),U=z+(I^D&(G^I))+L[15]+3634488961&4294967295,z=G+(U<<14&4294967295|U>>>18),U=D+(G^I&(z^G))+L[4]+3889429448&4294967295,D=z+(U<<20&4294967295|U>>>12),U=I+(z^G&(D^z))+L[9]+568446438&4294967295,I=D+(U<<5&4294967295|U>>>27),U=G+(D^z&(I^D))+L[14]+3275163606&4294967295,G=I+(U<<9&4294967295|U>>>23),U=z+(I^D&(G^I))+L[3]+4107603335&4294967295,z=G+(U<<14&4294967295|U>>>18),U=D+(G^I&(z^G))+L[8]+1163531501&4294967295,D=z+(U<<20&4294967295|U>>>12),U=I+(z^G&(D^z))+L[13]+2850285829&4294967295,I=D+(U<<5&4294967295|U>>>27),U=G+(D^z&(I^D))+L[2]+4243563512&4294967295,G=I+(U<<9&4294967295|U>>>23),U=z+(I^D&(G^I))+L[7]+1735328473&4294967295,z=G+(U<<14&4294967295|U>>>18),U=D+(G^I&(z^G))+L[12]+2368359562&4294967295,D=z+(U<<20&4294967295|U>>>12),U=I+(D^z^G)+L[5]+4294588738&4294967295,I=D+(U<<4&4294967295|U>>>28),U=G+(I^D^z)+L[8]+2272392833&4294967295,G=I+(U<<11&4294967295|U>>>21),U=z+(G^I^D)+L[11]+1839030562&4294967295,z=G+(U<<16&4294967295|U>>>16),U=D+(z^G^I)+L[14]+4259657740&4294967295,D=z+(U<<23&4294967295|U>>>9),U=I+(D^z^G)+L[1]+2763975236&4294967295,I=D+(U<<4&4294967295|U>>>28),U=G+(I^D^z)+L[4]+1272893353&4294967295,G=I+(U<<11&4294967295|U>>>21),U=z+(G^I^D)+L[7]+4139469664&4294967295,z=G+(U<<16&4294967295|U>>>16),U=D+(z^G^I)+L[10]+3200236656&4294967295,D=z+(U<<23&4294967295|U>>>9),U=I+(D^z^G)+L[13]+681279174&4294967295,I=D+(U<<4&4294967295|U>>>28),U=G+(I^D^z)+L[0]+3936430074&4294967295,G=I+(U<<11&4294967295|U>>>21),U=z+(G^I^D)+L[3]+3572445317&4294967295,z=G+(U<<16&4294967295|U>>>16),U=D+(z^G^I)+L[6]+76029189&4294967295,D=z+(U<<23&4294967295|U>>>9),U=I+(D^z^G)+L[9]+3654602809&4294967295,I=D+(U<<4&4294967295|U>>>28),U=G+(I^D^z)+L[12]+3873151461&4294967295,G=I+(U<<11&4294967295|U>>>21),U=z+(G^I^D)+L[15]+530742520&4294967295,z=G+(U<<16&4294967295|U>>>16),U=D+(z^G^I)+L[2]+3299628645&4294967295,D=z+(U<<23&4294967295|U>>>9),U=I+(z^(D|~G))+L[0]+4096336452&4294967295,I=D+(U<<6&4294967295|U>>>26),U=G+(D^(I|~z))+L[7]+1126891415&4294967295,G=I+(U<<10&4294967295|U>>>22),U=z+(I^(G|~D))+L[14]+2878612391&4294967295,z=G+(U<<15&4294967295|U>>>17),U=D+(G^(z|~I))+L[5]+4237533241&4294967295,D=z+(U<<21&4294967295|U>>>11),U=I+(z^(D|~G))+L[12]+1700485571&4294967295,I=D+(U<<6&4294967295|U>>>26),U=G+(D^(I|~z))+L[3]+2399980690&4294967295,G=I+(U<<10&4294967295|U>>>22),U=z+(I^(G|~D))+L[10]+4293915773&4294967295,z=G+(U<<15&4294967295|U>>>17),U=D+(G^(z|~I))+L[1]+2240044497&4294967295,D=z+(U<<21&4294967295|U>>>11),U=I+(z^(D|~G))+L[8]+1873313359&4294967295,I=D+(U<<6&4294967295|U>>>26),U=G+(D^(I|~z))+L[15]+4264355552&4294967295,G=I+(U<<10&4294967295|U>>>22),U=z+(I^(G|~D))+L[6]+2734768916&4294967295,z=G+(U<<15&4294967295|U>>>17),U=D+(G^(z|~I))+L[13]+1309151649&4294967295,D=z+(U<<21&4294967295|U>>>11),U=I+(z^(D|~G))+L[4]+4149444226&4294967295,I=D+(U<<6&4294967295|U>>>26),U=G+(D^(I|~z))+L[11]+3174756917&4294967295,G=I+(U<<10&4294967295|U>>>22),U=z+(I^(G|~D))+L[2]+718787259&4294967295,z=G+(U<<15&4294967295|U>>>17),U=D+(G^(z|~I))+L[9]+3951481745&4294967295,O.g[0]=O.g[0]+I&4294967295,O.g[1]=O.g[1]+(z+(U<<21&4294967295|U>>>11))&4294967295,O.g[2]=O.g[2]+z&4294967295,O.g[3]=O.g[3]+G&4294967295}r.prototype.u=function(O,I){I===void 0&&(I=O.length);for(var D=I-this.blockSize,L=this.B,z=this.h,G=0;G<I;){if(z==0)for(;G<=D;)s(this,O,G),G+=this.blockSize;if(typeof O=="string"){for(;G<I;)if(L[z++]=O.charCodeAt(G++),z==this.blockSize){s(this,L),z=0;break}}else for(;G<I;)if(L[z++]=O[G++],z==this.blockSize){s(this,L),z=0;break}}this.h=z,this.o+=I},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var I=1;I<O.length-8;++I)O[I]=0;var D=8*this.o;for(I=O.length-8;I<O.length;++I)O[I]=D&255,D/=256;for(this.u(O),O=Array(16),I=D=0;4>I;++I)for(var L=0;32>L;L+=8)O[D++]=this.g[I]>>>L&255;return O};function a(O,I){var D=c;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=I(O)}function l(O,I){this.h=I;for(var D=[],L=!0,z=O.length-1;0<=z;z--){var G=O[z]|0;L&&G==I||(D[z]=G,L=!1)}this.g=D}var c={};function d(O){return-128<=O&&128>O?a(O,function(I){return new l([I|0],0>I?-1:0)}):new l([O|0],0>O?-1:0)}function h(O){if(isNaN(O)||!isFinite(O))return y;if(0>O)return R(h(-O));for(var I=[],D=1,L=0;O>=D;L++)I[L]=O/D|0,D*=4294967296;return new l(I,0)}function m(O,I){if(O.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(O.charAt(0)=="-")return R(m(O.substring(1),I));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=h(Math.pow(I,8)),L=y,z=0;z<O.length;z+=8){var G=Math.min(8,O.length-z),U=parseInt(O.substring(z,z+G),I);8>G?(G=h(Math.pow(I,G)),L=L.j(G).add(h(U))):(L=L.j(D),L=L.add(h(U)))}return L}var y=d(0),b=d(1),_=d(16777216);t=l.prototype,t.m=function(){if(T(this))return-R(this).m();for(var O=0,I=1,D=0;D<this.g.length;D++){var L=this.i(D);O+=(0<=L?L:4294967296+L)*I,I*=4294967296}return O},t.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(E(this))return"0";if(T(this))return"-"+R(this).toString(O);for(var I=h(Math.pow(O,6)),D=this,L="";;){var z=F(D,I).g;D=N(D,z.j(I));var G=((0<D.g.length?D.g[0]:D.h)>>>0).toString(O);if(D=z,E(D))return G+L;for(;6>G.length;)G="0"+G;L=G+L}},t.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function E(O){if(O.h!=0)return!1;for(var I=0;I<O.g.length;I++)if(O.g[I]!=0)return!1;return!0}function T(O){return O.h==-1}t.l=function(O){return O=N(this,O),T(O)?-1:E(O)?0:1};function R(O){for(var I=O.g.length,D=[],L=0;L<I;L++)D[L]=~O.g[L];return new l(D,~O.h).add(b)}t.abs=function(){return T(this)?R(this):this},t.add=function(O){for(var I=Math.max(this.g.length,O.g.length),D=[],L=0,z=0;z<=I;z++){var G=L+(this.i(z)&65535)+(O.i(z)&65535),U=(G>>>16)+(this.i(z)>>>16)+(O.i(z)>>>16);L=U>>>16,G&=65535,U&=65535,D[z]=U<<16|G}return new l(D,D[D.length-1]&-2147483648?-1:0)};function N(O,I){return O.add(R(I))}t.j=function(O){if(E(this)||E(O))return y;if(T(this))return T(O)?R(this).j(R(O)):R(R(this).j(O));if(T(O))return R(this.j(R(O)));if(0>this.l(_)&&0>O.l(_))return h(this.m()*O.m());for(var I=this.g.length+O.g.length,D=[],L=0;L<2*I;L++)D[L]=0;for(L=0;L<this.g.length;L++)for(var z=0;z<O.g.length;z++){var G=this.i(L)>>>16,U=this.i(L)&65535,ye=O.i(z)>>>16,Te=O.i(z)&65535;D[2*L+2*z]+=U*Te,P(D,2*L+2*z),D[2*L+2*z+1]+=G*Te,P(D,2*L+2*z+1),D[2*L+2*z+1]+=U*ye,P(D,2*L+2*z+1),D[2*L+2*z+2]+=G*ye,P(D,2*L+2*z+2)}for(L=0;L<I;L++)D[L]=D[2*L+1]<<16|D[2*L];for(L=I;L<2*I;L++)D[L]=0;return new l(D,0)};function P(O,I){for(;(O[I]&65535)!=O[I];)O[I+1]+=O[I]>>>16,O[I]&=65535,I++}function M(O,I){this.g=O,this.h=I}function F(O,I){if(E(I))throw Error("division by zero");if(E(O))return new M(y,y);if(T(O))return I=F(R(O),I),new M(R(I.g),R(I.h));if(T(I))return I=F(O,R(I)),new M(R(I.g),I.h);if(30<O.g.length){if(T(O)||T(I))throw Error("slowDivide_ only works with positive integers.");for(var D=b,L=I;0>=L.l(O);)D=$(D),L=$(L);var z=X(D,1),G=X(L,1);for(L=X(L,2),D=X(D,2);!E(L);){var U=G.add(L);0>=U.l(O)&&(z=z.add(D),G=U),L=X(L,1),D=X(D,1)}return I=N(O,z.j(I)),new M(z,I)}for(z=y;0<=O.l(I);){for(D=Math.max(1,Math.floor(O.m()/I.m())),L=Math.ceil(Math.log(D)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),G=h(D),U=G.j(I);T(U)||0<U.l(O);)D-=L,G=h(D),U=G.j(I);E(G)&&(G=b),z=z.add(G),O=N(O,U)}return new M(z,O)}t.A=function(O){return F(this,O).h},t.and=function(O){for(var I=Math.max(this.g.length,O.g.length),D=[],L=0;L<I;L++)D[L]=this.i(L)&O.i(L);return new l(D,this.h&O.h)},t.or=function(O){for(var I=Math.max(this.g.length,O.g.length),D=[],L=0;L<I;L++)D[L]=this.i(L)|O.i(L);return new l(D,this.h|O.h)},t.xor=function(O){for(var I=Math.max(this.g.length,O.g.length),D=[],L=0;L<I;L++)D[L]=this.i(L)^O.i(L);return new l(D,this.h^O.h)};function $(O){for(var I=O.g.length+1,D=[],L=0;L<I;L++)D[L]=O.i(L)<<1|O.i(L-1)>>>31;return new l(D,O.h)}function X(O,I){var D=I>>5;I%=32;for(var L=O.g.length-D,z=[],G=0;G<L;G++)z[G]=0<I?O.i(G+D)>>>I|O.i(G+D+1)<<32-I:O.i(G+D);return new l(z,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,YD=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,to=l}).apply(typeof o2<"u"?o2:typeof self<"u"?self:typeof window<"u"?window:{});var ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XD,Yd,QD,Np,$w,ZD,JD,e5;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,S,A){return g==Array.prototype||g==Object.prototype||(g[S]=A.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof ap=="object"&&ap];for(var S=0;S<g.length;++S){var A=g[S];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function s(g,S){if(S)e:{var A=r;g=g.split(".");for(var j=0;j<g.length-1;j++){var Q=g[j];if(!(Q in A))break e;A=A[Q]}g=g[g.length-1],j=A[g],S=S(j),S!=j&&S!=null&&e(A,g,{configurable:!0,writable:!0,value:S})}}function a(g,S){g instanceof String&&(g+="");var A=0,j=!1,Q={next:function(){if(!j&&A<g.length){var se=A++;return{value:S(se,g[se]),done:!1}}return j=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}s("Array.prototype.values",function(g){return g||function(){return a(this,function(S,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(g){var S=typeof g;return S=S!="object"?S:g?Array.isArray(g)?"array":S:"null",S=="array"||S=="object"&&typeof g.length=="number"}function h(g){var S=typeof g;return S=="object"&&g!=null||S=="function"}function m(g,S,A){return g.call.apply(g.bind,arguments)}function y(g,S,A){if(!g)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,j),g.apply(S,Q)}}return function(){return g.apply(S,arguments)}}function b(g,S,A){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,b.apply(null,arguments)}function _(g,S){var A=Array.prototype.slice.call(arguments,1);return function(){var j=A.slice();return j.push.apply(j,arguments),g.apply(this,j)}}function E(g,S){function A(){}A.prototype=S.prototype,g.aa=S.prototype,g.prototype=new A,g.prototype.constructor=g,g.Qb=function(j,Q,se){for(var he=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)he[rt-2]=arguments[rt];return S.prototype[Q].apply(j,he)}}function T(g){const S=g.length;if(0<S){const A=Array(S);for(let j=0;j<S;j++)A[j]=g[j];return A}return[]}function R(g,S){for(let A=1;A<arguments.length;A++){const j=arguments[A];if(d(j)){const Q=g.length||0,se=j.length||0;g.length=Q+se;for(let he=0;he<se;he++)g[Q+he]=j[he]}else g.push(j)}}class N{constructor(S,A){this.i=S,this.j=A,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function P(g){return/^[\s\xa0]*$/.test(g)}function M(){var g=c.navigator;return g&&(g=g.userAgent)?g:""}function F(g){return F[" "](g),g}F[" "]=function(){};var $=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function X(g,S,A){for(const j in g)S.call(A,g[j],j,g)}function O(g,S){for(const A in g)S.call(void 0,g[A],A,g)}function I(g){const S={};for(const A in g)S[A]=g[A];return S}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(g,S){let A,j;for(let Q=1;Q<arguments.length;Q++){j=arguments[Q];for(A in j)g[A]=j[A];for(let se=0;se<D.length;se++)A=D[se],Object.prototype.hasOwnProperty.call(j,A)&&(g[A]=j[A])}}function z(g){var S=1;g=g.split(":");const A=[];for(;0<S&&g.length;)A.push(g.shift()),S--;return g.length&&A.push(g.join(":")),A}function G(g){c.setTimeout(()=>{throw g},0)}function U(){var g=le;let S=null;return g.g&&(S=g.g,g.g=g.g.next,g.g||(g.h=null),S.next=null),S}class ye{constructor(){this.h=this.g=null}add(S,A){const j=Te.get();j.set(S,A),this.h?this.h.next=j:this.g=j,this.h=j}}var Te=new N(()=>new K,g=>g.reset());class K{constructor(){this.next=this.g=this.h=null}set(S,A){this.h=S,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,Y=!1,le=new ye,V=()=>{const g=c.Promise.resolve(void 0);ie=()=>{g.then(ee)}};var ee=()=>{for(var g;g=U();){try{g.h.call(g.g)}catch(A){G(A)}var S=Te;S.j(g),100>S.h&&(S.h++,g.next=S.g,S.g=g)}Y=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(g,S){this.type=g,this.g=this.target=S,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,S=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const A=()=>{};c.addEventListener("test",A,S),c.removeEventListener("test",A,S)}catch{}return g}();function Re(g,S){if(ne.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var A=this.type=g.type,j=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=S,S=g.relatedTarget){if($){e:{try{F(S.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(S=null)}}else A=="mouseover"?S=g.fromElement:A=="mouseout"&&(S=g.toElement);this.relatedTarget=S,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:ge[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Re.aa.h.call(this)}}E(Re,ne);var ge={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),$e=0;function vt(g,S,A,j,Q){this.listener=g,this.proxy=null,this.src=S,this.type=A,this.capture=!!j,this.ha=Q,this.key=++$e,this.da=this.fa=!1}function fn(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function hn(g){this.src=g,this.g={},this.h=0}hn.prototype.add=function(g,S,A,j,Q){var se=g.toString();g=this.g[se],g||(g=this.g[se]=[],this.h++);var he=Gn(g,S,j,Q);return-1<he?(S=g[he],A||(S.fa=!1)):(S=new vt(S,this.src,se,!!j,Q),S.fa=A,g.push(S)),S};function Bn(g,S){var A=S.type;if(A in g.g){var j=g.g[A],Q=Array.prototype.indexOf.call(j,S,void 0),se;(se=0<=Q)&&Array.prototype.splice.call(j,Q,1),se&&(fn(S),g.g[A].length==0&&(delete g.g[A],g.h--))}}function Gn(g,S,A,j){for(var Q=0;Q<g.length;++Q){var se=g[Q];if(!se.da&&se.listener==S&&se.capture==!!A&&se.ha==j)return Q}return-1}var di="closure_lm_"+(1e6*Math.random()|0),Ro={};function Bl(g,S,A,j,Q){if(Array.isArray(S)){for(var se=0;se<S.length;se++)Bl(g,S[se],A,j,Q);return null}return A=ns(A),g&&g[be]?g.K(S,A,h(j)?!!j.capture:!1,Q):q(g,S,A,!1,j,Q)}function q(g,S,A,j,Q,se){if(!S)throw Error("Invalid event type");var he=h(Q)?!!Q.capture:!!Q,rt=kn(g);if(rt||(g[di]=rt=new hn(g)),A=rt.add(S,A,j,he,se),A.proxy)return A;if(j=Ae(),A.proxy=j,j.src=g,j.listener=A,g.addEventListener)me||(Q=he),Q===void 0&&(Q=!1),g.addEventListener(S.toString(),j,Q);else if(g.attachEvent)g.attachEvent(At(S.toString()),j);else if(g.addListener&&g.removeListener)g.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Ae(){function g(A){return S.call(g.src,g.listener,A)}const S=_n;return g}function ke(g,S,A,j,Q){if(Array.isArray(S))for(var se=0;se<S.length;se++)ke(g,S[se],A,j,Q);else j=h(j)?!!j.capture:!!j,A=ns(A),g&&g[be]?(g=g.i,S=String(S).toString(),S in g.g&&(se=g.g[S],A=Gn(se,A,j,Q),-1<A&&(fn(se[A]),Array.prototype.splice.call(se,A,1),se.length==0&&(delete g.g[S],g.h--)))):g&&(g=kn(g))&&(S=g.g[S.toString()],g=-1,S&&(g=Gn(S,A,j,Q)),(A=-1<g?S[g]:null)&&qe(A))}function qe(g){if(typeof g!="number"&&g&&!g.da){var S=g.src;if(S&&S[be])Bn(S.i,g);else{var A=g.type,j=g.proxy;S.removeEventListener?S.removeEventListener(A,j,g.capture):S.detachEvent?S.detachEvent(At(A),j):S.addListener&&S.removeListener&&S.removeListener(j),(A=kn(S))?(Bn(A,g),A.h==0&&(A.src=null,S[di]=null)):fn(g)}}}function At(g){return g in Ro?Ro[g]:Ro[g]="on"+g}function _n(g,S){if(g.da)g=!0;else{S=new Re(S,this);var A=g.listener,j=g.ha||g.src;g.fa&&qe(g),g=A.call(j,S)}return g}function kn(g){return g=g[di],g instanceof hn?g:null}var Kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ns(g){return typeof g=="function"?g:(g[Kt]||(g[Kt]=function(S){return g.handleEvent(S)}),g[Kt])}function Ct(){fe.call(this),this.i=new hn(this),this.M=this,this.F=null}E(Ct,fe),Ct.prototype[be]=!0,Ct.prototype.removeEventListener=function(g,S,A,j){ke(this,g,S,A,j)};function ht(g,S){var A,j=g.F;if(j)for(A=[];j;j=j.F)A.push(j);if(g=g.M,j=S.type||S,typeof S=="string")S=new ne(S,g);else if(S instanceof ne)S.target=S.target||g;else{var Q=S;S=new ne(j,g),L(S,Q)}if(Q=!0,A)for(var se=A.length-1;0<=se;se--){var he=S.g=A[se];Q=xr(he,j,!0,S)&&Q}if(he=S.g=g,Q=xr(he,j,!0,S)&&Q,Q=xr(he,j,!1,S)&&Q,A)for(se=0;se<A.length;se++)he=S.g=A[se],Q=xr(he,j,!1,S)&&Q}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var g=this.i,S;for(S in g.g){for(var A=g.g[S],j=0;j<A.length;j++)fn(A[j]);delete g.g[S],g.h--}}this.F=null},Ct.prototype.K=function(g,S,A,j){return this.i.add(String(g),S,!1,A,j)},Ct.prototype.L=function(g,S,A,j){return this.i.add(String(g),S,!0,A,j)};function xr(g,S,A,j){if(S=g.i.g[String(S)],!S)return!0;S=S.concat();for(var Q=!0,se=0;se<S.length;++se){var he=S[se];if(he&&!he.da&&he.capture==A){var rt=he.listener,pn=he.ha||he.src;he.fa&&Bn(g.i,he),Q=rt.call(pn,j)!==!1&&Q}}return Q&&!j.defaultPrevented}function Hn(g,S,A){if(typeof g=="function")A&&(g=b(g,A));else if(g&&typeof g.handleEvent=="function")g=b(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:c.setTimeout(g,S||0)}function Eh(g){g.g=Hn(()=>{g.g=null,g.i&&(g.i=!1,Eh(g))},g.l);const S=g.h;g.h=null,g.m.apply(null,S)}class Pv extends fe{constructor(S,A){super(),this.m=S,this.l=A,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Eh(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ao(g){fe.call(this),this.h=g,this.g={}}E(Ao,fe);var Co=[];function No(g){X(g.g,function(S,A){this.g.hasOwnProperty(A)&&qe(S)},g),g.g={}}Ao.prototype.N=function(){Ao.aa.N.call(this),No(this)},Ao.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=c.JSON.stringify,Gl=c.JSON.parse,Io=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function Ic(){}Ic.prototype.h=null;function Pc(g){return g.h||(g.h=g.i())}function kc(){}var fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hi(){ne.call(this,"d")}E(hi,ne);function Mc(){ne.call(this,"c")}E(Mc,ne);var Ts={},Dc=null;function ua(){return Dc=Dc||new Ct}Ts.La="serverreachability";function Hl(g){ne.call(this,Ts.La,g)}E(Hl,ne);function ca(g){const S=ua();ht(S,new Hl(S))}Ts.STAT_EVENT="statevent";function Sh(g,S){ne.call(this,Ts.STAT_EVENT,g),this.stat=S}E(Sh,ne);function kt(g){const S=ua();ht(S,new Sh(S,g))}Ts.Ma="timingevent";function mn(g,S){ne.call(this,Ts.Ma,g),this.size=S}E(mn,ne);function tn(g,S){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},S)}function Lr(){this.g=!0}Lr.prototype.xa=function(){this.g=!1};function Oc(g,S,A,j,Q,se){g.info(function(){if(g.g)if(se)for(var he="",rt=se.split("&"),pn=0;pn<rt.length;pn++){var st=rt[pn].split("=");if(1<st.length){var Sn=st[0];st=st[1];var gn=Sn.split("_");he=2<=gn.length&&gn[1]=="type"?he+(Sn+"="+st+"&"):he+(Sn+"=redacted&")}}else he=null;else he=se;return"XMLHTTP REQ ("+j+") [attempt "+Q+"]: "+S+`
`+A+`
`+he})}function kv(g,S,A,j,Q,se,he){g.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+Q+"]: "+S+`
`+A+`
`+se+" "+he})}function da(g,S,A,j){g.info(function(){return"XMLHTTP TEXT ("+S+"): "+Po(g,A)+(j?" "+j:"")})}function Th(g,S){g.info(function(){return"TIMEOUT: "+S})}Lr.prototype.info=function(){};function Po(g,S){if(!g.g)return S;if(!S)return null;try{var A=JSON.parse(S);if(A){for(g=0;g<A.length;g++)if(Array.isArray(A[g])){var j=A[g];if(!(2>j.length)){var Q=j[1];if(Array.isArray(Q)&&!(1>Q.length)){var se=Q[0];if(se!="noop"&&se!="stop"&&se!="close")for(var he=1;he<Q.length;he++)Q[he]=""}}}}return rs(A)}catch{return S}}var fa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rs;function As(){}E(As,Ic),As.prototype.g=function(){return new XMLHttpRequest},As.prototype.i=function(){return{}},Rs=new As;function rr(g,S,A,j){this.j=g,this.i=S,this.l=A,this.R=j||1,this.U=new Ao(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yt}function Yt(){this.i=null,this.g="",this.h=!1}var jc={},ql={};function ss(g,S,A){g.L=1,g.v=jo(_r(S)),g.m=A,g.P=!0,pi(g,null)}function pi(g,S){g.F=Date.now(),ko(g),g.A=_r(g.v);var A=g.A,j=g.R;Array.isArray(j)||(j=[String(j)]),$c(A.i,"t",j),g.C=0,A=g.j.J,g.h=new Yt,g.g=zh(g.j,A?S:null,!g.m),0<g.O&&(g.M=new Pv(b(g.Y,g,g.g),g.O)),S=g.U,A=g.g,j=g.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Co[0]=Q.toString()),Q=Co);for(var se=0;se<Q.length;se++){var he=Bl(A,Q[se],j||S.handleEvent,!1,S.h||S);if(!he)break;S.g[he.key]=he}S=g.H?I(g.H):{},g.m?(g.u||(g.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,S)):(g.u="GET",g.g.ea(g.A,g.u,null,S)),ca(),Oc(g.i,g.u,g.A,g.l,g.R,g.m)}rr.prototype.ca=function(g){g=g.target;const S=this.M;S&&zr(g)==3?S.j():this.Y(g)},rr.prototype.Y=function(g){try{if(g==this.g)e:{const gn=zr(this.g);var S=this.g.Ba();const Ei=this.g.Z();if(!(3>gn)&&(gn!=3||this.g&&(this.h.h||this.g.oa()||Mh(this.g)))){this.J||gn!=4||S==7||(S==8||0>=Ei?ca(3):ca(2)),ha(this);var A=this.g.Z();this.X=A;t:if(Rh(this)){var j=Mh(this.g);g="";var Q=j.length,se=zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),Cs(this);var he="";break t}this.h.i=new c.TextDecoder}for(S=0;S<Q;S++)this.h.h=!0,g+=this.h.i.decode(j[S],{stream:!(se&&S==Q-1)});j.length=0,this.h.g+=g,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=A==200,kv(this.i,this.u,this.A,this.l,this.R,gn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,pn=this.g;if((rt=pn.g?pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(rt)){var st=rt;break t}}st=null}if(A=st)da(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mo(this,A);else{this.o=!1,this.s=3,kt(12),Mn(this),Cs(this);break e}}if(this.P){A=!0;let Dn;for(;!this.J&&this.C<he.length;)if(Dn=Ah(this,he),Dn==ql){gn==4&&(this.s=4,kt(14),A=!1),da(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==jc){this.s=4,kt(15),da(this.i,this.l,he,"[Invalid Chunk]"),A=!1;break}else da(this.i,this.l,Dn,null),Mo(this,Dn);if(Rh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gn!=4||he.length!=0||this.h.h||(this.s=1,kt(16),A=!1),this.o=this.o&&A,!A)da(this.i,this.l,he,"[Invalid Chunked Response]"),Mn(this),Cs(this);else if(0<he.length&&!this.W){this.W=!0;var Sn=this.j;Sn.g==this&&Sn.ba&&!Sn.M&&(Sn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Go(Sn),Sn.M=!0,kt(11))}}else da(this.i,this.l,he,null),Mo(this,he);gn==4&&Mn(this),this.o&&!this.J&&(gn==4?Vh(this.j,this):(this.o=!1,ko(this)))}else Lv(this.g),A==400&&0<he.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),Mn(this),Cs(this)}}}catch{}finally{}};function Rh(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Ah(g,S){var A=g.C,j=S.indexOf(`
`,A);return j==-1?ql:(A=Number(S.substring(A,j)),isNaN(A)?jc:(j+=1,j+A>S.length?ql:(S=S.slice(j,j+A),g.C=j+A,S)))}rr.prototype.cancel=function(){this.J=!0,Mn(this)};function ko(g){g.S=Date.now()+g.I,Ch(g,g.I)}function Ch(g,S){if(g.B!=null)throw Error("WatchDog timer not null");g.B=tn(b(g.ba,g),S)}function ha(g){g.B&&(c.clearTimeout(g.B),g.B=null)}rr.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Th(this.i,this.A),this.L!=2&&(ca(),kt(17)),Mn(this),this.s=2,Cs(this)):Ch(this,this.S-g)};function Cs(g){g.j.G==0||g.J||Vh(g.j,g)}function Mn(g){ha(g);var S=g.M;S&&typeof S.ma=="function"&&S.ma(),g.M=null,No(g.U),g.g&&(S=g.g,g.g=null,S.abort(),S.ma())}function Mo(g,S){try{var A=g.j;if(A.G!=0&&(A.g==g||Lc(A.h,g))){if(!g.K&&Lc(A.h,g)&&A.G==3){try{var j=A.Da.g.parse(S)}catch{j=null}if(Array.isArray(j)&&j.length==3){var Q=j;if(Q[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<g.F)su(A),nu(A);else break e;Wc(A),kt(18)}}else A.za=Q[1],0<A.za-A.T&&37500>Q[2]&&A.F&&A.v==0&&!A.C&&(A.C=tn(b(A.Za,A),6e3));if(1>=Kl(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else _i(A,11)}else if((g.K||A.g==g)&&su(A),!P(S))for(Q=A.Da.g.parse(S),S=0;S<Q.length;S++){let st=Q[S];if(A.T=st[0],st=st[1],A.G==2)if(st[0]=="c"){A.K=st[1],A.ia=st[2];const Sn=st[3];Sn!=null&&(A.la=Sn,A.j.info("VER="+A.la));const gn=st[4];gn!=null&&(A.Aa=gn,A.j.info("SVER="+A.Aa));const Ei=st[5];Ei!=null&&typeof Ei=="number"&&0<Ei&&(j=1.5*Ei,A.L=j,A.j.info("backChannelRequestTimeoutMs_="+j)),j=A;const Dn=g.g;if(Dn){const Os=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Os){var se=j.h;se.g||Os.indexOf("spdy")==-1&&Os.indexOf("quic")==-1&&Os.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(Yl(se,se.h),se.h=null))}if(j.D){const Yc=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Yc&&(j.ya=Yc,yt(j.I,j.D,Yc))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-g.F,A.j.info("Handshake RTT: "+A.R+"ms")),j=A;var he=g;if(j.qa=Fh(j,j.J?j.ia:null,j.W),he.K){sr(j.h,he);var rt=he,pn=j.L;pn&&(rt.I=pn),rt.B&&(ha(rt),ko(rt)),j.g=he}else jh(j);0<A.i.length&&ru(A)}else st[0]!="stop"&&st[0]!="close"||_i(A,7);else A.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?_i(A,7):Hc(A):st[0]!="noop"&&A.l&&A.l.ta(st),A.v=0)}}ca(4)}catch{}}var Nh=class{constructor(g,S){this.g=g,this.map=S}};function gi(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wl(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Kl(g){return g.h?1:g.g?g.g.size:0}function Lc(g,S){return g.h?g.h==S:g.g?g.g.has(S):!1}function Yl(g,S){g.g?g.g.add(S):g.h=S}function sr(g,S){g.h&&g.h==S?g.h=null:g.g&&g.g.has(S)&&g.g.delete(S)}gi.prototype.cancel=function(){if(this.i=Vc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Vc(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let S=g.i;for(const A of g.g.values())S=S.concat(A.D);return S}return T(g.i)}function Mv(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(d(g)){for(var S=[],A=g.length,j=0;j<A;j++)S.push(g[j]);return S}S=[],A=0;for(j in g)S[A++]=g[j];return S}function Xl(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(d(g)||typeof g=="string"){var S=[];g=g.length;for(var A=0;A<g;A++)S.push(A);return S}S=[],A=0;for(const j in g)S[A++]=j;return S}}}function Uc(g,S){if(g.forEach&&typeof g.forEach=="function")g.forEach(S,void 0);else if(d(g)||typeof g=="string")Array.prototype.forEach.call(g,S,void 0);else for(var A=Xl(g),j=Mv(g),Q=j.length,se=0;se<Q;se++)S.call(void 0,j[se],A&&A[se],g)}var Do=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dv(g,S){if(g){g=g.split("&");for(var A=0;A<g.length;A++){var j=g[A].indexOf("="),Q=null;if(0<=j){var se=g[A].substring(0,j);Q=g[A].substring(j+1)}else se=g[A];S(se,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function nn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof nn){this.h=g.h,Oo(this,g.j),this.o=g.o,this.g=g.g,ma(this,g.s),this.l=g.l;var S=g.i,A=new yi;A.i=S.i,S.g&&(A.g=new Map(S.g),A.h=S.h),vi(this,A),this.m=g.m}else g&&(S=String(g).match(Do))?(this.h=!1,Oo(this,S[1]||"",!0),this.o=Vr(S[2]||""),this.g=Vr(S[3]||"",!0),ma(this,S[4]),this.l=Vr(S[5]||"",!0),vi(this,S[6]||"",!0),this.m=Vr(S[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}nn.prototype.toString=function(){var g=[],S=this.j;S&&g.push(Lo(S,Fc,!0),":");var A=this.g;return(A||S=="file")&&(g.push("//"),(S=this.o)&&g.push(Lo(S,Fc,!0),"@"),g.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&g.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&g.push("/"),g.push(Lo(A,A.charAt(0)=="/"?Ov:zc,!0))),(A=this.i.toString())&&g.push("?",A),(A=this.m)&&g.push("#",Lo(A,Ql)),g.join("")};function _r(g){return new nn(g)}function Oo(g,S,A){g.j=A?Vr(S,!0):S,g.j&&(g.j=g.j.replace(/:$/,""))}function ma(g,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);g.s=S}else g.s=null}function vi(g,S,A){S instanceof yi?(g.i=S,Ph(g.i,g.h)):(A||(S=Lo(S,jv)),g.i=new yi(S,g.h))}function yt(g,S,A){g.i.set(S,A)}function jo(g){return yt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Vr(g,S){return g?S?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Lo(g,S,A){return typeof g=="string"?(g=encodeURI(g).replace(S,Ih),A&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Ih(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Fc=/[#\/\?@]/g,zc=/[#\?:]/g,Ov=/[#\?]/g,jv=/[#\?@]/g,Ql=/#/g;function yi(g,S){this.h=this.g=null,this.i=g||null,this.j=!!S}function Ur(g){g.g||(g.g=new Map,g.h=0,g.i&&Dv(g.i,function(S,A){g.add(decodeURIComponent(S.replace(/\+/g," ")),A)}))}t=yi.prototype,t.add=function(g,S){Ur(this),this.i=null,g=Ns(this,g);var A=this.g.get(g);return A||this.g.set(g,A=[]),A.push(S),this.h+=1,this};function bi(g,S){Ur(g),S=Ns(g,S),g.g.has(S)&&(g.i=null,g.h-=g.g.get(S).length,g.g.delete(S))}function wi(g,S){return Ur(g),S=Ns(g,S),g.g.has(S)}t.forEach=function(g,S){Ur(this),this.g.forEach(function(A,j){A.forEach(function(Q){g.call(S,Q,j,this)},this)},this)},t.na=function(){Ur(this);const g=Array.from(this.g.values()),S=Array.from(this.g.keys()),A=[];for(let j=0;j<S.length;j++){const Q=g[j];for(let se=0;se<Q.length;se++)A.push(S[j])}return A},t.V=function(g){Ur(this);let S=[];if(typeof g=="string")wi(this,g)&&(S=S.concat(this.g.get(Ns(this,g))));else{g=Array.from(this.g.values());for(let A=0;A<g.length;A++)S=S.concat(g[A])}return S},t.set=function(g,S){return Ur(this),this.i=null,g=Ns(this,g),wi(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[S]),this.h+=1,this},t.get=function(g,S){return g?(g=this.V(g),0<g.length?String(g[0]):S):S};function $c(g,S,A){bi(g,S),0<A.length&&(g.i=null,g.g.set(Ns(g,S),T(A)),g.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],S=Array.from(this.g.keys());for(var A=0;A<S.length;A++){var j=S[A];const se=encodeURIComponent(String(j)),he=this.V(j);for(j=0;j<he.length;j++){var Q=se;he[j]!==""&&(Q+="="+encodeURIComponent(String(he[j]))),g.push(Q)}}return this.i=g.join("&")};function Ns(g,S){return S=String(S),g.j&&(S=S.toLowerCase()),S}function Ph(g,S){S&&!g.j&&(Ur(g),g.i=null,g.g.forEach(function(A,j){var Q=j.toLowerCase();j!=Q&&(bi(this,j),$c(this,Q,A))},g)),g.j=S}function Vo(g,S){const A=new Lr;if(c.Image){const j=new Image;j.onload=_(Fr,A,"TestLoadImage: loaded",!0,S,j),j.onerror=_(Fr,A,"TestLoadImage: error",!1,S,j),j.onabort=_(Fr,A,"TestLoadImage: abort",!1,S,j),j.ontimeout=_(Fr,A,"TestLoadImage: timeout",!1,S,j),c.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=g}else S(!1)}function is(g,S){const A=new Lr,j=new AbortController,Q=setTimeout(()=>{j.abort(),Fr(A,"TestPingServer: timeout",!1,S)},1e4);fetch(g,{signal:j.signal}).then(se=>{clearTimeout(Q),se.ok?Fr(A,"TestPingServer: ok",!0,S):Fr(A,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(Q),Fr(A,"TestPingServer: error",!1,S)})}function Fr(g,S,A,j,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),j(A)}catch{}}function Uo(){this.g=new Io}function Is(g,S,A){const j=A||"";try{Uc(g,function(Q,se){let he=Q;h(Q)&&(he=rs(Q)),S.push(j+se+"="+encodeURIComponent(he))})}catch(Q){throw S.push(j+"type="+encodeURIComponent("_badmap")),Q}}function pa(g){this.l=g.Ub||null,this.j=g.eb||!1}E(pa,Ic),pa.prototype.g=function(){return new xi(this.l,this.j)},pa.prototype.i=function(g){return function(){return g}}({});function xi(g,S){Ct.call(this),this.D=g,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(xi,Ct),t=xi.prototype,t.open=function(g,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=S,this.readyState=1,ks(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(S.body=g),(this.D||c).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ps(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ks(this)),this.g&&(this.readyState=3,ks(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bc(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bc(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var S=g.value?g.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!g.done}))&&(this.response=this.responseText+=S)}g.done?Ps(this):ks(this),this.readyState==3&&Bc(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,Ps(this))},t.Qa=function(g){this.g&&(this.response=g,Ps(this))},t.ga=function(){this.g&&Ps(this)};function Ps(g){g.readyState=4,g.l=null,g.j=null,g.v=null,ks(g)}t.setRequestHeader=function(g,S){this.u.append(g,S)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],S=this.h.entries();for(var A=S.next();!A.done;)A=A.value,g.push(A[0]+": "+A[1]),A=S.next();return g.join(`\r
`)};function ks(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Gc(g){let S="";return X(g,function(A,j){S+=j,S+=":",S+=A,S+=`\r
`}),S}function En(g,S,A){e:{for(j in A){var j=!1;break e}j=!0}j||(A=Gc(A),typeof g=="string"?A!=null&&encodeURIComponent(String(A)):yt(g,S,A))}function dt(g){Ct.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(dt,Ct);var Zl=/^https?$/i,Fo=["POST","PUT"];t=dt.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,S,A,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);S=S?S.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rs.g(),this.v=this.o?Pc(this.o):Pc(Rs),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(S,String(g),!0),this.B=!1}catch(se){kh(this,se);return}if(g=A||"",A=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var Q in j)A.set(Q,j[Q]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const se of j.keys())A.set(se,j.get(se));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(A.keys()).find(se=>se.toLowerCase()=="content-type"),Q=c.FormData&&g instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Fo,S,void 0))||j||Q||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,he]of A)this.g.setRequestHeader(se,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zo(this),this.u=!0,this.g.send(g),this.u=!1}catch(se){kh(this,se)}};function kh(g,S){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=S,g.m=5,Jl(g),Ms(g)}function Jl(g){g.A||(g.A=!0,ht(g,"complete"),ht(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,ht(this,"complete"),ht(this,"abort"),Ms(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ms(this,!0)),dt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?eu(this):this.bb())},t.bb=function(){eu(this)};function eu(g){if(g.h&&typeof l<"u"&&(!g.v[1]||zr(g)!=4||g.Z()!=2)){if(g.u&&zr(g)==4)Hn(g.Ea,0,g);else if(ht(g,"readystatechange"),zr(g)==4){g.h=!1;try{const he=g.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var A;if(!(A=S)){var j;if(j=he===0){var Q=String(g.D).match(Do)[1]||null;!Q&&c.self&&c.self.location&&(Q=c.self.location.protocol.slice(0,-1)),j=!Zl.test(Q?Q.toLowerCase():"")}A=j}if(A)ht(g,"complete"),ht(g,"success");else{g.m=6;try{var se=2<zr(g)?g.g.statusText:""}catch{se=""}g.l=se+" ["+g.Z()+"]",Jl(g)}}finally{Ms(g)}}}}function Ms(g,S){if(g.g){zo(g);const A=g.g,j=g.v[0]?()=>{}:null;g.g=null,g.v=null,S||ht(g,"ready");try{A.onreadystatechange=j}catch{}}}function zo(g){g.I&&(c.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function zr(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<zr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var S=this.g.responseText;return g&&S.indexOf(g)==0&&(S=S.substring(g.length)),Gl(S)}};function Mh(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Lv(g){const S={};g=(g.g&&2<=zr(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<g.length;j++){if(P(g[j]))continue;var A=z(g[j]);const Q=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const se=S[Q]||[];S[Q]=se,se.push(A)}O(S,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $o(g,S,A){return A&&A.internalChannelParams&&A.internalChannelParams[g]||S}function tu(g){this.Aa=0,this.i=[],this.j=new Lr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$o("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$o("baseRetryDelayMs",5e3,g),this.cb=$o("retryDelaySeedMs",1e4,g),this.Wa=$o("forwardChannelMaxRetries",2,g),this.wa=$o("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new gi(g&&g.concurrentRequestLimit),this.Da=new Uo,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=tu.prototype,t.la=8,t.G=1,t.connect=function(g,S,A,j){kt(0),this.W=g,this.H=S||{},A&&j!==void 0&&(this.H.OSID=A,this.H.OAID=j),this.F=this.X,this.I=Fh(this,null,this.W),ru(this)};function Hc(g){if(Dh(g),g.G==3){var S=g.U++,A=_r(g.I);if(yt(A,"SID",g.K),yt(A,"RID",S),yt(A,"TYPE","terminate"),Bo(g,A),S=new rr(g,g.j,S),S.L=2,S.v=jo(_r(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(S.v.toString(),"")}catch{}!A&&c.Image&&(new Image().src=S.v,A=!0),A||(S.g=zh(S.j,null),S.g.ea(S.v)),S.F=Date.now(),ko(S)}Uh(g)}function nu(g){g.g&&(Go(g),g.g.cancel(),g.g=null)}function Dh(g){nu(g),g.u&&(c.clearTimeout(g.u),g.u=null),su(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&c.clearTimeout(g.s),g.s=null)}function ru(g){if(!Wl(g.h)&&!g.s){g.s=!0;var S=g.Ga;ie||V(),Y||(ie(),Y=!0),le.add(S,g),g.B=0}}function Vv(g,S){return Kl(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=S.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=tn(b(g.Ga,g,S),Kc(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Q=new rr(this,this.j,g);let se=this.o;if(this.S&&(se?(se=I(se),L(se,this.S)):se=this.S),this.m!==null||this.O||(Q.H=se,se=null),this.P)e:{for(var S=0,A=0;A<this.i.length;A++){t:{var j=this.i[A];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(S+=j,4096<S){S=A;break e}if(S===4096||A===this.i.length-1){S=A+1;break e}}S=1e3}else S=1e3;S=Oh(this,Q,S),A=_r(this.I),yt(A,"RID",g),yt(A,"CVER",22),this.D&&yt(A,"X-HTTP-Session-Id",this.D),Bo(this,A),se&&(this.O?S="headers="+encodeURIComponent(String(Gc(se)))+"&"+S:this.m&&En(A,this.m,se)),Yl(this.h,Q),this.Ua&&yt(A,"TYPE","init"),this.P?(yt(A,"$req",S),yt(A,"SID","null"),Q.T=!0,ss(Q,A,null)):ss(Q,A,S),this.G=2}}else this.G==3&&(g?qc(this,g):this.i.length==0||Wl(this.h)||qc(this))};function qc(g,S){var A;S?A=S.l:A=g.U++;const j=_r(g.I);yt(j,"SID",g.K),yt(j,"RID",A),yt(j,"AID",g.T),Bo(g,j),g.m&&g.o&&En(j,g.m,g.o),A=new rr(g,g.j,A,g.B+1),g.m===null&&(A.H=g.o),S&&(g.i=S.D.concat(g.i)),S=Oh(g,A,1e3),A.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Yl(g.h,A),ss(A,j,S)}function Bo(g,S){g.H&&X(g.H,function(A,j){yt(S,j,A)}),g.l&&Uc({},function(A,j){yt(S,j,A)})}function Oh(g,S,A){A=Math.min(g.i.length,A);var j=g.l?b(g.l.Na,g.l,g):null;e:{var Q=g.i;let se=-1;for(;;){const he=["count="+A];se==-1?0<A?(se=Q[0].g,he.push("ofs="+se)):se=0:he.push("ofs="+se);let rt=!0;for(let pn=0;pn<A;pn++){let st=Q[pn].g;const Sn=Q[pn].map;if(st-=se,0>st)se=Math.max(0,Q[pn].g-100),rt=!1;else try{Is(Sn,he,"req"+st+"_")}catch{j&&j(Sn)}}if(rt){j=he.join("&");break e}}}return g=g.i.splice(0,A),S.D=g,j}function jh(g){if(!g.g&&!g.u){g.Y=1;var S=g.Fa;ie||V(),Y||(ie(),Y=!0),le.add(S,g),g.v=0}}function Wc(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=tn(b(g.Fa,g),Kc(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,Lh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=tn(b(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),nu(this),Lh(this))};function Go(g){g.A!=null&&(c.clearTimeout(g.A),g.A=null)}function Lh(g){g.g=new rr(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var S=_r(g.qa);yt(S,"RID","rpc"),yt(S,"SID",g.K),yt(S,"AID",g.T),yt(S,"CI",g.F?"0":"1"),!g.F&&g.ja&&yt(S,"TO",g.ja),yt(S,"TYPE","xmlhttp"),Bo(g,S),g.m&&g.o&&En(S,g.m,g.o),g.L&&(g.g.I=g.L);var A=g.g;g=g.ia,A.L=1,A.v=jo(_r(S)),A.m=null,A.P=!0,pi(A,g)}t.Za=function(){this.C!=null&&(this.C=null,nu(this),Wc(this),kt(19))};function su(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function Vh(g,S){var A=null;if(g.g==S){su(g),Go(g),g.g=null;var j=2}else if(Lc(g.h,S))A=S.D,sr(g.h,S),j=1;else return;if(g.G!=0){if(S.o)if(j==1){A=S.m?S.m.length:0,S=Date.now()-S.F;var Q=g.B;j=ua(),ht(j,new mn(j,A)),ru(g)}else jh(g);else if(Q=S.s,Q==3||Q==0&&0<S.X||!(j==1&&Vv(g,S)||j==2&&Wc(g)))switch(A&&0<A.length&&(S=g.h,S.i=S.i.concat(A)),Q){case 1:_i(g,5);break;case 4:_i(g,10);break;case 3:_i(g,6);break;default:_i(g,2)}}}function Kc(g,S){let A=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(A*=2),A*S}function _i(g,S){if(g.j.info("Error code "+S),S==2){var A=b(g.fb,g),j=g.Xa;const Q=!j;j=new nn(j||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Oo(j,"https"),jo(j),Q?Vo(j.toString(),A):is(j.toString(),A)}else kt(2);g.G=0,g.l&&g.l.sa(S),Uh(g),Dh(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Uh(g){if(g.G=0,g.ka=[],g.l){const S=Vc(g.h);(S.length!=0||g.i.length!=0)&&(R(g.ka,S),R(g.ka,g.i),g.h.i.length=0,T(g.i),g.i.length=0),g.l.ra()}}function Fh(g,S,A){var j=A instanceof nn?_r(A):new nn(A);if(j.g!="")S&&(j.g=S+"."+j.g),ma(j,j.s);else{var Q=c.location;j=Q.protocol,S=S?S+"."+Q.hostname:Q.hostname,Q=+Q.port;var se=new nn(null);j&&Oo(se,j),S&&(se.g=S),Q&&ma(se,Q),A&&(se.l=A),j=se}return A=g.D,S=g.ya,A&&S&&yt(j,A,S),yt(j,"VER",g.la),Bo(g,j),j}function zh(g,S,A){if(S&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=g.Ca&&!g.pa?new dt(new pa({eb:A})):new dt(g.pa),S.Ha(g.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $h(){}t=$h.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function iu(){}iu.prototype.g=function(g,S){return new ir(g,S)};function ir(g,S){Ct.call(this),this.g=new tu(S),this.l=g,this.h=S&&S.messageUrlParams||null,g=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(g?g["X-WebChannel-Content-Type"]=S.messageContentType:g={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(g?g["X-WebChannel-Client-Profile"]=S.va:g={"X-WebChannel-Client-Profile":S.va}),this.g.S=g,(g=S&&S.Sb)&&!P(g)&&(this.g.m=g),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!P(S)&&(this.g.D=S,g=this.h,g!==null&&S in g&&(g=this.h,S in g&&delete g[S])),this.j=new Ds(this)}E(ir,Ct),ir.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ir.prototype.close=function(){Hc(this.g)},ir.prototype.o=function(g){var S=this.g;if(typeof g=="string"){var A={};A.__data__=g,g=A}else this.u&&(A={},A.__data__=rs(g),g=A);S.i.push(new Nh(S.Ya++,g)),S.G==3&&ru(S)},ir.prototype.N=function(){this.g.l=null,delete this.j,Hc(this.g),delete this.g,ir.aa.N.call(this)};function Bh(g){hi.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var S=g.__sm__;if(S){e:{for(const A in S){g=A;break e}g=void 0}(this.i=g)&&(g=this.i,S=S!==null&&g in S?S[g]:void 0),this.data=S}else this.data=g}E(Bh,hi);function Gh(){Mc.call(this),this.status=1}E(Gh,Mc);function Ds(g){this.g=g}E(Ds,$h),Ds.prototype.ua=function(){ht(this.g,"a")},Ds.prototype.ta=function(g){ht(this.g,new Bh(g))},Ds.prototype.sa=function(g){ht(this.g,new Gh)},Ds.prototype.ra=function(){ht(this.g,"b")},iu.prototype.createWebChannel=iu.prototype.g,ir.prototype.send=ir.prototype.o,ir.prototype.open=ir.prototype.m,ir.prototype.close=ir.prototype.close,e5=function(){return new iu},JD=function(){return ua()},ZD=Ts,$w={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,Np=fa,mi.COMPLETE="complete",QD=mi,kc.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,Yd=kc,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,XD=dt}).apply(typeof ap<"u"?ap:typeof self<"u"?self:typeof window<"u"?window:{});const l2="@firebase/firestore",u2="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xn.UNAUTHENTICATED=new Xn(null),Xn.GOOGLE_CREDENTIALS=new Xn("google-credentials-uid"),Xn.FIRST_PARTY=new Xn("first-party-uid"),Xn.MOCK_USER=new Xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _c="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=new k_("@firebase/firestore");function Vu(){return kl.logLevel}function ve(t,...e){if(kl.logLevel<=tt.DEBUG){const n=e.map(H_);kl.debug(`Firestore (${_c}): ${t}`,...n)}}function ia(t,...e){if(kl.logLevel<=tt.ERROR){const n=e.map(H_);kl.error(`Firestore (${_c}): ${t}`,...n)}}function fo(t,...e){if(kl.logLevel<=tt.WARN){const n=e.map(H_);kl.warn(`Firestore (${_c}): ${t}`,...n)}}function H_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,t5(t,r,n)}function t5(t,e,n){let r=`FIRESTORE (${_c}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ia(r),new Error(r)}function ot(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||t5(e,s,r)}function ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xn.UNAUTHENTICATED))}shutdown(){}}class HX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qX{constructor(e){this.t=e,this.currentUser=Xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ot(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new ei;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ei,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},c=d=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ei)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ot(typeof r.accessToken=="string",31837,{l:r}),new n5(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new Xn(e)}}class WX{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KX{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new WX(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class c2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YX{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ot(this.o===void 0,3512);const r=a=>{a.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ve("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new c2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ot(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new c2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XX(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=XX(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function Bw(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Xe(r,s);{const a=r5(),l=QX(a.encode(d2(t,n)),a.encode(d2(e,n)));return l!==0?l:Xe(r,s)}}n+=r>65535?2:1}return Xe(t.length,e.length)}function d2(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function QX(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Xe(t[n],e[n]);return Xe(t.length,e.length)}function ac(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="__name__";class Bs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Pe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Bs.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Xe(e.length,n.length)}static compareSegments(e,n){const r=Bs.isNumericId(e),s=Bs.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Bs.extractNumericId(e).compare(Bs.extractNumericId(n)):Bw(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return to.fromString(e.substring(4,e.length-2))}}class _t extends Bs{construct(e,n,r){return new _t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new _t(n)}static emptyPath(){return new _t([])}}const ZX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends Bs{construct(e,n,r){return new Fn(e,n,r)}static isValidIdentifier(e){return ZX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f2}static keyField(){return new Fn([f2])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new pe(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new pe(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new pe(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(a(),s++)}if(a(),l)throw new pe(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(n)}static emptyPath(){return new Fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(_t.fromString(e))}static fromName(e){return new Ne(_t.fromString(e).popFirst(5))}static empty(){return new Ne(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(t,e,n){if(!n)throw new pe(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JX(t,e,n,r){if(e===!0&&r===!0)throw new pe(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function h2(t){if(!Ne.isDocumentKey(t))throw new pe(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function m2(t){if(Ne.isDocumentKey(t))throw new pe(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function i5(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function av(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe(12329,{type:typeof t})}function Jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=av(t);throw new pe(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function eQ(t,e){if(e<=0)throw new pe(ae.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t,e){const n={typeString:t};return e&&(n.value=e),n}function dh(t,e){if(!i5(t))throw new pe(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new pe(ae.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=-62135596800,g2=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*g2);return new ct(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<p2)throw new pe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/g2}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dh(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-p2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:dn("string",ct._jsonSchemaVersion),seconds:dn("number"),nanoseconds:dn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new ct(0,0))}static max(){return new Le(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=-1;function tQ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Le.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new ho(s,Ne.empty(),e)}function nQ(t){return new ho(t.readTime,t.key,Mf)}class ho{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ho(Le.min(),Ne.empty(),Mf)}static max(){return new ho(Le.max(),Ne.empty(),Mf)}}function rQ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==sQ)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):de.reject(n)}static resolve(e){return new de((n,r)=>{n(e)})}static reject(e){return new de((n,r)=>{r(e)})}static waitFor(e){return new de((n,r)=>{let s=0,a=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&n()},d=>r(d))}),l=!0,a===s&&n()})}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next(s=>s?de.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new de((r,s)=>{const a=e.length,l=new Array(a);let c=0;for(let d=0;d<a;d++){const h=d;n(e[h]).next(m=>{l[h]=m,++c,c===a&&r(l)},m=>s(m))}})}static doWhile(e,n){return new de((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function aQ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}ov.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=-1;function fh(t){return t==null}function cg(t){return t===0&&1/t==-1/0}function oQ(t){return typeof t=="number"&&Number.isInteger(t)&&!cg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5="";function lQ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=v2(e)),e=uQ(t.get(n),e);return v2(e)}function uQ(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case a5:n+="";break;default:n+=a}}return n}function v2(t){return t+a5+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function So(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function o5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.comparator=e,this.root=n||Un.EMPTY}insert(e,n){return new zt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new op(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new op(this.root,e,this.comparator,!1)}getReverseIterator(){return new op(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new op(this.root,e,this.comparator,!0)}}class op{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Un.RED,this.left=s??Un.EMPTY,this.right=a??Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Un(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Un.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new Un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new b2(this.data.getIterator())}getIteratorFrom(e){return new b2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wn(this.comparator);return n.data=e,n}}class b2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.fields=e,e.sort(Fn.comparator)}static empty(){return new kr([])}unionWith(e){let n=new wn(Fn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ac(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new l5("Invalid base64 string: "+a):a}}(e);return new $n(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new $n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$n.EMPTY_BYTE_STRING=new $n("");const cQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mo(t){if(ot(!!t,39018),typeof t=="string"){let e=0;const n=cQ.exec(t);if(ot(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jt(t.seconds),nanos:Jt(t.nanos)}}function Jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function po(t){return typeof t=="string"?$n.fromBase64String(t):$n.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5="server_timestamp",c5="__type__",d5="__previous_value__",f5="__local_write_time__";function K_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[c5])===null||n===void 0?void 0:n.stringValue)===u5}function lv(t){const e=t.mapValue.fields[d5];return K_(e)?lv(e):e}function Df(t){const e=mo(t.mapValue.fields[f5].timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dQ{constructor(e,n,r,s,a,l,c,d,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=m}}const dg="(default)";class Of{constructor(e,n){this.projectId=e,this.database=n||dg}static empty(){return new Of("","")}get isDefaultDatabase(){return this.database===dg}isEqual(e){return e instanceof Of&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5="__type__",fQ="__max__",lp={mapValue:{}},m5="__vector__",fg="value";function go(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?K_(t)?4:mQ(t)?9007199254740991:hQ(t)?10:11:Pe(28295,{value:t})}function li(t,e){if(t===e)return!0;const n=go(t);if(n!==go(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Df(t).isEqual(Df(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=mo(s.timestampValue),c=mo(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return po(s.bytesValue).isEqual(po(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return Jt(s.geoPointValue.latitude)===Jt(a.geoPointValue.latitude)&&Jt(s.geoPointValue.longitude)===Jt(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Jt(s.integerValue)===Jt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Jt(s.doubleValue),c=Jt(a.doubleValue);return l===c?cg(l)===cg(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return ac(t.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(y2(l)!==y2(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!li(l[d],c[d])))return!1;return!0}(t,e);default:return Pe(52216,{left:t})}}function jf(t,e){return(t.values||[]).find(n=>li(n,e))!==void 0}function oc(t,e){if(t===e)return 0;const n=go(t),r=go(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(a,l){const c=Jt(a.integerValue||a.doubleValue),d=Jt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return w2(t.timestampValue,e.timestampValue);case 4:return w2(Df(t),Df(e));case 5:return Bw(t.stringValue,e.stringValue);case 6:return function(a,l){const c=po(a),d=po(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),d=l.split("/");for(let h=0;h<c.length&&h<d.length;h++){const m=Xe(c[h],d[h]);if(m!==0)return m}return Xe(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const c=Xe(Jt(a.latitude),Jt(l.latitude));return c!==0?c:Xe(Jt(a.longitude),Jt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return x2(t.arrayValue,e.arrayValue);case 10:return function(a,l){var c,d,h,m;const y=a.fields||{},b=l.fields||{},_=(c=y[fg])===null||c===void 0?void 0:c.arrayValue,E=(d=b[fg])===null||d===void 0?void 0:d.arrayValue,T=Xe(((h=_?.values)===null||h===void 0?void 0:h.length)||0,((m=E?.values)===null||m===void 0?void 0:m.length)||0);return T!==0?T:x2(_,E)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===lp.mapValue&&l===lp.mapValue)return 0;if(a===lp.mapValue)return 1;if(l===lp.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),h=l.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const b=Bw(d[y],m[y]);if(b!==0)return b;const _=oc(c[d[y]],h[m[y]]);if(_!==0)return _}return Xe(d.length,m.length)}(t.mapValue,e.mapValue);default:throw Pe(23264,{le:n})}}function w2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=mo(t),r=mo(e),s=Xe(n.seconds,r.seconds);return s!==0?s:Xe(n.nanos,r.nanos)}function x2(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=oc(n[s],r[s]);if(a)return a}return Xe(n.length,r.length)}function lc(t){return Gw(t)}function Gw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=mo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return po(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=Gw(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Gw(n.fields[l])}`;return s+"}"}(t.mapValue):Pe(61005,{value:t})}function Ip(t){switch(go(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lv(t);return e?16+Ip(e):16;case 5:return 2*t.stringValue.length;case 6:return po(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+Ip(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return So(r.fields,(a,l)=>{s+=a.length+Ip(l)}),s}(t.mapValue);default:throw Pe(13486,{value:t})}}function _2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hw(t){return!!t&&"integerValue"in t}function Y_(t){return!!t&&"arrayValue"in t}function E2(t){return!!t&&"nullValue"in t}function S2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pp(t){return!!t&&"mapValue"in t}function hQ(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[h5])===null||n===void 0?void 0:n.stringValue)===m5}function ff(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return So(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ff(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ff(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===fQ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.value=e}static empty(){return new ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ff(n)}setAll(e){let n=Fn.emptyPath(),r={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=ff(l):s.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());Pp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Pp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){So(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new ur(ff(this.value))}}function p5(t){const e=[];return So(t.fields,(n,r)=>{const s=new Fn([n]);if(Pp(r)){const a=p5(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n,r,s,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Nn(e,0,Le.min(),Le.min(),Le.min(),ur.empty(),0)}static newFoundDocument(e,n,r,s){return new Nn(e,1,n,Le.min(),r,s,0)}static newNoDocument(e,n){return new Nn(e,2,n,Le.min(),Le.min(),ur.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,Le.min(),Le.min(),ur.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n){this.position=e,this.inclusive=n}}function T2(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=Ne.comparator(Ne.fromName(l.referenceValue),n.key):r=oc(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function R2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!li(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n="asc"){this.field=e,this.dir=n}}function pQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{}class un extends g5{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new vQ(e,n,r):n==="array-contains"?new wQ(e,r):n==="in"?new xQ(e,r):n==="not-in"?new _Q(e,r):n==="array-contains-any"?new EQ(e,r):new un(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yQ(e,r):new bQ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oc(n,this.value)):n!==null&&go(this.value)===go(n)&&this.matchesComparison(oc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ws extends g5{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new ws(e,n)}matches(e){return v5(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function v5(t){return t.op==="and"}function y5(t){return gQ(t)&&v5(t)}function gQ(t){for(const e of t.filters)if(e instanceof ws)return!1;return!0}function qw(t){if(t instanceof un)return t.field.canonicalString()+t.op.toString()+lc(t.value);if(y5(t))return t.filters.map(e=>qw(e)).join(",");{const e=t.filters.map(n=>qw(n)).join(",");return`${t.op}(${e})`}}function b5(t,e){return t instanceof un?function(r,s){return s instanceof un&&r.op===s.op&&r.field.isEqual(s.field)&&li(r.value,s.value)}(t,e):t instanceof ws?function(r,s){return s instanceof ws&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,c)=>a&&b5(l,s.filters[c]),!0):!1}(t,e):void Pe(19439)}function w5(t){return t instanceof un?function(n){return`${n.field.canonicalString()} ${n.op} ${lc(n.value)}`}(t):t instanceof ws?function(n){return n.op.toString()+" {"+n.getFilters().map(w5).join(" ,")+"}"}(t):"Filter"}class vQ extends un{constructor(e,n,r){super(e,n,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class yQ extends un{constructor(e,n){super(e,"in",n),this.keys=x5("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bQ extends un{constructor(e,n){super(e,"not-in",n),this.keys=x5("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function x5(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ne.fromName(r.referenceValue))}class wQ extends un{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Y_(n)&&jf(n.arrayValue,this.value)}}class xQ extends un{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jf(this.value.arrayValue,n)}}class _Q extends un{constructor(e,n){super(e,"not-in",n)}matches(e){if(jf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!jf(this.value.arrayValue,n)}}class EQ extends un{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Y_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>jf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SQ{constructor(e,n=null,r=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Pe=null}}function A2(t,e=null,n=[],r=[],s=null,a=null,l=null){return new SQ(t,e,n,r,s,a,l)}function X_(t){const e=ze(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>lc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>lc(r)).join(",")),e.Pe=n}return e.Pe}function Q_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!b5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!R2(t.startAt,e.startAt)&&R2(t.endAt,e.endAt)}function Ww(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n=null,r=[],s=[],a=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function TQ(t,e,n,r,s,a,l,c){return new Tc(t,e,n,r,s,a,l,c)}function uv(t){return new Tc(t)}function C2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _5(t){return t.collectionGroup!==null}function hf(t){const e=ze(t);if(e.Te===null){e.Te=[];const n=new Set;for(const a of e.explicitOrderBy)e.Te.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new wn(Fn.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Te.push(new Lf(a,r))}),n.has(Fn.keyField().canonicalString())||e.Te.push(new Lf(Fn.keyField(),r))}return e.Te}function ti(t){const e=ze(t);return e.Ie||(e.Ie=RQ(e,hf(t))),e.Ie}function RQ(t,e){if(t.limitType==="F")return A2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Lf(s.field,a)});const n=t.endAt?new hg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new hg(t.startAt.position,t.startAt.inclusive):null;return A2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Kw(t,e){const n=t.filters.concat([e]);return new Tc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mg(t,e,n){return new Tc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cv(t,e){return Q_(ti(t),ti(e))&&t.limitType===e.limitType}function E5(t){return`${X_(ti(t))}|lt:${t.limitType}`}function Uu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>w5(s)).join(", ")}]`),fh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>lc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>lc(s)).join(",")),`Target(${r})`}(ti(t))}; limitType=${t.limitType})`}function dv(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ne.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of hf(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,c,d){const h=T2(l,c,d);return l.inclusive?h<=0:h<0}(r.startAt,hf(r),s)||r.endAt&&!function(l,c,d){const h=T2(l,c,d);return l.inclusive?h>=0:h>0}(r.endAt,hf(r),s))}(t,e)}function AQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function S5(t){return(e,n)=>{let r=!1;for(const s of hf(t)){const a=CQ(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function CQ(t,e,n){const r=t.field.isKeyField()?Ne.comparator(e.key,n.key):function(a,l,c){const d=l.data.field(a),h=c.data.field(a);return d!==null&&h!==null?oc(d,h):Pe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){So(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return o5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NQ=new zt(Ne.comparator);function aa(){return NQ}const T5=new zt(Ne.comparator);function Xd(...t){let e=T5;for(const n of t)e=e.insert(n.key,n);return e}function R5(t){let e=T5;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wl(){return mf()}function A5(){return mf()}function mf(){return new zl(t=>t.toString(),(t,e)=>t.isEqual(e))}const IQ=new zt(Ne.comparator),PQ=new wn(Ne.comparator);function nt(...t){let e=PQ;for(const n of t)e=e.add(n);return e}const kQ=new wn(Xe);function MQ(){return kQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cg(e)?"-0":e}}function C5(t){return{integerValue:""+t}}function DQ(t,e){return oQ(e)?C5(e):Z_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(){this._=void 0}}function OQ(t,e,n){return t instanceof Vf?function(s,a){const l={fields:{[c5]:{stringValue:u5},[f5]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&K_(a)&&(a=lv(a)),a&&(l.fields[d5]=a),{mapValue:l}}(n,e):t instanceof Uf?I5(t,e):t instanceof Ff?P5(t,e):function(s,a){const l=N5(s,a),c=N2(l)+N2(s.Ee);return Hw(l)&&Hw(s.Ee)?C5(c):Z_(s.serializer,c)}(t,e)}function jQ(t,e,n){return t instanceof Uf?I5(t,e):t instanceof Ff?P5(t,e):n}function N5(t,e){return t instanceof pg?function(r){return Hw(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Vf extends fv{}class Uf extends fv{constructor(e){super(),this.elements=e}}function I5(t,e){const n=k5(e);for(const r of t.elements)n.some(s=>li(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ff extends fv{constructor(e){super(),this.elements=e}}function P5(t,e){let n=k5(e);for(const r of t.elements)n=n.filter(s=>!li(s,r));return{arrayValue:{values:n}}}class pg extends fv{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function N2(t){return Jt(t.integerValue||t.doubleValue)}function k5(t){return Y_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LQ{constructor(e,n){this.field=e,this.transform=n}}function VQ(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Uf&&s instanceof Uf||r instanceof Ff&&s instanceof Ff?ac(r.elements,s.elements,li):r instanceof pg&&s instanceof pg?li(r.Ee,s.Ee):r instanceof Vf&&s instanceof Vf}(t.transform,e.transform)}class UQ{constructor(e,n){this.version=e,this.transformResults=n}}class cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cn}static exists(e){return new cn(void 0,e)}static updateTime(e){return new cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hv{}function M5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mh(t.key,cn.none()):new hh(t.key,t.data,cn.none());{const n=t.data,r=ur.empty();let s=new wn(Fn.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new To(t.key,r,new kr(s.toArray()),cn.none())}}function FQ(t,e,n){t instanceof hh?function(s,a,l){const c=s.value.clone(),d=P2(s.fieldTransforms,a,l.transformResults);c.setAll(d),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof To?function(s,a,l){if(!kp(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=P2(s.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(D5(s)),d.setAll(c),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function pf(t,e,n,r){return t instanceof hh?function(a,l,c,d){if(!kp(a.precondition,l))return c;const h=a.value.clone(),m=k2(a.fieldTransforms,d,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof To?function(a,l,c,d){if(!kp(a.precondition,l))return c;const h=k2(a.fieldTransforms,d,l),m=l.data;return m.setAll(D5(a)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(a,l,c){return kp(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function zQ(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=N5(r.transform,s||null);a!=null&&(n===null&&(n=ur.empty()),n.set(r.field,a))}return n||null}function I2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ac(r,s,(a,l)=>VQ(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hh extends hv{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class To extends hv{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function D5(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function P2(t,e,n){const r=new Map;ot(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,c=e.data.field(a.field);r.set(a.field,jQ(l,c,n[s]))}return r}function k2(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,OQ(a,l,e))}return r}class mh extends hv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O5 extends hv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&FQ(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=pf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=pf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=A5();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(s.key)?null:c;const d=M5(l,c);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),nt())}isEqual(e){return this.batchId===e.batchId&&ac(this.mutations,e.mutations,(n,r)=>I2(n,r))&&ac(this.baseMutations,e.baseMutations,(n,r)=>I2(n,r))}}class J_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ot(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return IQ}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new J_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BQ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GQ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an,at;function j5(t){switch(t){case ae.OK:return Pe(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Pe(15467,{code:t})}}function L5(t){if(t===void 0)return ia("GRPC error has no .code"),ae.UNKNOWN;switch(t){case an.OK:return ae.OK;case an.CANCELLED:return ae.CANCELLED;case an.UNKNOWN:return ae.UNKNOWN;case an.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case an.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case an.INTERNAL:return ae.INTERNAL;case an.UNAVAILABLE:return ae.UNAVAILABLE;case an.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case an.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case an.NOT_FOUND:return ae.NOT_FOUND;case an.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case an.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case an.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case an.ABORTED:return ae.ABORTED;case an.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case an.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case an.DATA_LOSS:return ae.DATA_LOSS;default:return Pe(39323,{code:t})}}(at=an||(an={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HQ=new to([4294967295,4294967295],0);function M2(t){const e=r5().encode(t),n=new YD;return n.update(e),new Uint8Array(n.digest())}function D2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new to([n,r],0),new to([s,a],0)]}class eE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qd(`Invalid padding: ${n}`);if(r<0)throw new Qd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qd(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=to.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(to.fromNumber(r)));return s.compare(HQ)===1&&(s=new to([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=M2(e),[r,s]=D2(n);for(let a=0;a<this.hashCount;a++){const l=this.pe(r,s,a);if(!this.ye(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new eE(a,s,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.fe===0)return;const n=M2(e),[r,s]=D2(n);for(let a=0;a<this.hashCount;a++){const l=this.pe(r,s,a);this.we(l)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Qd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ph.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new mv(Le.min(),s,new zt(Xe),aa(),nt())}}class ph{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ph(r,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class V5{constructor(e,n){this.targetId=e,this.De=n}}class U5{constructor(e,n,r=$n.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class O2{constructor(){this.ve=0,this.Ce=j2(),this.Fe=$n.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=nt(),n=nt(),r=nt();return this.Ce.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Pe(38017,{changeType:a})}}),new ph(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=j2()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class qQ{constructor(e){this.We=e,this.Ge=new Map,this.ze=aa(),this.je=up(),this.Je=up(),this.He=new zt(Xe)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const a=s.target;if(Ww(a))if(r===0){const l=new Ne(a.path);this.Xe(n,l,Nn.newNoDocument(l,Le.min()))}else ot(r===1,20013,{expectedCount:r});else{const l=this.ot(n);if(l!==r){const c=this._t(e),d=c?this.ut(c,e,l):1;if(d!==0){this.rt(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,h)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,c;try{l=po(r).toUint8Array()}catch(d){if(d instanceof l5)return fo("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new eE(l,s,a)}catch(d){return fo(d instanceof Qd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.fe===0?null:c}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const l=this.We.lt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.Xe(n,a,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((a,l)=>{const c=this.st(l);if(c){if(a.current&&Ww(c.target)){const d=new Ne(c.target.path);this.Tt(d).has(l)||this.It(l,d)||this.Xe(l,d,Nn.newNoDocument(d,e))}a.Ne&&(n.set(l,a.Le()),a.ke())}});let r=nt();this.Je.forEach((a,l)=>{let c=!0;l.forEachWhile(d=>{const h=this.st(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.ze.forEach((a,l)=>l.setReadTime(e));const s=new mv(e,n,this.He,this.ze,r);return this.ze=aa(),this.je=up(),this.Je=up(),this.He=new zt(Xe),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new O2,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new wn(Xe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new wn(Xe),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new O2),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function up(){return new zt(Ne.comparator)}function j2(){return new zt(Ne.comparator)}const WQ={asc:"ASCENDING",desc:"DESCENDING"},KQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YQ={and:"AND",or:"OR"};class XQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yw(t,e){return t.useProto3Json||fh(e)?e:{value:e}}function gg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function F5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QQ(t,e){return gg(t,e.toTimestamp())}function Or(t){return ot(!!t,49232),Le.fromTimestamp(function(n){const r=mo(n);return new ct(r.seconds,r.nanos)}(t))}function tE(t,e){return Xw(t,e).canonicalString()}function Xw(t,e){const n=function(s){return new _t(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function z5(t){const e=_t.fromString(t);return ot(W5(e),10190,{key:e.toString()}),e}function vg(t,e){return tE(t.databaseId,e.path)}function gf(t,e){const n=z5(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(B5(n))}function $5(t,e){return tE(t.databaseId,e)}function ZQ(t){const e=z5(t);return e.length===4?_t.emptyPath():B5(e)}function Qw(t){return new _t(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function B5(t){return ot(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function L2(t,e,n){return{name:vg(t,e),fields:n.value.mapValue.fields}}function JQ(t,e){return"found"in e?function(r,s){ot(!!s.found,43571),s.found.name,s.found.updateTime;const a=gf(r,s.found.name),l=Or(s.found.updateTime),c=s.found.createTime?Or(s.found.createTime):Le.min(),d=new ur({mapValue:{fields:s.found.fields}});return Nn.newFoundDocument(a,l,c,d)}(t,e):"missing"in e?function(r,s){ot(!!s.missing,3894),ot(!!s.readTime,22933);const a=gf(r,s.missing),l=Or(s.readTime);return Nn.newNoDocument(a,l)}(t,e):Pe(7234,{result:e})}function eZ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Pe(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(h,m){return h.useProto3Json?(ot(m===void 0||typeof m=="string",58123),$n.fromBase64String(m||"")):(ot(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),$n.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(h){const m=h.code===void 0?ae.UNKNOWN:L5(h.code);return new pe(m,h.message||"")}(l);n=new U5(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=gf(t,r.document.name),a=Or(r.document.updateTime),l=r.document.createTime?Or(r.document.createTime):Le.min(),c=new ur({mapValue:{fields:r.document.fields}}),d=Nn.newFoundDocument(s,a,l,c),h=r.targetIds||[],m=r.removedTargetIds||[];n=new Mp(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=gf(t,r.document),a=r.readTime?Or(r.readTime):Le.min(),l=Nn.newNoDocument(s,a),c=r.removedTargetIds||[];n=new Mp([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=gf(t,r.document),a=r.removedTargetIds||[];n=new Mp([],a,s,null)}else{if(!("filter"in e))return Pe(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new GQ(s,a),c=r.targetId;n=new V5(c,l)}}return n}function G5(t,e){let n;if(e instanceof hh)n={update:L2(t,e.key,e.value)};else if(e instanceof mh)n={delete:vg(t,e.key)};else if(e instanceof To)n={update:L2(t,e.key,e.data),updateMask:uZ(e.fieldMask)};else{if(!(e instanceof O5))return Pe(16599,{Rt:e.type});n={verify:vg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof Vf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Uf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ff)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof pg)return{fieldPath:l.field.canonicalString(),increment:c.Ee};throw Pe(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:QQ(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pe(27497)}(t,e.precondition)),n}function tZ(t,e){return t&&t.length>0?(ot(e!==void 0,14353),t.map(n=>function(s,a){let l=s.updateTime?Or(s.updateTime):Or(a);return l.isEqual(Le.min())&&(l=Or(a)),new UQ(l,s.transformResults||[])}(n,e))):[]}function nZ(t,e){return{documents:[$5(t,e.path)]}}function rZ(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$5(t,s);const a=function(h){if(h.length!==0)return q5(ws.create(h,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(h){if(h.length!==0)return h.map(m=>function(b){return{field:Fu(b.field),direction:aZ(b.dir)}}(m))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=Yw(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{Vt:n,parent:s}}function sZ(t){let e=ZQ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ot(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let a=[];n.where&&(a=function(y){const b=H5(y);return b instanceof ws&&y5(b)?b.getFilters():[b]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(b=>function(E){return new Lf(zu(E.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(b))}(n.orderBy));let c=null;n.limit&&(c=function(y){let b;return b=typeof y=="object"?y.value:y,fh(b)?null:b}(n.limit));let d=null;n.startAt&&(d=function(y){const b=!!y.before,_=y.values||[];return new hg(_,b)}(n.startAt));let h=null;return n.endAt&&(h=function(y){const b=!y.before,_=y.values||[];return new hg(_,b)}(n.endAt)),TQ(e,s,l,a,c,"F",d,h)}function iZ(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function H5(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zu(n.unaryFilter.field);return un.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=zu(n.unaryFilter.field);return un.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=zu(n.unaryFilter.field);return un.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=zu(n.unaryFilter.field);return un.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}}(t):t.fieldFilter!==void 0?function(n){return un.create(zu(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ws.create(n.compositeFilter.filters.map(r=>H5(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}}(n.compositeFilter.op))}(t):Pe(30097,{filter:t})}function aZ(t){return WQ[t]}function oZ(t){return KQ[t]}function lZ(t){return YQ[t]}function Fu(t){return{fieldPath:t.canonicalString()}}function zu(t){return Fn.fromServerFormat(t.fieldPath)}function q5(t){return t instanceof un?function(n){if(n.op==="=="){if(S2(n.value))return{unaryFilter:{field:Fu(n.field),op:"IS_NAN"}};if(E2(n.value))return{unaryFilter:{field:Fu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(S2(n.value))return{unaryFilter:{field:Fu(n.field),op:"IS_NOT_NAN"}};if(E2(n.value))return{unaryFilter:{field:Fu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fu(n.field),op:oZ(n.op),value:n.value}}}(t):t instanceof ws?function(n){const r=n.getFilters().map(s=>q5(s));return r.length===1?r[0]:{compositeFilter:{op:lZ(n.op),filters:r}}}(t):Pe(54877,{filter:t})}function uZ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function W5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n,r,s,a=Le.min(),l=Le.min(),c=$n.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Xa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cZ{constructor(e){this.gt=e}}function dZ(t){const e=sZ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fZ{constructor(){this.Dn=new hZ}addToCollectionParentIndex(e,n){return this.Dn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(ho.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(ho.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class hZ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new wn(_t.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new wn(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},K5=41943040;class vr{static withCacheSize(e){return new vr(e,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr.DEFAULT_COLLECTION_PERCENTILE=10,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vr.DEFAULT=new vr(K5,vr.DEFAULT_COLLECTION_PERCENTILE,vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vr.DISABLED=new vr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new uc(0)}static ur(){return new uc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="LruGarbageCollector",mZ=1048576;function F2([t,e],[n,r]){const s=Xe(t,n);return s===0?Xe(e,r):s}class pZ{constructor(e){this.Tr=e,this.buffer=new wn(F2),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();F2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gZ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ve(U2,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Sc(n)?ve(U2,"Ignoring IndexedDB error during garbage collection: ",n):await Ec(n)}await this.Rr(3e5)})}}class vZ{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return de.resolve(ov.ue);const r=new pZ(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(V2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V2):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,a,l,c,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(e,s))).next(y=>(r=y,c=Date.now(),this.removeTargets(e,r,n))).next(y=>(a=y,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(h=Date.now(),Vu()<=tt.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y})))}}function yZ(t,e){return new vZ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bZ{constructor(){this.changes=new zl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wZ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xZ{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&pf(r.mutation,s,kr.empty(),ct.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,nt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=nt()){const s=wl();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let l=Xd();return a.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=wl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,nt()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,s){let a=aa();const l=mf(),c=function(){return mf()}();return n.forEach((d,h)=>{const m=r.get(h.key);s.has(h.key)&&(m===void 0||m.mutation instanceof To)?a=a.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),pf(m.mutation,h,m.mutation.getFieldMask(),ct.now())):l.set(h.key,kr.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((h,m)=>l.set(h,m)),n.forEach((h,m)=>{var y;return c.set(h,new wZ(m,(y=l.get(h))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,n){const r=mf();let s=new zt((l,c)=>l-c),a=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(d=>{const h=n.get(d);if(h===null)return;let m=r.get(d)||kr.empty();m=c.applyToLocalView(h,m),r.set(d,m);const y=(s.get(c.batchId)||nt()).add(d);s=s.insert(c.batchId,y)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,m=d.value,y=A5();m.forEach(b=>{if(!a.has(b)){const _=M5(n.get(b),r.get(b));_!==null&&y.set(b,_),a=a.add(b)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,y))}return de.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return Ne.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):de.resolve(wl());let c=Mf,d=a;return l.next(h=>de.forEach(h,(m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(m)?de.resolve():this.remoteDocumentCache.getEntry(e,m).next(b=>{d=d.insert(m,b)}))).next(()=>this.populateOverlays(e,h,a)).next(()=>this.computeViews(e,d,h,nt())).next(m=>({batchId:c,changes:R5(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next(r=>{let s=Xd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=Xd();return this.indexManager.getCollectionParents(e,a).next(c=>de.forEach(c,d=>{const h=function(y,b){return new Tc(b,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(m=>{m.forEach((y,b)=>{l=l.insert(y,b)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(l=>{a.forEach((d,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,Nn.newInvalidDocument(m)))});let c=Xd();return l.forEach((d,h)=>{const m=a.get(d);m!==void 0&&pf(m.mutation,h,kr.empty(),ct.now()),dv(n,h)&&(c=c.insert(d,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return de.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Or(s.createTime)}}(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:dZ(s.bundledQuery),readTime:Or(s.readTime)}}(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EZ{constructor(){this.overlays=new zt(Ne.comparator),this.kr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wl();return de.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.wt(e,n,a)}),de.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.kr.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const s=wl(),a=n.length+1,l=new Ne(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return de.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new zt((h,m)=>h-m);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=a.get(h.largestBatchId);m===null&&(m=wl(),a=a.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=wl(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,m)=>c.set(h,m)),!(c.size()>=s)););return de.resolve(c)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new BQ(n,r));let a=this.kr.get(n);a===void 0&&(a=nt(),this.kr.set(n,a)),this.kr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SZ{constructor(){this.sessionToken=$n.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.qr=new wn(Cn.Qr),this.$r=new wn(Cn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Cn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Cn(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Ne(new _t([])),r=new Cn(n,e),s=new Cn(n,e+1),a=[];return this.$r.forEachInRange([r,s],l=>{this.Wr(l),a.push(l.key)}),a}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Ne(new _t([])),r=new Cn(n,e),s=new Cn(n,e+1);let a=nt();return this.$r.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Cn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Cn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Ne.comparator(e.key,n.key)||Xe(e.Hr,n.Hr)}static Ur(e,n){return Xe(e.Hr,n.Hr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TZ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new wn(Cn.Qr)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new $Q(a,n,r,s);this.mutationQueue.push(l);for(const c of s)this.Yr=this.Yr.add(new Cn(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return de.resolve(l)}lookupMutationBatch(e,n){return de.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),a=s<0?0:s;return de.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?W_:this.er-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Cn(n,0),s=new Cn(n,Number.POSITIVE_INFINITY),a=[];return this.Yr.forEachInRange([r,s],l=>{const c=this.Zr(l.Hr);a.push(c)}),de.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wn(Xe);return n.forEach(s=>{const a=new Cn(s,0),l=new Cn(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([a,l],c=>{r=r.add(c.Hr)})}),de.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;Ne.isDocumentKey(a)||(a=a.child(""));const l=new Cn(new Ne(a),0);let c=new wn(Xe);return this.Yr.forEachWhile(d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(c=c.add(d.Hr)),!0)},l),de.resolve(this.ei(c))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ot(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return de.forEach(n.mutations,s=>{const a=new Cn(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Cn(n,0),s=this.Yr.firstAfterOrEqual(r);return de.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RZ{constructor(e){this.ni=e,this.docs=function(){return new zt(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let r=aa();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Nn.newInvalidDocument(s))}),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=aa();const l=n.path,c=new Ne(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||rQ(nQ(m),r)<=0||(s.has(m.key)||dv(n,m))&&(a=a.insert(m.key,m.mutableCopy()))}return de.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Pe(9500)}ri(e,n){return de.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AZ(this)}getSize(e){return de.resolve(this.size)}}class AZ extends bZ{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),de.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CZ{constructor(e){this.persistence=e,this.ii=new zl(n=>X_(n),Q_),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.si=0,this.oi=new nE,this.targetCount=0,this._i=uc.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),de.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new uc(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.hr(n),de.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.ii.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ii.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),de.waitFor(a).next(()=>s)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),de.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),de.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,n){this.ai={},this.overlays={},this.ui=new ov(0),this.ci=!1,this.ci=!0,this.li=new SZ,this.referenceDelegate=e(this),this.hi=new CZ(this),this.indexManager=new fZ,this.remoteDocumentCache=function(s){return new RZ(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new cZ(n),this.Ti=new _Z(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EZ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new TZ(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const s=new NZ(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(a=>this.referenceDelegate.di(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ei(e,n){return de.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class NZ extends iQ{constructor(e){super(),this.currentSequenceNumber=e}}class rE{constructor(e){this.persistence=e,this.Ai=new nE,this.Ri=null}static Vi(e){return new rE(e)}get mi(){if(this.Ri)return this.Ri;throw Pe(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),de.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.mi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.mi,r=>{const s=Ne.fromPath(r);return this.fi(e,s).next(a=>{a||n.removeEntry(s,Le.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return de.or([()=>de.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class yg{constructor(e,n){this.persistence=e,this.gi=new zl(r=>lQ(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=yZ(this,n)}static Vi(e,n){return new yg(e,n)}Ii(){}di(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return de.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(a=>a?de.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ri(e,l=>this.Sr(e,l,n).next(c=>{c||(r++,a.removeEntry(l,Le.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),de.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),de.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ip(e.data.value)),n}Sr(e,n,r){return de.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return de.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=nt(),s=nt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new sE(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return _W()?8:aQ(er())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ps(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ys(e,n,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new IZ;return this.ws(e,n,l).next(c=>{if(a.result=c,this.Rs)return this.Ss(e,n,l,c.size)})}).next(()=>a.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(Vu()<=tt.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Uu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),de.resolve()):(Vu()<=tt.DEBUG&&ve("QueryEngine","Query:",Uu(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(Vu()<=tt.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Uu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(n))):de.resolve())}ps(e,n){if(C2(n))return de.resolve(null);let r=ti(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=mg(n,null,"F"),r=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=nt(...a);return this.gs.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const h=this.bs(n,c);return this.Ds(n,h,l,d.readTime)?this.ps(e,mg(n,null,"F")):this.vs(e,h,n,d)}))})))}ys(e,n,r,s){return C2(n)||s.isEqual(Le.min())?de.resolve(null):this.gs.getDocuments(e,r).next(a=>{const l=this.bs(n,a);return this.Ds(n,l,r,s)?de.resolve(null):(Vu()<=tt.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Uu(n)),this.vs(e,l,n,tQ(s,Mf)).next(c=>c))})}bs(e,n){let r=new wn(S5(e));return n.forEach((s,a)=>{dv(e,a)&&(r=r.add(a))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ws(e,n,r){return Vu()<=tt.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Uu(n)),this.gs.getDocumentsMatchingQuery(e,n,ho.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="LocalStore",kZ=3e8;class MZ{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new zt(Xe),this.Ms=new zl(a=>X_(a),Q_),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xZ(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function DZ(t,e,n,r){return new MZ(t,e,n,r)}async function X5(t,e){const n=ze(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let d=nt();for(const h of s){l.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of a){c.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next(h=>({Bs:h,removedBatchIds:l,addedBatchIds:c}))})})}function OZ(t,e){const n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.Os.newChangeBuffer({trackRemovals:!0});return function(c,d,h,m){const y=h.batch,b=y.keys();let _=de.resolve();return b.forEach(E=>{_=_.next(()=>m.getEntry(d,E)).next(T=>{const R=h.docVersions.get(E);ot(R!==null,48541),T.version.compareTo(R)<0&&(y.applyToRemoteDocument(T,h),T.isValidDocument()&&(T.setReadTime(h.commitVersion),m.addEntry(T)))})}),_.next(()=>c.mutationQueue.removeMutationBatch(d,y))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=nt();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Q5(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function jZ(t,e){const n=ze(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const c=[];e.targetChanges.forEach((m,y)=>{const b=s.get(y);if(!b)return;c.push(n.hi.removeMatchingKeys(a,m.removedDocuments,y).next(()=>n.hi.addMatchingKeys(a,m.addedDocuments,y)));let _=b.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?_=_.withResumeToken($n.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):m.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(m.resumeToken,r)),s=s.insert(y,_),function(T,R,N){return T.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=kZ?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(b,_,m)&&c.push(n.hi.updateTargetData(a,_))});let d=aa(),h=nt();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,m))}),c.push(LZ(a,l,e.documentUpdates).next(m=>{d=m.Ls,h=m.ks})),!r.isEqual(Le.min())){const m=n.hi.getLastRemoteSnapshotVersion(a).next(y=>n.hi.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(m)}return de.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,d,h)).next(()=>d)}).then(a=>(n.Fs=s,a))}function LZ(t,e,n){let r=nt(),s=nt();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=aa();return n.forEach((c,d)=>{const h=a.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(Le.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):ve(iE,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),{Ls:l,ks:s}})}function VZ(t,e){const n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=W_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function UZ(t,e){const n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(a=>a?(s=a,de.resolve(s)):n.hi.allocateTargetId(r).next(l=>(s=new Xa(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function Zw(t,e,n){const r=ze(t),s=r.Fs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Sc(l))throw l;ve(iE,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function z2(t,e,n){const r=ze(t);let s=Le.min(),a=nt();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,m){const y=ze(d),b=y.Ms.get(m);return b!==void 0?de.resolve(y.Fs.get(b)):y.hi.getTargetData(h,m)}(r,l,ti(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(l,c.targetId).next(d=>{a=d})}).next(()=>r.Cs.getDocumentsMatchingQuery(l,e,n?s:Le.min(),n?a:nt())).next(c=>(FZ(r,AQ(e),c),{documents:c,qs:a})))}function FZ(t,e,n){let r=t.xs.get(e)||Le.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.xs.set(e,r)}class $2{constructor(){this.activeTargetIds=MQ()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zZ{constructor(){this.Fo=new $2,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new $2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Z{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="ConnectivityMonitor";class G2{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ve(B2,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ve(B2,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cp=null;function Jw(){return cp===null?cp=function(){return 268435456+Math.round(2147483648*Math.random())}():cp++,"0x"+cp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="RestConnection",BZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GZ{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===dg?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,a){const l=Jw(),c=this.Go(e,n.toUriEncodedString());ve(Eb,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(d,s,a);const{host:h}=new URL(c),m=Eo(h);return this.jo(e,c,d,r,m).then(y=>(ve(Eb,`Received RPC '${e}' ${l}: `,y),y),y=>{throw fo(Eb,`RPC '${e}' ${l} failed with error: `,y,"url: ",c,"request:",r),y})}Jo(e,n,r,s,a,l){return this.Wo(e,n,r,s,a)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_c}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}Go(e,n){const r=BZ[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HZ{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn="WebChannelConnection";class qZ extends GZ{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,a){const l=Jw();return new Promise((c,d)=>{const h=new XD;h.setWithCredentials(!0),h.listenOnce(QD.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Np.NO_ERROR:const y=h.getResponseJson();ve(Kn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Np.TIMEOUT:ve(Kn,`RPC '${e}' ${l} timed out`),d(new pe(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Np.HTTP_ERROR:const b=h.getStatus();if(ve(Kn,`RPC '${e}' ${l} failed with status:`,b,"response text:",h.getResponseText()),b>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_?.error;if(E&&E.status&&E.message){const T=function(N){const P=N.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(P)>=0?P:ae.UNKNOWN}(E.status);d(new pe(T,E.message))}else d(new pe(ae.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new pe(ae.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{c_:e,streamId:l,l_:h.getLastErrorCode(),h_:h.getLastError()})}}finally{ve(Kn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(s);ve(Kn,`RPC '${e}' ${l} sending request:`,s),h.send(n,"POST",m,r,15)})}P_(e,n,r){const s=Jw(),a=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=e5(),c=JD(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.zo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=a.join("");ve(Kn,`Creating RPC '${e}' stream ${s}: ${m}`,d);const y=l.createWebChannel(m,d);this.T_(y);let b=!1,_=!1;const E=new HZ({Ho:R=>{_?ve(Kn,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(b||(ve(Kn,`Opening RPC '${e}' stream ${s} transport.`),y.open(),b=!0),ve(Kn,`RPC '${e}' stream ${s} sending:`,R),y.send(R))},Yo:()=>y.close()}),T=(R,N,P)=>{R.listen(N,M=>{try{P(M)}catch(F){setTimeout(()=>{throw F},0)}})};return T(y,Yd.EventType.OPEN,()=>{_||(ve(Kn,`RPC '${e}' stream ${s} transport opened.`),E.s_())}),T(y,Yd.EventType.CLOSE,()=>{_||(_=!0,ve(Kn,`RPC '${e}' stream ${s} transport closed`),E.__(),this.I_(y))}),T(y,Yd.EventType.ERROR,R=>{_||(_=!0,fo(Kn,`RPC '${e}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),E.__(new pe(ae.UNAVAILABLE,"The operation could not be completed")))}),T(y,Yd.EventType.MESSAGE,R=>{var N;if(!_){const P=R.data[0];ot(!!P,16349);const M=P,F=M?.error||((N=M[0])===null||N===void 0?void 0:N.error);if(F){ve(Kn,`RPC '${e}' stream ${s} received error:`,F);const $=F.status;let X=function(D){const L=an[D];if(L!==void 0)return L5(L)}($),O=F.message;X===void 0&&(X=ae.INTERNAL,O="Unknown error status: "+$+" with message "+F.message),_=!0,E.__(new pe(X,O)),y.close()}else ve(Kn,`RPC '${e}' stream ${s} received:`,P),E.a_(P)}}),T(c,ZD.STAT_EVENT,R=>{R.stat===$w.PROXY?ve(Kn,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===$w.NOPROXY&&ve(Kn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.o_()},0),E}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Sb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t){return new XQ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&ve("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="PersistentStream";class Z5{constructor(e,n,r,s,a,l,c,d){this.Fi=e,this.w_=r,this.S_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new aE(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(ia(n.toString()),ia("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new pe(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ve(H2,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(ve(H2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WZ extends Z5{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=eZ(this.serializer,e),r=function(a){if(!("targetChange"in a))return Le.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Le.min():l.readTime?Or(l.readTime):Le.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=Qw(this.serializer),n.addTarget=function(a,l){let c;const d=l.target;if(c=Ww(d)?{documents:nZ(a,d)}:{query:rZ(a,d).Vt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=F5(a,l.resumeToken);const h=Yw(a,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(Le.min())>0){c.readTime=gg(a,l.snapshotVersion.toTimestamp());const h=Yw(a,l.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const r=iZ(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=Qw(this.serializer),n.removeTarget=e,this.k_(n)}}class KZ extends Z5{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=tZ(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=Qw(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>G5(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YZ{}class XZ extends YZ{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new pe(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Wo(e,Xw(n,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(ae.UNKNOWN,a.toString())})}Jo(e,n,r,s,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Jo(e,Xw(n,r),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(ae.UNKNOWN,l.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class QZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ia(n),this._a=!1):ve("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml="RemoteStore";class ZZ{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=a,this.Ea.xo(l=>{r.enqueueAndForget(async()=>{$l(this)&&(ve(Ml,"Restarting streams for network reachability change."),await async function(d){const h=ze(d);h.Ia.add(4),await gh(h),h.Aa.set("Unknown"),h.Ia.delete(4),await gv(h)}(this))})}),this.Aa=new QZ(r,s)}}async function gv(t){if($l(t))for(const e of t.da)await e(!0)}async function gh(t){for(const e of t.da)await e(!1)}function J5(t,e){const n=ze(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),cE(n)?uE(n):Rc(n).x_()&&lE(n,e))}function oE(t,e){const n=ze(t),r=Rc(n);n.Ta.delete(e),r.x_()&&eO(n,e),n.Ta.size===0&&(r.x_()?r.B_():$l(n)&&n.Aa.set("Unknown"))}function lE(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rc(t).H_(e)}function eO(t,e){t.Ra.$e(e),Rc(t).Y_(e)}function uE(t){t.Ra=new qQ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Rc(t).start(),t.Aa.aa()}function cE(t){return $l(t)&&!Rc(t).M_()&&t.Ta.size>0}function $l(t){return ze(t).Ia.size===0}function tO(t){t.Ra=void 0}async function JZ(t){t.Aa.set("Online")}async function eJ(t){t.Ta.forEach((e,n)=>{lE(t,e)})}async function tJ(t,e){tO(t),cE(t)?(t.Aa.la(e),uE(t)):t.Aa.set("Unknown")}async function nJ(t,e,n){if(t.Aa.set("Online"),e instanceof U5&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Ta.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ta.delete(c),s.Ra.removeTarget(c))}(t,e)}catch(r){ve(Ml,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bg(t,r)}else if(e instanceof Mp?t.Ra.Ye(e):e instanceof V5?t.Ra.it(e):t.Ra.et(e),!n.isEqual(Le.min()))try{const r=await Q5(t.localStore);n.compareTo(r)>=0&&await function(a,l){const c=a.Ra.Pt(l);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.Ta.get(h);m&&a.Ta.set(h,m.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,h)=>{const m=a.Ta.get(d);if(!m)return;a.Ta.set(d,m.withResumeToken($n.EMPTY_BYTE_STRING,m.snapshotVersion)),eO(a,d);const y=new Xa(m.target,d,h,m.sequenceNumber);lE(a,y)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){ve(Ml,"Failed to raise snapshot:",r),await bg(t,r)}}async function bg(t,e,n){if(!Sc(e))throw e;t.Ia.add(1),await gh(t),t.Aa.set("Offline"),n||(n=()=>Q5(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve(Ml,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await gv(t)})}function nO(t,e){return e().catch(n=>bg(t,n,e))}async function vv(t){const e=ze(t),n=vo(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:W_;for(;rJ(e);)try{const s=await VZ(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,sJ(e,s)}catch(s){await bg(e,s)}rO(e)&&sO(e)}function rJ(t){return $l(t)&&t.Pa.length<10}function sJ(t,e){t.Pa.push(e);const n=vo(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function rO(t){return $l(t)&&!vo(t).M_()&&t.Pa.length>0}function sO(t){vo(t).start()}async function iJ(t){vo(t).na()}async function aJ(t){const e=vo(t);for(const n of t.Pa)e.X_(n.mutations)}async function oJ(t,e,n){const r=t.Pa.shift(),s=J_.from(r,e,n);await nO(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await vv(t)}async function lJ(t,e){e&&vo(t).Z_&&await async function(r,s){if(function(l){return j5(l)&&l!==ae.ABORTED}(s.code)){const a=r.Pa.shift();vo(r).N_(),await nO(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await vv(r)}}(t,e),rO(t)&&sO(t)}async function q2(t,e){const n=ze(t);n.asyncQueue.verifyOperationInProgress(),ve(Ml,"RemoteStore received new credentials");const r=$l(n);n.Ia.add(3),await gh(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await gv(n)}async function uJ(t,e){const n=ze(t);e?(n.Ia.delete(2),await gv(n)):e||(n.Ia.add(2),await gh(n),n.Aa.set("Unknown"))}function Rc(t){return t.Va||(t.Va=function(n,r,s){const a=ze(n);return a.ia(),new WZ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Zo:JZ.bind(null,t),e_:eJ.bind(null,t),n_:tJ.bind(null,t),J_:nJ.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),cE(t)?uE(t):t.Aa.set("Unknown")):(await t.Va.stop(),tO(t))})),t.Va}function vo(t){return t.ma||(t.ma=function(n,r,s){const a=ze(n);return a.ia(),new KZ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:iJ.bind(null,t),n_:lJ.bind(null,t),ea:aJ.bind(null,t),ta:oJ.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await vv(t)):(await t.ma.stop(),t.Pa.length>0&&(ve(Ml,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,c=new dE(e,n,l,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fE(t,e){if(ia("AsyncQueue",`${e}: ${t}`),Sc(t))return new pe(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{static emptySet(e){return new ec(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ne.comparator(n.key,r.key):(n,r)=>Ne.comparator(n.key,r.key),this.keyedMap=Xd(),this.sortedSet=new zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ec)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ec;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.fa=new zt(Ne.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Pe(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class cc{constructor(e,n,r,s,a,l,c,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new cc(e,n,ec.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cJ{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class dJ{constructor(){this.queries=K2(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=ze(n),a=s.queries;s.queries=K2(),a.forEach((l,c)=>{for(const d of c.wa)d.onError(r)})})(this,new pe(ae.ABORTED,"Firestore shutting down"))}}function K2(){return new zl(t=>E5(t),cv)}async function hE(t,e){const n=ze(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.Sa()&&e.ba()&&(r=2):(a=new cJ,r=e.ba()?0:1);try{switch(r){case 0:a.ya=await n.onListen(s,!0);break;case 1:a.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=fE(l,`Initialization of query '${Uu(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,a),a.wa.push(e),e.va(n.onlineState),a.ya&&e.Ca(a.ya)&&pE(n)}async function mE(t,e){const n=ze(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.wa.indexOf(e);l>=0&&(a.wa.splice(l,1),a.wa.length===0?s=e.ba()?0:1:!a.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fJ(t,e){const n=ze(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const c of l.wa)c.Ca(s)&&(r=!0);l.ya=s}}r&&pE(n)}function hJ(t,e,n){const r=ze(t),s=r.queries.get(e);if(s)for(const a of s.wa)a.onError(n);r.queries.delete(e)}function pE(t){t.Da.forEach(e=>{e.next()})}var ex,Y2;(Y2=ex||(ex={})).Fa="default",Y2.Cache="cache";class gE{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new cc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==ex.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.key=e}}class aO{constructor(e){this.key=e}}class mJ{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=nt(),this.mutatedKeys=nt(),this.Xa=S5(e),this.eu=new ec(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new W2,s=n?n.eu:this.eu;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,y)=>{const b=s.get(m),_=dv(this.query,y)?y:null,E=!!b&&this.mutatedKeys.has(b.key),T=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let R=!1;b&&_?b.data.isEqual(_.data)?E!==T&&(r.track({type:3,doc:_}),R=!0):this.iu(b,_)||(r.track({type:2,doc:_}),R=!0,(d&&this.Xa(_,d)>0||h&&this.Xa(_,h)<0)&&(c=!0)):!b&&_?(r.track({type:0,doc:_}),R=!0):b&&!_&&(r.track({type:1,doc:b}),R=!0,(d||h)&&(c=!0)),R&&(_?(l=l.add(_),a=T?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{eu:l,ru:r,Ds:c,mutatedKeys:a}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort((m,y)=>function(_,E){const T=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{At:R})}};return T(_)-T(E)}(m.type,y.type)||this.Xa(m.doc,y.doc)),this.su(r),s=s!=null&&s;const c=n&&!s?this.ou():[],d=this.Za.size===0&&this.current&&!s?1:0,h=d!==this.Ya;return this.Ya=d,l.length!==0||h?{snapshot:new cc(this.query,e.eu,a,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new W2,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=nt(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new aO(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new iO(r))}),n}uu(e){this.Ha=e.qs,this.Za=nt();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return cc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const vE="SyncEngine";class pJ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gJ{constructor(e){this.key=e,this.lu=!1}}class vJ{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new zl(c=>E5(c),cv),this.Tu=new Map,this.Iu=new Set,this.du=new zt(Ne.comparator),this.Eu=new Map,this.Au=new nE,this.Ru={},this.Vu=new Map,this.mu=uc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function yJ(t,e,n=!0){const r=fO(t);let s;const a=r.Pu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.cu()):s=await oO(r,e,n,!0),s}async function bJ(t,e){const n=fO(t);await oO(n,e,!0,!1)}async function oO(t,e,n,r){const s=await UZ(t.localStore,ti(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await wJ(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&J5(t.remoteStore,s),c}async function wJ(t,e,n,r,s){t.gu=(y,b,_)=>async function(T,R,N,P){let M=R.view.nu(N);M.Ds&&(M=await z2(T.localStore,R.query,!1).then(({documents:O})=>R.view.nu(O,M)));const F=P&&P.targetChanges.get(R.targetId),$=P&&P.targetMismatches.get(R.targetId)!=null,X=R.view.applyChanges(M,T.isPrimaryClient,F,$);return Q2(T,R.targetId,X._u),X.snapshot}(t,y,b,_);const a=await z2(t.localStore,e,!0),l=new mJ(e,a.qs),c=l.nu(a.documents),d=ph.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=l.applyChanges(c,t.isPrimaryClient,d);Q2(t,n,h._u);const m=new pJ(e,n,l);return t.Pu.set(e,m),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),h.snapshot}async function xJ(t,e,n){const r=ze(t),s=r.Pu.get(e),a=r.Tu.get(s.targetId);if(a.length>1)return r.Tu.set(s.targetId,a.filter(l=>!cv(l,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Zw(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&oE(r.remoteStore,s.targetId),tx(r,s.targetId)}).catch(Ec)):(tx(r,s.targetId),await Zw(r.localStore,s.targetId,!0))}async function _J(t,e){const n=ze(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),oE(n.remoteStore,r.targetId))}async function EJ(t,e,n){const r=IJ(t);try{const s=await function(l,c){const d=ze(l),h=ct.now(),m=c.reduce((_,E)=>_.add(E.key),nt());let y,b;return d.persistence.runTransaction("Locally write mutations","readwrite",_=>{let E=aa(),T=nt();return d.Os.getEntries(_,m).next(R=>{E=R,E.forEach((N,P)=>{P.isValidDocument()||(T=T.add(N))})}).next(()=>d.localDocuments.getOverlayedDocuments(_,E)).next(R=>{y=R;const N=[];for(const P of c){const M=zQ(P,y.get(P.key).overlayedDocument);M!=null&&N.push(new To(P.key,M,p5(M.value.mapValue),cn.exists(!0)))}return d.mutationQueue.addMutationBatch(_,h,N,c)}).next(R=>{b=R;const N=R.applyToLocalDocumentSet(y,T);return d.documentOverlayCache.saveOverlays(_,R.batchId,N)})}).then(()=>({batchId:b.batchId,changes:R5(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,c,d){let h=l.Ru[l.currentUser.toKey()];h||(h=new zt(Xe)),h=h.insert(c,d),l.Ru[l.currentUser.toKey()]=h}(r,s.batchId,n),await vh(r,s.changes),await vv(r.remoteStore)}catch(s){const a=fE(s,"Failed to persist write");n.reject(a)}}async function lO(t,e){const n=ze(t);try{const r=await jZ(n.localStore,e);e.targetChanges.forEach((s,a)=>{const l=n.Eu.get(a);l&&(ot(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.lu=!0:s.modifiedDocuments.size>0?ot(l.lu,14607):s.removedDocuments.size>0&&(ot(l.lu,42227),l.lu=!1))}),await vh(n,r,e)}catch(r){await Ec(r)}}function X2(t,e,n){const r=ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((a,l)=>{const c=l.view.va(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const d=ze(l);d.onlineState=c;let h=!1;d.queries.forEach((m,y)=>{for(const b of y.wa)b.va(c)&&(h=!0)}),h&&pE(d)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function SJ(t,e,n){const r=ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),a=s&&s.key;if(a){let l=new zt(Ne.comparator);l=l.insert(a,Nn.newNoDocument(a,Le.min()));const c=nt().add(a),d=new mv(Le.min(),new Map,new zt(Xe),l,c);await lO(r,d),r.du=r.du.remove(a),r.Eu.delete(e),yE(r)}else await Zw(r.localStore,e,!1).then(()=>tx(r,e,n)).catch(Ec)}async function TJ(t,e){const n=ze(t),r=e.batch.batchId;try{const s=await OZ(n.localStore,e);cO(n,r,null),uO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vh(n,s)}catch(s){await Ec(s)}}async function RJ(t,e,n){const r=ze(t);try{const s=await function(l,c){const d=ze(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return d.mutationQueue.lookupMutationBatch(h,c).next(y=>(ot(y!==null,37113),m=y.keys(),d.mutationQueue.removeMutationBatch(h,y))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>d.localDocuments.getDocuments(h,m))})}(r.localStore,e);cO(r,e,n),uO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vh(r,s)}catch(s){await Ec(s)}}function uO(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function cO(t,e,n){const r=ze(t);let s=r.Ru[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function tx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||dO(t,r)})}function dO(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(oE(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),yE(t))}function Q2(t,e,n){for(const r of n)r instanceof iO?(t.Au.addReference(r.key,e),AJ(t,r)):r instanceof aO?(ve(vE,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||dO(t,r.key)):Pe(19791,{yu:r})}function AJ(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(ve(vE,"New document in limbo: "+n),t.Iu.add(r),yE(t))}function yE(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Ne(_t.fromString(e)),r=t.mu.next();t.Eu.set(r,new gJ(n)),t.du=t.du.insert(n,r),J5(t.remoteStore,new Xa(ti(uv(n.path)),r,"TargetPurposeLimboResolution",ov.ue))}}async function vh(t,e,n){const r=ze(t),s=[],a=[],l=[];r.Pu.isEmpty()||(r.Pu.forEach((c,d)=>{l.push(r.gu(d,e,n).then(h=>{var m;if((h||n)&&r.isPrimaryClient){const y=h?!h.fromCache:(m=n?.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(h){s.push(h);const y=sE.Es(d.targetId,h);a.push(y)}}))}),await Promise.all(l),r.hu.J_(s),await async function(d,h){const m=ze(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>de.forEach(h,b=>de.forEach(b.Is,_=>m.persistence.referenceDelegate.addReference(y,b.targetId,_)).next(()=>de.forEach(b.ds,_=>m.persistence.referenceDelegate.removeReference(y,b.targetId,_)))))}catch(y){if(!Sc(y))throw y;ve(iE,"Failed to update sequence numbers: "+y)}for(const y of h){const b=y.targetId;if(!y.fromCache){const _=m.Fs.get(b),E=_.snapshotVersion,T=_.withLastLimboFreeSnapshotVersion(E);m.Fs=m.Fs.insert(b,T)}}}(r.localStore,a))}async function CJ(t,e){const n=ze(t);if(!n.currentUser.isEqual(e)){ve(vE,"User change. New user:",e.toKey());const r=await X5(n.localStore,e);n.currentUser=e,function(a,l){a.Vu.forEach(c=>{c.forEach(d=>{d.reject(new pe(ae.CANCELLED,l))})}),a.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vh(n,r.Bs)}}function NJ(t,e){const n=ze(t),r=n.Eu.get(e);if(r&&r.lu)return nt().add(r.key);{let s=nt();const a=n.Tu.get(e);if(!a)return s;for(const l of a){const c=n.Pu.get(l);s=s.unionWith(c.view.tu)}return s}}function fO(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SJ.bind(null,e),e.hu.J_=fJ.bind(null,e.eventManager),e.hu.pu=hJ.bind(null,e.eventManager),e}function IJ(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RJ.bind(null,e),e}class wg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pv(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return DZ(this.persistence,new PZ,e.initialUser,this.serializer)}Du(e){return new Y5(rE.Vi,this.serializer)}bu(e){return new zZ}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wg.provider={build:()=>new wg};class PJ extends wg{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ot(this.persistence.referenceDelegate instanceof yg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gZ(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?vr.withCacheSize(this.cacheSizeBytes):vr.DEFAULT;return new Y5(r=>yg.Vi(r,n),this.serializer)}}class nx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>X2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CJ.bind(null,this.syncEngine),await uJ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dJ}()}createDatastore(e){const n=pv(e.databaseInfo.databaseId),r=function(a){return new qZ(a)}(e.databaseInfo);return function(a,l,c,d){return new XZ(a,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,l,c){return new ZZ(r,s,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>X2(this.syncEngine,n,0),function(){return G2.C()?new G2:new $Z}())}createSyncEngine(e,n){return function(s,a,l,c,d,h,m){const y=new vJ(s,a,l,c,d,h);return m&&(y.fu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=ze(s);ve(Ml,"RemoteStore shutting down."),a.Ia.add(5),await gh(a),a.Ea.shutdown(),a.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}nx.provider={build:()=>new nx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ia("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kJ{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new pe(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(s,a){const l=ze(s),c={documents:a.map(y=>vg(l.serializer,y))},d=await l.Jo("BatchGetDocuments",l.serializer.databaseId,_t.emptyPath(),c,a.length),h=new Map;d.forEach(y=>{const b=JQ(l.serializer,y);h.set(b.key.toString(),b)});const m=[];return a.forEach(y=>{const b=h.get(y.toString());ot(!!b,55234,{key:y}),m.push(b)}),m}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new mh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=Ne.fromPath(r);this.mutations.push(new O5(s,this.precondition(s)))}),await async function(r,s){const a=ze(r),l={writes:s.map(c=>G5(a.serializer,c))};await a.Wo("Commit",a.serializer.databaseId,_t.emptyPath(),l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Pe(50498,{Wu:e.constructor.name});n=Le.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new pe(ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Le.min())?cn.exists(!1):cn.updateTime(n):cn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Le.min()))throw new pe(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(n)}return cn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MJ{constructor(e,n,r,s,a){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=a,this.Gu=r.maxAttempts,this.F_=new aE(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_(async()=>{const e=new kJ(this.datastore),n=this.Ju(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.Hu(s)}))}).catch(r=>{this.Hu(r)})})}Ju(e){try{const n=this.updateFunction(e);return!fh(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget(()=>(this.ju(),Promise.resolve()))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!j5(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo="FirestoreClient";class DJ{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Xn.UNAUTHENTICATED,this.clientId=q_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{ve(yo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ve(yo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=fE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Tb(t,e){t.asyncQueue.verifyOperationInProgress(),ve(yo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await X5(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{fo("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{ve("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{fo("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function Z2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await OJ(t);ve(yo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>q2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>q2(e.remoteStore,s)),t._onlineComponents=e}async function OJ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(yo,"Using user provided OfflineComponentProvider");try{await Tb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ae.FAILED_PRECONDITION||s.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await Tb(t,new wg)}}else ve(yo,"Using default OfflineComponentProvider"),await Tb(t,new PJ(void 0));return t._offlineComponents}async function wE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(yo,"Using user provided OnlineComponentProvider"),await Z2(t,t._uninitializedComponentsProvider._online)):(ve(yo,"Using default OnlineComponentProvider"),await Z2(t,new nx))),t._onlineComponents}function jJ(t){return wE(t).then(e=>e.syncEngine)}function LJ(t){return wE(t).then(e=>e.datastore)}async function xg(t){const e=await wE(t),n=e.eventManager;return n.onListen=yJ.bind(null,e.syncEngine),n.onUnlisten=xJ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bJ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_J.bind(null,e.syncEngine),n}function VJ(t,e,n={}){const r=new ei;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,d,h){const m=new bE({next:b=>{m.Ou(),l.enqueueAndForget(()=>mE(a,y));const _=b.docs.has(c);!_&&b.fromCache?h.reject(new pe(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&d&&d.source==="server"?h.reject(new pe(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(b)},error:b=>h.reject(b)}),y=new gE(uv(c.path),m,{includeMetadataChanges:!0,ka:!0});return hE(a,y)}(await xg(t),t.asyncQueue,e,n,r)),r.promise}function UJ(t,e,n={}){const r=new ei;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,d,h){const m=new bE({next:b=>{m.Ou(),l.enqueueAndForget(()=>mE(a,y)),b.fromCache&&d.source==="server"?h.reject(new pe(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(b)},error:b=>h.reject(b)}),y=new gE(c,m,{includeMetadataChanges:!0,ka:!0});return hE(a,y)}(await xg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="firestore.googleapis.com",eN=!0;class tN{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mO,this.ssl=eN}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:eN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=K5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mZ)throw new pe(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yv{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tN(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new GX;switch(r.type){case"firstParty":return new KX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=J2.get(n);r&&(ve("ComponentProvider","Removing Datastore"),J2.delete(n),r.terminate())}(this),Promise.resolve()}}function FJ(t,e,n,r={}){var s;t=Jn(t,yv);const a=Eo(e),l=t._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;a&&(I_(`https://${d}`),P_("Firestore",!0)),l.host!==mO&&l.host!==d&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},l),{host:d,ssl:a,emulatorOptions:r});if(!Nl(h,c)&&(t._setSettings(h),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=Xn.MOCK_USER;else{m=hD(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new pe(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Xn(b)}t._authCredentials=new HX(new n5(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class Ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new no(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(dh(n,Ft._jsonSchema))return new Ft(e,r||null,new Ne(_t.fromString(n.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:dn("string",Ft._jsonSchemaVersion),referencePath:dn("string")};class no extends la{constructor(e,n,r){super(e,n,uv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new Ne(e))}withConverter(e){return new no(this.firestore,e,this._path)}}function Tt(t,e,...n){if(t=Rt(t),s5("collection","path",e),t instanceof yv){const r=_t.fromString(e,...n);return m2(r),new no(t,null,r)}{if(!(t instanceof Ft||t instanceof no))throw new pe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return m2(r),new no(t.firestore,null,r)}}function jt(t,e,...n){if(t=Rt(t),arguments.length===1&&(e=q_.newId()),s5("doc","path",e),t instanceof yv){const r=_t.fromString(e,...n);return h2(r),new Ft(t,null,new Ne(r))}{if(!(t instanceof Ft||t instanceof no))throw new pe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_t.fromString(e,...n));return h2(r),new Ft(t.firestore,t instanceof no?t.converter:null,new Ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="AsyncQueue";class rN{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new aE(this,"async_queue_retry"),this.oc=()=>{const r=Sb();r&&ve(nN,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Sb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Sb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new ei;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Sc(e))throw e;ve(nN,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ia("INTERNAL UNHANDLED ERROR: ",sN(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=dE.createAndSchedule(this,e,n,r,a=>this.lc(a));return this.ec.push(s),s}ac(){this.tc&&Pe(47125,{hc:sN(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function sN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1}(t,["next","error","complete"])}class xs extends yv{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new rN,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rN(e),this._firestoreClient=void 0,await e}}}function yh(t,e){const n=typeof t=="object"?t:D_(),r=typeof t=="string"?t:dg,s=nv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=cD("firestore");a&&FJ(s,...a)}return s}function Ac(t){if(t._terminated)throw new pe(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zJ(t),t._firestoreClient}function zJ(t){var e,n,r;const s=t._freezeSettings(),a=function(c,d,h,m){return new dQ(c,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,hO(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new DJ(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(c){const d=c?._online.build();return{_offline:c?._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pr($n.fromBase64String(e))}catch(n){throw new pe(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pr($n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dh(e,Pr._jsonSchema))return Pr.fromBase64String(e.bytes)}}Pr._jsonSchemaVersion="firestore/bytes/1.0",Pr._jsonSchema={type:dn("string",Pr._jsonSchemaVersion),bytes:dn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ni._jsonSchemaVersion}}static fromJSON(e){if(dh(e,ni._jsonSchema))return new ni(e.latitude,e.longitude)}}ni._jsonSchemaVersion="firestore/geoPoint/1.0",ni._jsonSchema={type:dn("string",ni._jsonSchemaVersion),latitude:dn("number"),longitude:dn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dh(e,ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ri(e.vectorValues);throw new pe(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:dn("string",ri._jsonSchemaVersion),vectorValues:dn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $J=/^__.*__$/;class BJ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new To(e,this.data,this.fieldMask,n,this.fieldTransforms):new hh(e,this.data,n,this.fieldTransforms)}}class pO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new To(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ec:t})}}class xE{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Ac(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new xE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return _g(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(gO(this.Ec)&&$J.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class GJ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pv(e)}Dc(e,n,r,s=!1){return new xE({Ec:e,methodName:n,bc:r,path:Fn.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nc(t){const e=t._freezeSettings(),n=pv(t._databaseId);return new GJ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wv(t,e,n,r,s,a={}){const l=t.Dc(a.merge||a.mergeFields?2:0,e,n,s);TE("Data must be an object, but it was:",l,r);const c=vO(r,l);let d,h;if(a.merge)d=new kr(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const y of a.mergeFields){const b=rx(e,y,n);if(!l.contains(b))throw new pe(ae.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);bO(m,b)||m.push(b)}d=new kr(m),h=l.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,h=l.fieldTransforms;return new BJ(new ur(c),d,h)}class xv extends bv{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xv}}class _E extends bv{_toFieldTransform(e){return new LQ(e.path,new Vf)}isEqual(e){return e instanceof _E}}function EE(t,e,n,r){const s=t.Dc(1,e,n);TE("Data must be an object, but it was:",s,r);const a=[],l=ur.empty();So(r,(d,h)=>{const m=RE(e,d,n);h=Rt(h);const y=s.gc(m);if(h instanceof xv)a.push(m);else{const b=bh(h,y);b!=null&&(a.push(m),l.set(m,b))}});const c=new kr(a);return new pO(l,c,s.fieldTransforms)}function SE(t,e,n,r,s,a){const l=t.Dc(1,e,n),c=[rx(e,r,n)],d=[s];if(a.length%2!=0)throw new pe(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<a.length;b+=2)c.push(rx(e,a[b])),d.push(a[b+1]);const h=[],m=ur.empty();for(let b=c.length-1;b>=0;--b)if(!bO(h,c[b])){const _=c[b];let E=d[b];E=Rt(E);const T=l.gc(_);if(E instanceof xv)h.push(_);else{const R=bh(E,T);R!=null&&(h.push(_),m.set(_,R))}}const y=new kr(h);return new pO(m,y,l.fieldTransforms)}function HJ(t,e,n,r=!1){return bh(n,t.Dc(r?4:3,e))}function bh(t,e){if(yO(t=Rt(t)))return TE("Unsupported field value:",e,t),vO(t,e);if(t instanceof bv)return function(r,s){if(!gO(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const c of r){let d=bh(c,s.yc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=Rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DQ(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=ct.fromDate(r);return{timestampValue:gg(s.serializer,a)}}if(r instanceof ct){const a=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gg(s.serializer,a)}}if(r instanceof ni)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pr)return{bytesValue:F5(s.serializer,r._byteString)};if(r instanceof Ft){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:tE(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ri)return function(l,c){return{mapValue:{fields:{[h5]:{stringValue:m5},[fg]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw c.wc("VectorValues must only contain numeric values.");return Z_(c.serializer,h)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${av(r)}`)}(t,e)}function vO(t,e){const n={};return o5(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):So(t,(r,s)=>{const a=bh(s,e.Vc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function yO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof ni||t instanceof Pr||t instanceof Ft||t instanceof bv||t instanceof ri)}function TE(t,e,n){if(!yO(n)||!i5(n)){const r=av(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function rx(t,e,n){if((e=Rt(e))instanceof Cc)return e._internalPath;if(typeof e=="string")return RE(t,e);throw _g("Field path arguments must be of type string or ",t,!1,void 0,n)}const qJ=new RegExp("[~\\*/\\[\\]]");function RE(t,e,n){if(e.search(qJ)>=0)throw _g(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cc(...e.split("."))._internalPath}catch{throw _g(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _g(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new pe(ae.INVALID_ARGUMENT,c+t+d)}function bO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_v("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WJ extends Eg{data(){return super.data()}}function _v(t,e){return typeof e=="string"?RE(t,e):e instanceof Cc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AE{}class CE extends AE{}function Ge(t,e,...n){let r=[];e instanceof AE&&r.push(e),r=r.concat(n),function(a){const l=a.filter(d=>d instanceof NE).length,c=a.filter(d=>d instanceof Ev).length;if(l>1||l>0&&c>0)throw new pe(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Ev extends CE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ev(e,n,r)}_apply(e){const n=this._parse(e);return xO(e._query,n),new la(e.firestore,e.converter,Kw(e._query,n))}_parse(e){const n=Nc(e.firestore);return function(a,l,c,d,h,m,y){let b;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new pe(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){oN(y,m);const E=[];for(const T of y)E.push(aN(d,a,T));b={arrayValue:{values:E}}}else b=aN(d,a,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||oN(y,m),b=HJ(c,l,y,m==="in"||m==="not-in");return un.create(h,m,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ee(t,e,n){const r=e,s=_v("where",t);return Ev._create(s,r,n)}class NE extends AE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new NE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ws.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,a){let l=s;const c=a.getFlattenedFilters();for(const d of c)xO(l,d),l=Kw(l,d)}(e._query,n),new la(e.firestore,e.converter,Kw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class IE extends CE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new IE(e,n)}_apply(e){const n=function(s,a,l){if(s.startAt!==null)throw new pe(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new pe(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lf(a,l)}(e._query,this._field,this._direction);return new la(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new Tc(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function cr(t,e="asc"){const n=e,r=_v("orderBy",t);return IE._create(r,n)}class PE extends CE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new PE(e,n,r)}_apply(e){return new la(e.firestore,e.converter,mg(e._query,this._limit,this._limitType))}}function It(t){return eQ("limit",t),PE._create("limit",t,"F")}function aN(t,e,n){if(typeof(n=Rt(n))=="string"){if(n==="")throw new pe(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_5(e)&&n.indexOf("/")!==-1)throw new pe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(_t.fromString(n));if(!Ne.isDocumentKey(r))throw new pe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _2(t,new Ne(r))}if(n instanceof Ft)return _2(t,n._key);throw new pe(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${av(n)}.`)}function oN(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xO(t,e){const n=function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _O{convertValue(e,n="none"){switch(go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return So(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[fg].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>Jt(l.doubleValue));return new ri(a)}convertGeoPoint(e){return new ni(Jt(e.latitude),Jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Df(e));default:return null}}convertTimestamp(e){const n=mo(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_t.fromString(e);ot(W5(r),9688,{name:e});const s=new Of(r.get(1),r.get(3)),a=new Ne(r.popFirst(5));return s.isEqual(n)||ia(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class KJ extends _O{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}class Wu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ro extends Eg{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_v("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ro._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ro._jsonSchemaVersion="firestore/documentSnapshot/1.0",ro._jsonSchema={type:dn("string",ro._jsonSchemaVersion),bundleSource:dn("string","DocumentSnapshot"),bundleName:dn("string"),bundle:dn("string")};class Dp extends ro{data(e={}){return super.data(e)}}class Tl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Wu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Dp(this._firestore,this._userDataWriter,r.key,r,new Wu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const d=new Dp(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Wu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const d=new Dp(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Wu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,m=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:YJ(c.type),doc:d,oldIndex:h,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Tl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=q_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function YJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){t=Jn(t,Ft);const e=Jn(t.firestore,xs);return VJ(Ac(e),t._key).then(n=>TO(e,t,n))}Tl._jsonSchemaVersion="firestore/querySnapshot/1.0",Tl._jsonSchema={type:dn("string",Tl._jsonSchemaVersion),bundleSource:dn("string","QuerySnapshot"),bundleName:dn("string"),bundle:dn("string")};class Tv extends _O{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function We(t){t=Jn(t,la);const e=Jn(t.firestore,xs),n=Ac(e),r=new Tv(e);return wO(t._query),UJ(n,t._query).then(s=>new Tl(e,r,t,s))}function EO(t,e,n){t=Jn(t,Ft);const r=Jn(t.firestore,xs),s=Sv(t.converter,e,n);return wh(r,[wv(Nc(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,cn.none())])}function wr(t,e,n,...r){t=Jn(t,Ft);const s=Jn(t.firestore,xs),a=Nc(s);let l;return l=typeof(e=Rt(e))=="string"||e instanceof Cc?SE(a,"updateDoc",t._key,e,n,r):EE(a,"updateDoc",t._key,e),wh(s,[l.toMutation(t._key,cn.exists(!0))])}function Fi(t){return wh(Jn(t.firestore,xs),[new mh(t._key,cn.none())])}function SO(t,e){const n=Jn(t.firestore,xs),r=jt(t),s=Sv(t.converter,e);return wh(n,[wv(Nc(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,cn.exists(!1))]).then(()=>r)}function XJ(t,...e){var n,r,s;t=Rt(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||iN(e[l])||(a=e[l++]);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(iN(e[l])){const y=e[l];e[l]=(n=y.next)===null||n===void 0?void 0:n.bind(y),e[l+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[l+2]=(s=y.complete)===null||s===void 0?void 0:s.bind(y)}let d,h,m;if(t instanceof Ft)h=Jn(t.firestore,xs),m=uv(t._key.path),d={next:y=>{e[l]&&e[l](TO(h,t,y))},error:e[l+1],complete:e[l+2]};else{const y=Jn(t,la);h=Jn(y.firestore,xs),m=y._query;const b=new Tv(h);d={next:_=>{e[l]&&e[l](new Tl(h,b,y,_))},error:e[l+1],complete:e[l+2]},wO(t._query)}return function(b,_,E,T){const R=new bE(T),N=new gE(_,R,E);return b.asyncQueue.enqueueAndForget(async()=>hE(await xg(b),N)),()=>{R.Ou(),b.asyncQueue.enqueueAndForget(async()=>mE(await xg(b),N))}}(Ac(h),m,c,d)}function wh(t,e){return function(r,s){const a=new ei;return r.asyncQueue.enqueueAndForget(async()=>EJ(await jJ(r),s,a)),a.promise}(Ac(t),e)}function TO(t,e,n){const r=n.docs.get(e._key),s=new Tv(t);return new ro(t,s,e._key,r,new Wu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QJ={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZJ{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Nc(e)}set(e,n,r){this._verifyNotCommitted();const s=Qa(e,this._firestore),a=Sv(s.converter,n,r),l=wv(this._dataReader,"WriteBatch.set",s._key,a,s.converter!==null,r);return this._mutations.push(l.toMutation(s._key,cn.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const a=Qa(e,this._firestore);let l;return l=typeof(n=Rt(n))=="string"||n instanceof Cc?SE(this._dataReader,"WriteBatch.update",a._key,n,r,s):EE(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(l.toMutation(a._key,cn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Qa(e,this._firestore);return this._mutations=this._mutations.concat(new mh(n._key,cn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new pe(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qa(t,e){if((t=Rt(t)).firestore!==e)throw new pe(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JJ{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Nc(e)}get(e){const n=Qa(e,this._firestore),r=new KJ(this._firestore);return this._transaction.lookup([n._key]).then(s=>{if(!s||s.length!==1)return Pe(24041);const a=s[0];if(a.isFoundDocument())return new Eg(this._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new Eg(this._firestore,r,n._key,null,n.converter);throw Pe(18433,{doc:a})})}set(e,n,r){const s=Qa(e,this._firestore),a=Sv(s.converter,n,r),l=wv(this._dataReader,"Transaction.set",s._key,a,s.converter!==null,r);return this._transaction.set(s._key,l),this}update(e,n,r,...s){const a=Qa(e,this._firestore);let l;return l=typeof(n=Rt(n))=="string"||n instanceof Cc?SE(this._dataReader,"Transaction.update",a._key,n,r,s):EE(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,l),this}delete(e){const n=Qa(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eee extends JJ{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Qa(e,this._firestore),r=new Tv(this._firestore);return super.get(e).then(s=>new ro(this._firestore,r,n._key,s._document,new Wu(!1,!1),n.converter))}}function Xse(t,e,n){t=Jn(t,xs);const r=Object.assign(Object.assign({},QJ),n);return function(a){if(a.maxAttempts<1)throw new pe(ae.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(a,l,c){const d=new ei;return a.asyncQueue.enqueueAndForget(async()=>{const h=await LJ(a);new MJ(a.asyncQueue,h,c,l,d).zu()}),d.promise}(Ac(t),s=>e(new eee(t,s)),r)}function fr(){return new _E("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qse(t){return Ac(t=Jn(t,xs)),new ZJ(t,e=>wh(t,e))}(function(e,n=!0){(function(s){_c=s})(Ul),Il(new co("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new xs(new qX(r.getProvider("auth-internal")),new YX(l,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new pe(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Of(h.options.projectId,m)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Zs(l2,u2,e),Zs(l2,u2,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="firebasestorage.googleapis.com",AO="storageBucket",tee=2*60*1e3,nee=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt extends ci{constructor(e,n,r=0){super(Rb(e),`Firebase Storage: ${n} (${Rb(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ht;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ht||(Ht={}));function Rb(t){return"storage/"+t}function kE(){const t="An unknown error occurred, please check the error payload for server response.";return new Wt(Ht.UNKNOWN,t)}function ree(t){return new Wt(Ht.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function see(t){return new Wt(Ht.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function iee(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Wt(Ht.UNAUTHENTICATED,t)}function aee(){return new Wt(Ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function oee(t){return new Wt(Ht.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function lee(){return new Wt(Ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uee(){return new Wt(Ht.CANCELED,"User canceled the upload/download.")}function cee(t){return new Wt(Ht.INVALID_URL,"Invalid URL '"+t+"'.")}function dee(t){return new Wt(Ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function fee(){return new Wt(Ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+AO+"' property when initializing the app?")}function hee(){return new Wt(Ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mee(){return new Wt(Ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function pee(t){return new Wt(Ht.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function sx(t){return new Wt(Ht.INVALID_ARGUMENT,t)}function CO(){return new Wt(Ht.APP_DELETED,"The Firebase app was deleted.")}function gee(t){return new Wt(Ht.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vf(t,e){return new Wt(Ht.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function $d(t){throw new Wt(Ht.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Mr.makeFromUrl(e,n)}catch{return new Mr(e,"")}if(r.path==="")return r;throw dee(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function h(F){F.path_=decodeURIComponent(F.path)}const m="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",_=new RegExp(`^https?://${y}/${m}/b/${s}/o${b}`,"i"),E={bucket:1,path:3},T=n===RO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",N=new RegExp(`^https?://${T}/${s}/${R}`,"i"),M=[{regex:c,indices:d,postModify:a},{regex:_,indices:E,postModify:h},{regex:N,indices:{bucket:1,path:2},postModify:h}];for(let F=0;F<M.length;F++){const $=M[F],X=$.regex.exec(e);if(X){const O=X[$.indices.bucket];let I=X[$.indices.path];I||(I=""),r=new Mr(O,I),$.postModify(r);break}}if(r==null)throw cee(e);return r}}class vee{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yee(t,e,n){let r=1,s=null,a=null,l=!1,c=0;function d(){return c===2}let h=!1;function m(...R){h||(h=!0,e.apply(null,R))}function y(R){s=setTimeout(()=>{s=null,t(_,d())},R)}function b(){a&&clearTimeout(a)}function _(R,...N){if(h){b();return}if(R){b(),m.call(null,R,...N);return}if(d()||l){b(),m.call(null,R,...N);return}r<64&&(r*=2);let M;c===1?(c=2,M=0):M=(r+Math.random())*1e3,y(M)}let E=!1;function T(R){E||(E=!0,b(),!h&&(s!==null?(R||(c=2),clearTimeout(s),y(0)):R||(c=1)))}return y(0),a=setTimeout(()=>{l=!0,T(!0)},n),T}function bee(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wee(t){return t!==void 0}function xee(t){return typeof t=="object"&&!Array.isArray(t)}function ME(t){return typeof t=="string"||t instanceof String}function lN(t){return DE()&&t instanceof Blob}function DE(){return typeof Blob<"u"}function uN(t,e,n,r){if(r<e)throw sx(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw sx(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function NO(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Rl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Rl||(Rl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ee(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eee{constructor(e,n,r,s,a,l,c,d,h,m,y,b=!0,_=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=m,this.connectionFactory_=y,this.retry=b,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,T)=>{this.resolve_=E,this.reject_=T,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new dp(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const d=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===Rl.NO_ERROR,d=a.getStatus();if(!c||_ee(d,this.additionalRetryCodes_)&&this.retry){const m=a.getErrorCode()===Rl.ABORT;r(!1,new dp(!1,null,m));return}const h=this.successCodes_.indexOf(d)!==-1;r(!0,new dp(h,a))})},n=(r,s)=>{const a=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());wee(d)?a(d):a()}catch(d){l(d)}else if(c!==null){const d=kE();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(s.canceled){const d=this.appDelete_?CO():uee();l(d)}else{const d=lee();l(d)}};this.canceled_?n(!1,new dp(!1,null,!0)):this.backoffId_=yee(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bee(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function See(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Tee(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ree(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Aee(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Cee(t,e,n,r,s,a,l=!0,c=!1){const d=NO(t.urlParams),h=t.url+d,m=Object.assign({},t.headers);return Ree(m,e),See(m,n),Tee(m,a),Aee(m,r),new Eee(h,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nee(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Iee(...t){const e=Nee();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(DE())return new Blob(t);throw new Wt(Ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Pee(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kee(t){if(typeof atob>"u")throw pee("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ab{constructor(e,n){this.data=e,this.contentType=n||null}}function Mee(t,e){switch(t){case Ws.RAW:return new Ab(IO(e));case Ws.BASE64:case Ws.BASE64URL:return new Ab(PO(t,e));case Ws.DATA_URL:return new Ab(Oee(e),jee(e))}throw kE()}function IO(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Dee(t){let e;try{e=decodeURIComponent(t)}catch{throw vf(Ws.DATA_URL,"Malformed data URL.")}return IO(e)}function PO(t,e){switch(t){case Ws.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw vf(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ws.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw vf(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=kee(e)}catch(s){throw s.message.includes("polyfill")?s:vf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class kO{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw vf(Ws.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Lee(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Oee(t){const e=new kO(t);return e.base64?PO(Ws.BASE64,e.rest):Dee(e.rest)}function jee(t){return new kO(t).contentType}function Lee(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n){let r=0,s="";lN(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(lN(this.data_)){const r=this.data_,s=Pee(r,e,n);return s===null?null:new Wa(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Wa(r,!0)}}static getBlob(...e){if(DE()){const n=e.map(r=>r instanceof Wa?r.data_:r);return new Wa(Iee.apply(null,n))}else{const n=e.map(l=>ME(l)?Mee(Ws.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)s[a++]=l[c]}),new Wa(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t){let e;try{e=JSON.parse(t)}catch{return null}return xee(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vee(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Uee(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function DO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fee(t,e){return e}class or{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||Fee}}let fp=null;function zee(t){return!ME(t)||t.length<2?t:DO(t)}function OO(){if(fp)return fp;const t=[];t.push(new or("bucket")),t.push(new or("generation")),t.push(new or("metageneration")),t.push(new or("name","fullPath",!0));function e(a,l){return zee(l)}const n=new or("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const s=new or("size");return s.xform=r,t.push(s),t.push(new or("timeCreated")),t.push(new or("updated")),t.push(new or("md5Hash",null,!0)),t.push(new or("cacheControl",null,!0)),t.push(new or("contentDisposition",null,!0)),t.push(new or("contentEncoding",null,!0)),t.push(new or("contentLanguage",null,!0)),t.push(new or("contentType",null,!0)),t.push(new or("metadata","customMetadata",!0)),fp=t,fp}function $ee(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new Mr(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function Bee(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return $ee(r,t),r}function jO(t,e,n){const r=MO(e);return r===null?null:Bee(t,r,n)}function Gee(t,e,n,r){const s=MO(e);if(s===null||!ME(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(h=>{const m=t.bucket,y=t.fullPath,b="/b/"+l(m)+"/o/"+l(y),_=Rv(b,n,r),E=NO({alt:"media",token:h});return _+E})[0]}function Hee(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class OE{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t){if(!t)throw kE()}function qee(t,e){function n(r,s){const a=jO(t,s,e);return LO(a!==null),a}return n}function Wee(t,e){function n(r,s){const a=jO(t,s,e);return LO(a!==null),Gee(a,s,t.host,t._protocol)}return n}function VO(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=aee():s=iee():n.getStatus()===402?s=see(t.bucket):n.getStatus()===403?s=oee(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function UO(t){const e=VO(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=ree(t.path)),a.serverResponse=s.serverResponse,a}return n}function Kee(t,e,n){const r=e.fullServerUrl(),s=Rv(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,c=new OE(s,a,Wee(t,n),l);return c.errorHandler=UO(e),c}function Yee(t,e){const n=e.fullServerUrl(),r=Rv(n,t.host,t._protocol),s="DELETE",a=t.maxOperationRetryTime;function l(d,h){}const c=new OE(r,s,l,a);return c.successCodes=[200,204],c.errorHandler=UO(e),c}function Xee(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Qee(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Xee(null,e)),r}function Zee(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let M="";for(let F=0;F<2;F++)M=M+Math.random().toString().slice(2);return M}const d=c();l["Content-Type"]="multipart/related; boundary="+d;const h=Qee(e,r,s),m=Hee(h,n),y="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+d+`\r
Content-Type: `+h.contentType+`\r
\r
`,b=`\r
--`+d+"--",_=Wa.getBlob(y,r,b);if(_===null)throw hee();const E={name:h.fullPath},T=Rv(a,t.host,t._protocol),R="POST",N=t.maxUploadRetryTime,P=new OE(T,R,qee(t,n),N);return P.urlParams=E,P.headers=l,P.body=_.uploadData(),P.errorHandler=VO(e),P}class Jee{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Rl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Rl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Rl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,a){if(this.sent_)throw $d("cannot .send() more than once");if(Eo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $d("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $d("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw $d("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw $d("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class ete extends Jee{initXhr(){this.xhr_.responseType="text"}}function jE(){return new ete}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){this._service=e,n instanceof Mr?this._location=n:this._location=Mr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Dl(e,n)}get root(){const e=new Mr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DO(this._location.path)}get storage(){return this._service}get parent(){const e=Vee(this._location.path);if(e===null)return null;const n=new Mr(this._location.bucket,e);return new Dl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw gee(e)}}function tte(t,e,n){t._throwIfRoot("uploadBytes");const r=Zee(t.storage,t._location,OO(),new Wa(e,!0),n);return t.storage.makeRequestWithTokens(r,jE).then(s=>({metadata:s,ref:t}))}function nte(t){t._throwIfRoot("getDownloadURL");const e=Kee(t.storage,t._location,OO());return t.storage.makeRequestWithTokens(e,jE).then(n=>{if(n===null)throw mee();return n})}function rte(t){t._throwIfRoot("deleteObject");const e=Yee(t.storage,t._location);return t.storage.makeRequestWithTokens(e,jE)}function ste(t,e){const n=Uee(t._location.path,e),r=new Mr(t._location.bucket,n);return new Dl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ite(t){return/^[A-Za-z]+:\/\//.test(t)}function ate(t,e){return new Dl(t,e)}function FO(t,e){if(t instanceof LE){const n=t;if(n._bucket==null)throw fee();const r=new Dl(n,n._bucket);return e!=null?FO(r,e):r}else return e!==void 0?ste(t,e):t}function ote(t,e){if(e&&ite(e)){if(t instanceof LE)return ate(t,e);throw sx("To use ref(service, url), the first argument must be a Storage instance.")}else return FO(t,e)}function cN(t,e){const n=e?.[AO];return n==null?null:Mr.makeFromBucketSpec(n,t)}function lte(t,e,n,r={}){t.host=`${e}:${n}`;const s=Eo(e);s&&(I_(`https://${t.host}/b`),P_("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:hD(a,t.app.options.projectId))}class LE{constructor(e,n,r,s,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=RO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tee,this._maxUploadRetryTime=nee,this._requests=new Set,s!=null?this._bucket=Mr.makeFromBucketSpec(s,this._host):this._bucket=cN(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mr.makeFromBucketSpec(this._url,e):this._bucket=cN(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Dl(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new vee(CO());{const l=Cee(e,this._appId,r,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const dN="@firebase/storage",fN="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO="storage";function $O(t,e,n){return t=Rt(t),tte(t,e,n)}function BO(t){return t=Rt(t),nte(t)}function GO(t){return t=Rt(t),rte(t)}function Av(t,e){return t=Rt(t),ote(t,e)}function ute(t=D_(),e){t=Rt(t);const r=nv(t,zO).getImmediate({identifier:e}),s=cD("storage");return s&&cte(r,...s),r}function cte(t,e,n,r={}){lte(t,e,n,r)}function dte(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new LE(n,r,s,e,Ul)}function fte(){Il(new co(zO,dte,"PUBLIC").setMultipleInstances(!0)),Zs(dN,fN,""),Zs(dN,fN,"esm2017")}fte();const hte={BASE_URL:"/domino-gamer/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ENABLE_ANALYTICS:"true",VITE_FIREBASE_API_KEY:"AIzaSyC3Ox8ePVNmRALd0aSfXMOy2pfgNw6H45Y",VITE_FIREBASE_APP_ID:"1:960409936120:web:6fde8f4143c1981c621b0d",VITE_FIREBASE_AUTH_DOMAIN:"domino-federation.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-7DE9FKB4QP",VITE_FIREBASE_MESSAGING_SENDER_ID:"960409936120",VITE_FIREBASE_PROJECT_ID:"domino-federation",VITE_FIREBASE_STORAGE_BUCKET:"domino-federation.firebasestorage.app",VITE_MAX_QUERY_LIMIT:"50"},HO={firebase:{apiKey:"AIzaSyC3Ox8ePVNmRALd0aSfXMOy2pfgNw6H45Y",authDomain:"domino-federation.firebaseapp.com",projectId:"domino-federation",storageBucket:"domino-federation.firebasestorage.app",messagingSenderId:"960409936120",appId:"1:960409936120:web:6fde8f4143c1981c621b0d",measurementId:"G-7DE9FKB4QP"},maxQueryLimit:50},mte=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"],hN=mte.filter(t=>!hte[t]);hN.length>0&&(console.error("Missing required environment variables:",hN.join(", ")),console.error("Please check your .env file and ensure all required variables are set."));const VE=gD(HO.firebase),Ie=$X(VE),Be=yh(VE),xh=ute(VE),pte=new Gi,en=HO.maxQueryLimit,ix=Tt(Be,"users"),Qn=Tt(Be,"games"),qO=async()=>{try{const t=await QY(Ie,pte);return await WO(t.user),t.user}catch(t){return console.error("Error signing in with Google:",t),null}},WO=async t=>{const e=jt(Be,"users",t.uid),n=await Pt(e);if(!n.exists()){const r={uid:t.uid,displayName:t.displayName||"Anonymous Player",email:t.email||"",photoURL:t.photoURL||void 0,createdAt:ct.now(),stats:{gamesPlayed:0,gamesWon:0,totalPoints:0},hasSetUsername:!1};return await EO(e,r),r}return n.data()},Cv=async t=>{try{const e=jt(Be,"users",t),n=await Pt(e);return n.exists()?n.data():null}catch(e){return console.error("Error getting user profile:",e),null}},ax=async t=>{try{if(t.length<3)return[];const e=Ge(ix,Ee("username",">=",t.toLowerCase()),Ee("username","<=",t.toLowerCase()+""),It(en)),n=Ge(ix,Ee("displayName",">=",t),Ee("displayName","<=",t+""),It(en)),[r,s]=await Promise.all([We(e),We(n)]),a=new Map;return r.docs.forEach(l=>{const c=l.data();a.set(c.uid,c)}),s.docs.forEach(l=>{const c=l.data();a.set(c.uid,c)}),Array.from(a.values()).filter(l=>l.uid!==Ie.currentUser?.uid).slice(0,en)}catch(e){return console.error("Error searching users:",e),[]}},KO=async(t,e)=>{try{if(!Ie.currentUser)throw new Error("You must be logged in to create a game");if(await si(Ie.currentUser.uid))throw new Error("You cannot create a new game while you have an active game");if(await si(t))throw new Error("This player is already in an active game");const s={createdBy:Ie.currentUser.uid,opponent:t,createdAt:ct.now(),updatedAt:ct.now(),status:"invited",leagueId:e.leagueId,settings:{gameMode:e.gameMode,pointsToWin:e.pointsToWin,numberOfPlayers:e.numberOfPlayers,startingPlayer:e.startingPlayer,useBoricuaRules:e.useBoricuaRules,ruleset:e.ruleset}},a=await SO(Qn,s);return{...s,id:a.id}}catch(n){throw console.error("Error creating game:",n),n}},YO=async(t,e,n)=>{try{if(!Ie.currentUser)throw new Error("You must be logged in to create a game");if(await si(Ie.currentUser.uid))throw new Error("You cannot create a new game while you have an active game");for(const l of t)if(await si(l))throw new Error("Player is already in an active game");if(n?.team1){for(const l of n.team1)if(await si(l))throw new Error("Partner is already in an active game")}const s={createdBy:Ie.currentUser.uid,opponent:t[0],opponents:t,createdAt:ct.now(),updatedAt:ct.now(),status:"invited",leagueId:e.leagueId,teams:n?{team1:[Ie.currentUser.uid,...n.team1],team2:n.team2}:void 0,settings:{gameMode:e.gameMode,pointsToWin:e.pointsToWin,numberOfPlayers:e.numberOfPlayers,startingPlayer:e.startingPlayer,useBoricuaRules:e.useBoricuaRules,ruleset:e.ruleset}},a=await SO(Qn,s);return{...s,id:a.id}}catch(r){throw console.error("Error creating team game:",r),r}},gte=async t=>{try{const e=jt(Be,"games",t),n=await Pt(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){return console.error("Error getting game:",e),null}},vte=async()=>{try{if(!Ie.currentUser)return[];const t=Ie.currentUser.uid,e=Ge(Qn,Ee("createdBy","==",t),cr("updatedAt","desc"),It(en)),n=Ge(Qn,Ee("opponent","==",t),cr("updatedAt","desc"),It(en)),[r,s]=await Promise.all([We(e),We(n)]),a=new Map;[...r.docs,...s.docs].forEach(l=>{const c={id:l.id,...l.data()};a.set(l.id,c)});try{const l=Ge(Qn,Ee("opponents","array-contains",t),cr("updatedAt","desc"),It(en));(await We(l)).docs.forEach(d=>{const h={id:d.id,...d.data()};a.set(d.id,h)})}catch{}try{const l=Ge(Qn,Ee("teams.team1","array-contains",t),cr("updatedAt","desc"),It(en));(await We(l)).docs.forEach(d=>{const h={id:d.id,...d.data()};a.set(d.id,h)})}catch{}try{const l=Ge(Qn,Ee("teams.team2","array-contains",t),cr("updatedAt","desc"),It(en));(await We(l)).docs.forEach(d=>{const h={id:d.id,...d.data()};a.set(d.id,h)})}catch{}return Array.from(a.values()).sort((l,c)=>c.updatedAt.toMillis()-l.updatedAt.toMillis()).slice(0,en)}catch(t){return console.error("Error getting user games:",t),[]}},si=async t=>{try{const e=["accepted","in_progress","waiting_confirmation"],n=Ge(Qn,Ee("createdBy","==",t),Ee("status","in",e),It(1)),r=Ge(Qn,Ee("opponent","==",t),Ee("status","in",e),It(1)),[s,a]=await Promise.all([We(n),We(r)]);if(!s.empty||!a.empty)return!0;try{const l=Ge(Qn,Ee("opponents","array-contains",t),Ee("status","in",e),It(1));if(!(await We(l)).empty)return!0}catch{}try{const l=Ge(Qn,Ee("teams.team1","array-contains",t),Ee("status","in",e),It(1));if(!(await We(l)).empty)return!0}catch{}try{const l=Ge(Qn,Ee("teams.team2","array-contains",t),Ee("status","in",e),It(1));if(!(await We(l)).empty)return!0}catch{}return!1}catch(e){return console.error("Error checking active games:",e),!1}},XO=async()=>{try{if(!Ie.currentUser)return[];const t=Ie.currentUser.uid,e=Ge(Qn,Ee("opponent","==",t),Ee("status","==","invited"),cr("createdAt","desc"),It(en)),n=await We(e),r=new Map;n.docs.forEach(s=>{const a={id:s.id,...s.data()};r.set(s.id,a)});try{const s=Ge(Qn,Ee("opponents","array-contains",t),Ee("status","==","invited"),cr("createdAt","desc"),It(en));(await We(s)).docs.forEach(l=>{const c={id:l.id,...l.data()};r.set(l.id,c)})}catch{}try{const s=Ge(Qn,Ee("teams.team1","array-contains",t),Ee("status","==","invited"),cr("createdAt","desc"),It(en));(await We(s)).docs.forEach(l=>{const c={id:l.id,...l.data()};r.set(l.id,c)})}catch{}try{const s=Ge(Qn,Ee("teams.team2","array-contains",t),Ee("status","==","invited"),cr("createdAt","desc"),It(en));(await We(s)).docs.forEach(l=>{const c={id:l.id,...l.data()};r.set(l.id,c)})}catch{}return Array.from(r.values()).sort((s,a)=>a.createdAt.toMillis()-s.createdAt.toMillis()).slice(0,en)}catch(t){return console.error("Error fetching invitations:",t),[]}},yte=async t=>{try{if(!Ie.currentUser)throw new Error("You must be logged in to accept a game");const e=jt(Be,"games",t),n=await Pt(e);if(!n.exists())throw new Error("Game not found");const r=n.data();if(r.opponent!==Ie.currentUser.uid)throw new Error("You are not authorized to accept this invitation");if(r.status!=="invited")throw new Error("This game is not in invitation status");if(await si(r.opponent))throw new Error("You are already in an active game. Please finish that game before accepting a new invitation.");if(await si(r.createdBy))throw await wr(e,{status:"rejected",updatedAt:fr(),rejectionReason:"The game creator is already in an active game"}),new Error("Cannot accept: The game creator is already in an active game");await wr(e,{status:"accepted",updatedAt:fr(),activePlayer:r.settings.startingPlayer==="creator"?r.createdBy:r.settings.startingPlayer==="opponent"?r.opponent:Math.random()<.5?r.createdBy:r.opponent});const l=await Pt(e);return{id:l.id,...l.data()}}catch(e){throw console.error("Error accepting game invitation:",e),e}},bte=async(t,e)=>{try{if(!Ie.currentUser)throw new Error("You must be logged in to reject a game");const n=jt(Be,"games",t),r=await Pt(n);if(!r.exists())throw new Error("Game not found");const s=r.data();if(s.opponent!==Ie.currentUser.uid)throw new Error("You are not authorized to reject this invitation");if(s.status!=="invited")throw new Error("This game is not in invitation status");await wr(n,{status:"rejected",updatedAt:fr(),rejectionReason:e||"Invitation declined by opponent"});const a=await Pt(n);return{id:a.id,...a.data()}}catch(n){return console.error("Error rejecting game invitation:",n),null}},wte=async t=>{try{if(!Ie.currentUser)throw new Error("You must be logged in to start a game");const e=jt(Be,"games",t),n=await Pt(e);if(!n.exists())throw new Error("Game not found");const r=n.data(),s=Ie.currentUser.uid;if(r.createdBy!==s&&r.opponent!==s)throw new Error("You are not authorized to start this game");if(r.status!=="accepted")throw new Error("This game is not ready to start");const a=r.settings.startingPlayer==="creator"?r.createdBy:r.settings.startingPlayer==="opponent"?r.opponent:Math.random()<.5?r.createdBy:r.opponent;await wr(e,{status:"in_progress",updatedAt:fr(),activePlayer:a});const l=await Pt(e);return{id:l.id,...l.data()}}catch(e){throw console.error("Error starting game:",e),e}},xte=async(t,e,n)=>{try{if(!Ie.currentUser)throw new Error("You must be logged in to submit a score");const r=jt(Be,"games",t),s=await Pt(r);if(!s.exists())throw new Error("Game not found");const a=s.data(),l=Ie.currentUser.uid;if(a.createdBy!==l&&a.opponent!==l)throw new Error("You are not authorized to update this game");if(a.status!=="in_progress"&&a.status!=="accepted")throw new Error("This game is not in progress");if(a.activePlayer&&a.activePlayer!==l)throw new Error("It's not your turn to submit scores");if(e<0||n<0)throw new Error("Scores cannot be negative");if(Math.max(e,n)<a.settings.pointsToWin)throw new Error(`At least one player must reach ${a.settings.pointsToWin} points to end the game`);const d=e>n?a.createdBy:n>e?a.opponent:void 0,h={scores:{creator:e,opponent:n},status:"waiting_confirmation",updatedAt:fr(),winner:d,confirmedBy:l===a.createdBy?a.opponent:a.createdBy,activePlayer:null};await wr(r,h);const m=await Pt(r);return{id:m.id,...m.data()}}catch(r){throw console.error("Error submitting score:",r),r}},_te=async(t,e)=>{try{if(!Ie.currentUser)throw new Error("You must be logged in to confirm a game");const n=jt(Be,"games",t),r=await Pt(n);if(!r.exists())throw new Error("Game not found");const s=r.data(),a=Ie.currentUser.uid;if(s.confirmedBy!==a)throw new Error("You are not authorized to confirm this game");if(e)await wr(n,{status:"completed",updatedAt:fr(),confirmedBy:null,activePlayer:null,completedAt:fr()}),s.scores&&s.winner&&await Promise.all([mN(s.createdBy,s.scores.creator,s.winner===s.createdBy),mN(s.opponent,s.scores.opponent,s.winner===s.opponent)]);else{const c=a===s.createdBy?s.opponent:s.createdBy;await wr(n,{status:"in_progress",scores:{},winner:null,confirmedBy:null,activePlayer:c,updatedAt:fr()})}const l=await Pt(n);return{id:l.id,...l.data()}}catch(n){throw console.error("Error confirming game result:",n),n}},mN=async(t,e,n)=>{try{const r=jt(Be,"users",t),s=await Pt(r);if(!s.exists())return;const a=s.data(),l={gamesPlayed:(a.stats?.gamesPlayed||0)+1,gamesWon:(a.stats?.gamesWon||0)+(n?1:0),totalPoints:(a.stats?.totalPoints||0)+e,lastGameAt:fr(),winStreak:n?(a.stats?.winStreak||0)+1:0,maxWinStreak:n?Math.max((a.stats?.winStreak||0)+1,a.stats?.maxWinStreak||0):a.stats?.maxWinStreak||0};await wr(r,{stats:l}),await ZO()}catch(r){console.error("Error updating user stats:",r)}},QO=t=>t>=25?"Duro del 6":t>=15?"Tranquero":t>=8?"Matador":"Novice",ZO=async()=>{try{const t=Ge(ix,Ee("stats.gamesPlayed",">",0),It(en)),n=(await We(t)).docs.map(s=>({...s.data(),ref:s.ref}));n.sort((s,a)=>{if(a.stats.gamesWon!==s.stats.gamesWon)return a.stats.gamesWon-s.stats.gamesWon;if(a.stats.totalPoints!==s.stats.totalPoints)return a.stats.totalPoints-s.stats.totalPoints;const l=s.stats.gamesPlayed>0?s.stats.gamesWon/s.stats.gamesPlayed:0;return(a.stats.gamesPlayed>0?a.stats.gamesWon/a.stats.gamesPlayed:0)-l});const r=n.map((s,a)=>wr(s.ref,{"stats.globalRank":a+1,"stats.lastRankUpdate":fr()}));return await Promise.all(r),!0}catch(t){return console.error("Error updating global rankings:",t),!1}},JO=async()=>{try{const t=Ge(Tt(Be,"leagues"),Ee("status","==","active"),cr("name","asc"),It(en)),e=await We(t);if(e.empty)return[];const n=e.docs.map(m=>m.id),r=Promise.all(n.map(async m=>{try{const y=Ge(Tt(Be,"leagueSeasons"),Ee("leagueId","==",m),Ee("status","==","active")),b=await We(y);return{leagueId:m,seasonIds:b.docs.map(_=>_.data().seasonId)}}catch(y){return console.warn(`Error fetching seasons for league ${m}:`,y),{leagueId:m,seasonIds:[]}}})),s=Promise.all(n.map(async m=>{try{const y=await UE(m);return{leagueId:m,rankings:y}}catch(y){return console.warn(`Error fetching rankings for league ${m}:`,y),{leagueId:m,rankings:[]}}})),[a,l]=await Promise.all([r,s]),c=new Map(a.map(m=>[m.leagueId,m.seasonIds])),d=new Map(l.map(m=>[m.leagueId,m.rankings]));return e.docs.map(m=>{const y=m.data();return{id:m.id,name:y.name,description:y.description,photoURL:y.photoURL,createdAt:y.createdAt,status:y.status,currentSeason:y.currentSeason||"2024",seasonIds:c.get(m.id)||[],rankings:d.get(m.id)||[]}})}catch(t){return console.error("Error getting leagues with rankings:",t),[]}},UE=async t=>{try{const e=yh(),[n,r]=await Promise.all([We(Ge(Tt(e,"leagueMemberships"),Ee("leagueId","==",t),Ee("status","in",["active","inactive"]),It(en))),We(Ge(Tt(e,"games"),Ee("leagueId","==",t),Ee("status","==","completed"),It(en)))]),s=[],a=[];if(n.forEach(E=>{const T=E.data();s.push(T.userId),T.status==="active"&&a.push(T.userId)}),s.length===0)return[];const l=Object.fromEntries(s.map(E=>[E,{gamesPlayed:0,gamesWon:0,totalPoints:0,userId:E}]));r.forEach(E=>{const T=E.data(),R=l[T.createdBy],N=l[T.opponent];R&&N&&(R.gamesPlayed++,N.gamesPlayed++,T.winner===T.createdBy?(R.gamesWon++,R.totalPoints+=3):T.winner===T.opponent?(N.gamesWon++,N.totalPoints+=3):(R.totalPoints+=1,N.totalPoints+=1))});const c=a.filter(E=>l[E]);if(c.length===0)return[];const d=10,h=[];for(let E=0;E<c.length;E+=d){const T=c.slice(E,E+d);h.push(Promise.all(T.map(async R=>{try{const N=await Pt(jt(e,"users",R));if(N.exists()){const P=N.data();return{userId:R,displayName:P.displayName||P.username||R,username:P.username,photoURL:P.photoURL}}}catch(N){console.error(`Error fetching user ${R}:`,N)}return{userId:R,displayName:R,username:R,photoURL:void 0}})))}const y=(await Promise.all(h)).flat(),b=new Map(y.map(E=>[E.userId,E]));return c.map(E=>{const T=l[E],R=b.get(E),N=T.gamesPlayed>0?T.gamesWon/T.gamesPlayed*100:0;return{userId:T.userId,displayName:R?.displayName||T.userId,username:R?.username||T.userId,photoURL:R?.photoURL,gamesPlayed:T.gamesPlayed,gamesWon:T.gamesWon,totalPoints:T.totalPoints,winRate:N,rank:0}}).sort((E,T)=>T.totalPoints!==E.totalPoints?T.totalPoints-E.totalPoints:T.winRate!==E.winRate?T.winRate-E.winRate:T.gamesWon-E.gamesWon).map((E,T)=>({...E,rank:T+1}))}catch(e){return console.error("Error getting league rankings:",e),[]}},Ete=async()=>{try{if(!Ie.currentUser)return[];const t=Ge(Tt(Be,"leagueMemberships"),Ee("userId","==",Ie.currentUser.uid),Ee("status","==","active"),It(en)),n=(await We(t)).docs.map(a=>a.data().leagueId);if(n.length===0)return[];const r=Ge(Tt(Be,"leagues"),Ee("status","==","active"),It(en));return(await We(r)).docs.filter(a=>n.includes(a.id)).map(a=>({id:a.id,name:a.data().name,settings:a.data().settings,photoURL:a.data().photoURL||null,description:a.data().description||""}))}catch(t){return console.error("Error getting user leagues:",t),[]}},ej=async t=>{try{const e=Ge(Tt(Be,"leagueMemberships"),Ee("userId","==",t),Ee("status","==","active"),It(en)),r=(await We(e)).docs.map(l=>l.data().leagueId);if(r.length===0)return[];const s=r.map(async l=>{try{const c=await Pt(jt(Be,"leagues",l));if(!c.exists()||c.data().status!=="active")return null;const d=c.data(),h=await UE(l),m=h.find(y=>y.userId===t);return{id:l,name:d.name,settings:d.settings,photoURL:d.photoURL||null,description:d.description||null,rank:m?.rank,totalMembers:h.length}}catch(c){return console.error(`Error getting league ${l}:`,c),null}});return(await Promise.all(s)).filter(Boolean)}catch(e){return console.error("Error getting user leagues with ranking:",e),[]}},Ste=async t=>{try{const e=jt(Be,"leagues",t),n=await Pt(e);if(n.exists()){const r=n.data();return{id:n.id,name:r.name,photoURL:r.photoURL}}return null}catch(e){return console.error("Error getting league by ID:",e),null}},tj=async t=>{try{let e;return t||(e=Ge(Tt(Be,"seasons"),Ee("leagueId","==",null),cr("startDate","desc"))),(await We(e)).docs.map(r=>{const s=r.data();return{id:r.id,...s}})}catch(e){return console.error("Error getting seasons:",e),[]}},Tte=async t=>{try{let e;t?e=Ge(Tt(Be,"seasons"),Ee("leagueId","==",t),Ee("status","==","active"),cr("startDate","desc"),It(1)):e=Ge(Tt(Be,"seasons"),Ee("leagueId","==",null),Ee("status","==","active"),cr("startDate","desc"),It(1));const n=await We(e);if(!n.empty){const r=n.docs[0].data();return{id:n.docs[0].id,...r}}return null}catch(e){return console.error("Error getting current season:",e),null}},nj=async t=>{try{const e=Ge(Tt(Be,"leagueSeasons"),Ee("leagueId","==",t)),r=(await We(e)).docs.map(l=>l.data().seasonId);if(r.length===0)return[];const s=r.map(async l=>{const c=await Pt(jt(Be,"seasons",l));return c.exists()?{id:c.id,...c.data()}:null});return(await Promise.all(s)).filter(l=>l!==null)}catch(e){return console.error("Error getting league seasons:",e),[]}},FE=async t=>{try{const e=jt(Be,"leagues",t),n=await Pt(e);if(!n.exists())return!1;const s=n.data().status,a=await nj(t);if(a.length===0)return!1;const l=new Date;let c=s;return a.filter(h=>{const m=h.startDate.toDate(),y=h.endDate.toDate();return m<=l&&l<=y}).length>0?c="active":a.filter(m=>m.startDate.toDate()>l).sort((m,y)=>m.startDate.toMillis()-y.startDate.toMillis()).length>0?c="upcoming":c="completed",c!==s?(await wr(e,{status:c,updatedAt:fr(),lastStatusUpdate:fr(),statusUpdateReason:"automatic_season_based_update"}),console.log(`League ${t} status updated from ${s} to ${c}`),!0):!1}catch(e){return console.error(`Error updating league status for ${t}:`,e),!1}},rj=async()=>{try{const t=Ge(Tt(Be,"leagueSeasons"),Ee("status","==","active")),e=await We(t),n=[...new Set(e.docs.map(h=>h.data().leagueId))],r=new Set,s=n.map(async h=>{try{const m=jt(Be,"leagues",h);(await Pt(m)).exists()&&r.add(h)}catch{}});await Promise.all(s);const a=Array.from(r);let l=0,c=0;const d=10;for(let h=0;h<a.length;h+=d){const y=a.slice(h,h+d).map(async b=>{try{await FE(b)&&l++}catch{c++}});await Promise.all(y),h+d<a.length&&await new Promise(b=>setTimeout(b,100))}return{updated:l,errors:c,total:a.length}}catch(t){return console.error("Error in updateAllLeagueStatusesBySeasons:",t),{updated:0,errors:1,total:0}}},sj=async()=>{try{const t=Ge(Tt(Be,"leagueSeasons")),e=await We(t);let n=0,r=0;const s=10;for(let a=0;a<e.docs.length;a+=s){const c=e.docs.slice(a,a+s).map(async d=>{try{const m=d.data().leagueId,y=jt(Be,"leagues",m);(await Pt(y)).exists()||(await Fi(d.ref),n++)}catch(h){console.error(`Error cleaning up leagueSeason ${d.id}:`,h),r++}});await Promise.all(c),a+s<e.docs.length&&await new Promise(d=>setTimeout(d,200))}return{removed:n,errors:r}}catch(t){return console.error("Error in cleanupOrphanedLeagueSeasons:",t),{removed:0,errors:1}}},ij=async t=>{try{const e=jt(Be,"leagues",t),n=await Pt(e);if(!n.exists())throw new Error(`League ${t} not found`);const r=n.data(),s=r.status,a=r.lastStatusUpdate||r.updatedAt;if(a){const c=a.toDate();if((new Date().getTime()-c.getTime())/(1e3*60*60)<6)return s}return await FE(t),(await Pt(e)).data()?.status||s}catch(e){return console.error(`Error validating league status for ${t}:`,e),"active"}},Rte=async(t,e)=>{try{if(!t.type.startsWith("image/"))throw new Error("Please select a valid image file (JPG, PNG, GIF, WebP)");if(t.size>5*1024*1024)throw new Error("Image size must be less than 5MB");const n=Av(xh,`profile-images/${e}`),r=await $O(n,t),s=await BO(r.ref);Ie.currentUser&&await Fw(Ie.currentUser,{photoURL:s});const a=jt(Be,"users",e);return await wr(a,{photoURL:s,updatedAt:fr()}),s}catch(n){throw console.error("Error uploading profile image:",n),n.code==="storage/unauthorized"?new Error("Firebase Storage is not enabled or rules are not configured. Please check Firebase Console."):n.code==="storage/quota-exceeded"?new Error("Storage quota exceeded. Please contact support."):n.message&&n.message.includes("CORS")?new Error("Firebase Storage is not properly configured. Please enable Storage in Firebase Console."):n}},Ate=async t=>{try{const e=Av(xh,`profile-images/${t}`);await GO(e),Ie.currentUser&&await Fw(Ie.currentUser,{photoURL:null});const n=jt(Be,"users",t);await wr(n,{photoURL:null,updatedAt:fr()})}catch(e){if(e instanceof Error&&e.message.includes("object-not-found")){Ie.currentUser&&await Fw(Ie.currentUser,{photoURL:null});const n=jt(Be,"users",t);await wr(n,{photoURL:null,updatedAt:fr()})}else throw console.error("Error deleting profile image:",e),e}},Cte=async(t,e)=>{try{if(!t.type.startsWith("image/"))throw new Error("Please select a valid image file (JPG, PNG, GIF, WebP)");if(t.size>5*1024*1024)throw new Error("Image size must be less than 5MB");const n=Av(xh,`league-images/${e}`),r=await $O(n,t);return await BO(r.ref)}catch(n){throw console.error("Error uploading league image:",n),n.code==="storage/unauthorized"?new Error("Firebase Storage is not enabled or rules are not configured. Please check Firebase Console."):n.code==="storage/quota-exceeded"?new Error("Storage quota exceeded. Please contact support."):n.message&&n.message.includes("CORS")?new Error("Firebase Storage is not properly configured. Please enable Storage in Firebase Console."):n}},aj=async t=>{try{const e=Av(xh,`league-images/${t}`);await GO(e)}catch(e){if(e instanceof Error&&e.message.includes("object-not-found"))return;throw console.error("Error deleting league image:",e),e}},Nte=async t=>{try{console.log(`Starting complete deletion of league ${t}`);try{await aj(t),console.log(`League image deleted for ${t}`)}catch(e){console.warn(`Error deleting league image for ${t}:`,e)}try{const e=Ge(Tt(Be,"leagueMemberships"),Ee("leagueId","==",t)),n=await We(e),r=n.docs.map(s=>Fi(s.ref));await Promise.all(r),console.log(`Deleted ${n.docs.length} league memberships for ${t}`)}catch(e){throw console.error(`Error deleting league memberships for ${t}:`,e),e}try{const e=Ge(Tt(Be,"leagueJoinRequests"),Ee("leagueId","==",t)),n=await We(e),r=n.docs.map(s=>Fi(s.ref));await Promise.all(r),console.log(`Deleted ${n.docs.length} join requests for ${t}`)}catch(e){throw console.error(`Error deleting join requests for ${t}:`,e),e}try{const e=Ge(Tt(Be,"leagueSeasons"),Ee("leagueId","==",t)),n=await We(e),r=n.docs.map(s=>Fi(s.ref));await Promise.all(r),console.log(`Deleted ${n.docs.length} league-season associations for ${t}`)}catch(e){throw console.error(`Error deleting league-season associations for ${t}:`,e),e}try{const e=Ge(Tt(Be,"games"),Ee("leagueId","==",t)),n=await We(e),r=n.docs.map(s=>Fi(s.ref));await Promise.all(r),console.log(`Deleted ${n.docs.length} league games for ${t}`)}catch(e){throw console.error(`Error deleting league games for ${t}:`,e),e}try{const e=Ge(Tt(Be,"leagueInvitations"),Ee("leagueId","==",t)),n=await We(e),r=n.docs.map(s=>Fi(s.ref));await Promise.all(r),console.log(`Deleted ${n.docs.length} league invitations for ${t}`)}catch(e){console.error(`Error deleting league invitations for ${t}:`,e)}try{const e=Ge(Tt(Be,"leagueTournaments"),Ee("leagueId","==",t)),n=await We(e),r=n.docs.map(s=>Fi(s.ref));await Promise.all(r),console.log(`Deleted ${n.docs.length} league tournaments for ${t}`)}catch(e){console.error(`Error deleting league tournaments for ${t}:`,e)}try{const e=Ge(Tt(Be,"leagueTeams"),Ee("leagueId","==",t)),n=await We(e),r=n.docs.map(s=>Fi(s.ref));await Promise.all(r),console.log(`Deleted ${n.docs.length} league teams for ${t}`)}catch(e){console.error(`Error deleting league teams for ${t}:`,e)}try{const e=jt(Be,"leagues",t);await Fi(e),console.log(`League document ${t} deleted successfully`)}catch(e){throw console.error(`Error deleting league document ${t}:`,e),e}console.log(`Complete deletion of league ${t} finished successfully`)}catch(e){throw console.error(`Error in complete league deletion for ${t}:`,e),e}},Ite=Object.freeze(Object.defineProperty({__proto__:null,acceptGameInvitation:yte,auth:Ie,calculateTitle:QO,cleanupOrphanedLeagueSeasons:sj,confirmGameResult:_te,createGame:KO,createTeamGame:YO,db:Be,deleteLeagueCompletely:Nte,deleteLeagueImage:aj,deleteProfileImage:Ate,ensureUserProfile:WO,getAllLeaguesWithRankings:JO,getAllSeasons:tj,getCurrentSeason:Tte,getGameById:gte,getLeagueById:Ste,getLeagueRankings:UE,getLeagueSeasons:nj,getNewInvitations:XO,getUserGames:vte,getUserLeagues:Ete,getUserLeaguesWithRanking:ej,getUserProfile:Cv,isPlayerInActiveGame:si,loginWithGoogle:qO,rejectGameInvitation:bte,searchUsers:ax,startGame:wte,storage:xh,submitGameScore:xte,updateAllLeagueStatusesBySeasons:rj,updateGlobalRankings:ZO,updateLeagueStatusBySeason:FE,uploadLeagueImage:Cte,uploadProfileImage:Rte,validateAndUpdateLeagueStatus:ij},Symbol.toStringTag,{value:"Module"}));function Pte(){const[t,e]=w.useState([]),[n,r]=w.useState(!1),[s,a]=w.useState(!0),l=w.useCallback(async()=>{},[]);return w.useEffect(()=>{let c;const d=Ie.onAuthStateChanged(h=>{if(h){a(!0);try{const m=yh(),y=h.uid,b=Ge(Tt(m,"games"),Ee("status","==","in_progress"),cr("createdAt","desc"));c=XJ(b,_=>{const E=[];_.forEach(T=>{const R={id:T.id,...T.data()};(R.createdBy===y||R.opponent===y)&&E.push(R)}),e(E),r(E.length>0),a(!1)},_=>{console.error("Error listening to active games:",_),e([]),r(!1),a(!1)})}catch(m){console.error("Error setting up active games listener:",m),e([]),r(!1),a(!1)}}else e([]),r(!1),a(!1),c&&(c(),c=void 0)});return()=>{d(),c&&c()}},[]),{inProgressGames:t,hasInProgressGames:n,loading:s,count:t.length,refresh:l}}function zf({src:t=null,square:e=!1,initials:n,alt:r="",className:s,...a}){return p.jsxs("span",{"data-slot":"avatar",...a,className:gt(s,"inline-grid shrink-0 align-middle [--avatar-radius:20%] *:col-start-1 *:row-start-1","outline -outline-offset-1 outline-none",e?"rounded-(--avatar-radius) *:rounded-(--avatar-radius)":"rounded-full *:rounded-full"),children:[n&&p.jsxs("svg",{className:"size-full fill-current p-[5%] text-[48px] font-medium uppercase select-none",viewBox:"0 0 100 100","aria-hidden":r?void 0:"true",children:[r&&p.jsx("title",{children:r}),p.jsx("text",{x:"50%",y:"50%",alignmentBaseline:"middle",dominantBaseline:"middle",textAnchor:"middle",dy:".125em",children:n})]}),t&&p.jsx("img",{className:"size-full",src:t,alt:r,onError:a.onError})]})}w.forwardRef(function({src:e,square:n=!1,initials:r,alt:s,className:a,...l},c){const d=gt(a,n?"rounded-[20%]":"rounded-full","relative inline-grid focus:not-data-focus:outline-hidden data-focus:outline-2 data-focus:outline-offset-2 data-focus:outline-blue-500");return"href"in l?p.jsx(Yg,{...l,className:d,ref:c,children:p.jsx(uo,{children:p.jsx(zf,{src:e,square:n,initials:r,alt:s})})}):p.jsx(Kf,{...l,className:d,ref:c,children:p.jsx(uo,{children:p.jsx(zf,{src:e,square:n,initials:r,alt:s})})})});const Sg=({user:t,className:e="",square:n=!0,size:r="medium",fallbackSrc:s="/profile-photo.jpg",alt:a})=>{const[l,c]=w.useState(!1),d={small:"size-8",medium:"size-10",large:"size-12"},h=t?.photoURL&&!l?t.photoURL:s,m=a||t?.displayName||"User profile";return p.jsx(zf,{src:h,square:n,className:`${d[r]} ${e}`,alt:m,onError:()=>c(!0)})};function kte({title:t,titleId:e,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?w.createElement("title",{id:e},t):null,w.createElement("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z"}))}const pN=w.forwardRef(kte),oj=({onClick:t,className:e="",variant:n="sidebar"})=>{const[r,s]=w.useState(!1),a=async()=>{if(!r){s(!0);try{await t()}catch(l){console.error("Login error:",l)}finally{s(!1)}}};return n==="navbar"?p.jsx("button",{onClick:a,disabled:r,className:`flex items-center justify-center rounded-md p-2 text-zinc-500 hover:bg-zinc-100 hover:text-zinc-900 dark:text-zinc-400 dark:hover:bg-zinc-800 dark:hover:text-white ${r?"opacity-70":""} ${e}`,"aria-label":"Login with Google",children:r?p.jsx("div",{className:"h-5 w-5 border-2 border-t-transparent border-zinc-600 rounded-full animate-spin"}):p.jsx(pN,{className:"h-5 w-5"})}):p.jsxs("button",{onClick:a,disabled:r,className:`flex w-full items-center gap-3 rounded-md px-3 py-2 text-sm/6 font-medium  hover:text-zinc-200 text-white hover:bg-zinc-800 ${r?"opacity-70":""} ${e}`,children:[p.jsx("div",{className:"flex h-5 w-5 items-center justify-center",children:r?p.jsx("div",{className:"h-5 w-5 border-2 border-t-transparent border-zinc-600 rounded-full animate-spin"}):p.jsx(pN,{className:"h-5 w-5"})}),p.jsx("span",{children:r?"Signing in...":"Login with Google"})]})},Mte=({count:t=0,showCount:e=!1,className:n="",size:r="medium"})=>{if(t<=0)return null;const s={small:"w-2 h-2",medium:"w-3 h-3",large:"w-4 h-4"},a={small:"text-[8px] leading-none",medium:"text-[10px] leading-none",large:"text-xs leading-none"};return e?p.jsx("span",{className:`absolute -top-1 -right-1 flex items-center justify-center ${t>99?"min-w-5":"min-w-4"} h-4 rounded-full bg-red-500 ${a[r]} font-medium text-white ring-2 ring-white dark:ring-zinc-900 ${n}`,children:t>99?"99+":t}):p.jsx("span",{className:`absolute top-0 right-0 block ${s[r]} rounded-full bg-red-500 ring-2 ring-white dark:ring-zinc-900 ${n}`,"aria-hidden":"true"})};function Dte({title:t,titleId:e,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M11.03 3.97a.75.75 0 0 1 0 1.06l-6.22 6.22H21a.75.75 0 0 1 0 1.5H4.81l6.22 6.22a.75.75 0 1 1-1.06 1.06l-7.5-7.5a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const Ote=w.forwardRef(Dte);function jte({title:t,titleId:e,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M7.5 3.75A1.5 1.5 0 0 0 6 5.25v13.5a1.5 1.5 0 0 0 1.5 1.5h6a1.5 1.5 0 0 0 1.5-1.5V15a.75.75 0 0 1 1.5 0v3.75a3 3 0 0 1-3 3h-6a3 3 0 0 1-3-3V5.25a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3V9A.75.75 0 0 1 15 9V5.25a1.5 1.5 0 0 0-1.5-1.5h-6Zm10.72 4.72a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 1 1-1.06-1.06l1.72-1.72H9a.75.75 0 0 1 0-1.5h10.94l-1.72-1.72a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const lj=w.forwardRef(jte);function Lte({title:t,titleId:e,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12.53 16.28a.75.75 0 0 1-1.06 0l-7.5-7.5a.75.75 0 0 1 1.06-1.06L12 14.69l6.97-6.97a.75.75 0 1 1 1.06 1.06l-7.5 7.5Z",clipRule:"evenodd"}))}const Cb=w.forwardRef(Lte);function Vte({title:t,titleId:e,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M10.5 3A1.501 1.501 0 0 0 9 4.5h6A1.5 1.5 0 0 0 13.5 3h-3Zm-2.693.178A3 3 0 0 1 10.5 1.5h3a3 3 0 0 1 2.694 1.678c.497.042.992.092 1.486.15 1.497.173 2.57 1.46 2.57 2.929V19.5a3 3 0 0 1-3 3H6.75a3 3 0 0 1-3-3V6.257c0-1.47 1.073-2.756 2.57-2.93.493-.057.989-.107 1.487-.15Z",clipRule:"evenodd"}))}const Ute=w.forwardRef(Vte);function Fte({title:t,titleId:e,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const uj=w.forwardRef(Fte);function zte({title:t,titleId:e,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 0 0-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 0 0-2.282.819l-.922 1.597a1.875 1.875 0 0 0 .432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 0 0 0 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 0 0-.432 2.385l.922 1.597a1.875 1.875 0 0 0 2.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 0 0 2.28-.819l.923-1.597a1.875 1.875 0 0 0-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 0 0 0-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 0 0-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 0 0-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 0 0-1.85-1.567h-1.843ZM12 15.75a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5Z",clipRule:"evenodd"}))}const cj=w.forwardRef(zte);function $te({title:t,titleId:e,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?w.createElement("title",{id:e},t):null,w.createElement("path",{d:"M17.004 10.407c.138.435-.216.842-.672.842h-3.465a.75.75 0 0 1-.65-.375l-1.732-3c-.229-.396-.053-.907.393-1.004a5.252 5.252 0 0 1 6.126 3.537ZM8.12 8.464c.307-.338.838-.235 1.066.16l1.732 3a.75.75 0 0 1 0 .75l-1.732 3c-.229.397-.76.5-1.067.161A5.23 5.23 0 0 1 6.75 12a5.23 5.23 0 0 1 1.37-3.536ZM10.878 17.13c-.447-.098-.623-.608-.394-1.004l1.733-3.002a.75.75 0 0 1 .65-.375h3.465c.457 0 .81.407.672.842a5.252 5.252 0 0 1-6.126 3.539Z"}),w.createElement("path",{fillRule:"evenodd",d:"M21 12.75a.75.75 0 1 0 0-1.5h-.783a8.22 8.22 0 0 0-.237-1.357l.734-.267a.75.75 0 1 0-.513-1.41l-.735.268a8.24 8.24 0 0 0-.689-1.192l.6-.503a.75.75 0 1 0-.964-1.149l-.6.504a8.3 8.3 0 0 0-1.054-.885l.391-.678a.75.75 0 1 0-1.299-.75l-.39.676a8.188 8.188 0 0 0-1.295-.47l.136-.77a.75.75 0 0 0-1.477-.26l-.136.77a8.36 8.36 0 0 0-1.377 0l-.136-.77a.75.75 0 1 0-1.477.26l.136.77c-.448.121-.88.28-1.294.47l-.39-.676a.75.75 0 0 0-1.3.75l.392.678a8.29 8.29 0 0 0-1.054.885l-.6-.504a.75.75 0 1 0-.965 1.149l.6.503a8.243 8.243 0 0 0-.689 1.192L3.8 8.216a.75.75 0 1 0-.513 1.41l.735.267a8.222 8.222 0 0 0-.238 1.356h-.783a.75.75 0 0 0 0 1.5h.783c.042.464.122.917.238 1.356l-.735.268a.75.75 0 0 0 .513 1.41l.735-.268c.197.417.428.816.69 1.191l-.6.504a.75.75 0 0 0 .963 1.15l.601-.505c.326.323.679.62 1.054.885l-.392.68a.75.75 0 0 0 1.3.75l.39-.679c.414.192.847.35 1.294.471l-.136.77a.75.75 0 0 0 1.477.261l.137-.772a8.332 8.332 0 0 0 1.376 0l.136.772a.75.75 0 1 0 1.477-.26l-.136-.771a8.19 8.19 0 0 0 1.294-.47l.391.677a.75.75 0 0 0 1.3-.75l-.393-.679a8.29 8.29 0 0 0 1.054-.885l.601.504a.75.75 0 0 0 .964-1.15l-.6-.503c.261-.375.492-.774.69-1.191l.735.267a.75.75 0 1 0 .512-1.41l-.734-.267c.115-.439.195-.892.237-1.356h.784Zm-2.657-3.06a6.744 6.744 0 0 0-1.19-2.053 6.784 6.784 0 0 0-1.82-1.51A6.705 6.705 0 0 0 12 5.25a6.8 6.8 0 0 0-1.225.11 6.7 6.7 0 0 0-2.15.793 6.784 6.784 0 0 0-2.952 3.489.76.76 0 0 1-.036.098A6.74 6.74 0 0 0 5.251 12a6.74 6.74 0 0 0 3.366 5.842l.009.005a6.704 6.704 0 0 0 2.18.798l.022.003a6.792 6.792 0 0 0 2.368-.004 6.704 6.704 0 0 0 2.205-.811 6.785 6.785 0 0 0 1.762-1.484l.009-.01.009-.01a6.743 6.743 0 0 0 1.18-2.066c.253-.707.39-1.469.39-2.263a6.74 6.74 0 0 0-.408-2.309Z",clipRule:"evenodd"}))}const Bte=w.forwardRef($te);function Gte({title:t,titleId:e,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M10.5 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z",clipRule:"evenodd"}))}const Hte=w.forwardRef(Gte);function qte({title:t,titleId:e,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const dj=w.forwardRef(qte);function Wte({title:t,titleId:e,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?w.createElement("title",{id:e},t):null,w.createElement("path",{d:"M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z"}),w.createElement("path",{d:"m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z"}))}const Kte=w.forwardRef(Wte);function Yte({title:t,titleId:e,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const Ui=w.forwardRef(Yte);function Xte({title:t,titleId:e,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const Qte=w.forwardRef(Xte);function Zte({title:t,titleId:e,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"}))}const $f=w.forwardRef(Zte);function Jte({title:t,titleId:e,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M12 3.75a.75.75 0 0 1 .75.75v6.75h6.75a.75.75 0 0 1 0 1.5h-6.75v6.75a.75.75 0 0 1-1.5 0v-6.75H4.5a.75.75 0 0 1 0-1.5h6.75V4.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const gN=w.forwardRef(Jte);function ene({title:t,titleId:e,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm11.378-3.917c-.89-.777-2.366-.777-3.255 0a.75.75 0 0 1-.988-1.129c1.454-1.272 3.776-1.272 5.23 0 1.513 1.324 1.513 3.518 0 4.842a3.75 3.75 0 0 1-.837.552c-.676.328-1.028.774-1.028 1.152v.75a.75.75 0 0 1-1.5 0v-.75c0-1.279 1.06-2.107 1.875-2.502.182-.088.351-.199.503-.331.83-.727.83-1.857 0-2.584ZM12 18a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const tne=w.forwardRef(ene);function nne({title:t,titleId:e,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M1.5 5.625c0-1.036.84-1.875 1.875-1.875h17.25c1.035 0 1.875.84 1.875 1.875v12.75c0 1.035-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 18.375V5.625ZM21 9.375A.375.375 0 0 0 20.625 9h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h7.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h7.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h7.5a.375.375 0 0 0 .375-.375v-1.5ZM10.875 18.75a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h7.5ZM3.375 15h7.5a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-7.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375Zm0-3.75h7.5a.375.375 0 0 0 .375-.375v-1.5A.375.375 0 0 0 10.875 9h-7.5A.375.375 0 0 0 3 9.375v1.5c0 .207.168.375.375.375Z",clipRule:"evenodd"}))}const fj=w.forwardRef(nne);function rne({title:t,titleId:e,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M5.166 2.621v.858c-1.035.148-2.059.33-3.071.543a.75.75 0 0 0-.584.859 6.753 6.753 0 0 0 6.138 5.6 6.73 6.73 0 0 0 2.743 1.346A6.707 6.707 0 0 1 9.279 15H8.54c-1.036 0-1.875.84-1.875 1.875V19.5h-.75a2.25 2.25 0 0 0-2.25 2.25c0 .414.336.75.75.75h15a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-2.25-2.25h-.75v-2.625c0-1.036-.84-1.875-1.875-1.875h-.739a6.706 6.706 0 0 1-1.112-3.173 6.73 6.73 0 0 0 2.743-1.347 6.753 6.753 0 0 0 6.139-5.6.75.75 0 0 0-.585-.858 47.077 47.077 0 0 0-3.07-.543V2.62a.75.75 0 0 0-.658-.744 49.22 49.22 0 0 0-6.093-.377c-2.063 0-4.096.128-6.093.377a.75.75 0 0 0-.657.744Zm0 2.629c0 1.196.312 2.32.857 3.294A5.266 5.266 0 0 1 3.16 5.337a45.6 45.6 0 0 1 2.006-.343v.256Zm13.5 0v-.256c.674.1 1.343.214 2.006.343a5.265 5.265 0 0 1-2.863 3.207 6.72 6.72 0 0 0 .857-3.294Z",clipRule:"evenodd"}))}const _h=w.forwardRef(rne);function sne({title:t,titleId:e,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z",clipRule:"evenodd"}),w.createElement("path",{d:"M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z"}))}const zE=w.forwardRef(sne);function ine({title:t,titleId:e,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?w.createElement("title",{id:e},t):null,w.createElement("path",{d:"M5.25 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM2.25 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM18.75 7.5a.75.75 0 0 0-1.5 0v2.25H15a.75.75 0 0 0 0 1.5h2.25v2.25a.75.75 0 0 0 1.5 0v-2.25H21a.75.75 0 0 0 0-1.5h-2.25V7.5Z"}))}const ane=w.forwardRef(ine);function one({title:t,titleId:e,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"}))}const $E=w.forwardRef(one);function lne({title:t,titleId:e,...n},r){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?w.createElement("title",{id:e},t):null,w.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const une=w.forwardRef(lne),hj=w.memo(({user:t,hasInProgressGames:e,inProgressCount:n,handleLogin:r,handleLogout:s})=>{const{closeSidebar:a}=Bk(),l=w.useCallback(()=>{typeof window<"u"&&window.innerWidth<1024&&a&&a()},[a]);return p.jsxs(qB,{children:[p.jsx(KB,{}),p.jsxs(WB,{children:[e&&p.jsx(St,{to:"/games",onClick:l,children:p.jsx(hl,{className:"relative","aria-label":`${n} games in progress`,children:p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"h-6 w-6 bg-green-500 rounded-full flex items-center justify-center animate-pulse",children:p.jsx("span",{className:"text-white text-xs font-bold",children:""})}),p.jsx("div",{className:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 rounded-full flex items-center justify-center",children:p.jsx("span",{className:"text-white text-xs font-bold",children:n})}),p.jsx("div",{className:"absolute top-0 left-0 h-6 w-6 bg-green-400 rounded-full animate-ping opacity-75"})]})})}),p.jsx(St,{to:"/create-game",onClick:l,children:p.jsx(hl,{"aria-label":"New Game",children:p.jsx($f,{})})}),p.jsx(St,{to:"/rankings",onClick:l,children:p.jsx(hl,{"aria-label":"Rankings",children:p.jsx(fj,{className:"h-5 w-5"})})}),p.jsx(St,{to:"/leagues",onClick:l,children:p.jsx(hl,{"aria-label":"Leagues",children:p.jsx(_h,{className:"h-5 w-5"})})}),t?p.jsxs(of,{children:[p.jsx(lf,{asChild:!0,children:p.jsx(hl,{className:"data-[state=open]:bg-zinc-700 data-[state=open]:text-white cursor-pointer","aria-label":"User menu",children:p.jsx(Sg,{user:t,size:"small",square:!0,alt:t.displayName||"User profile",className:"h-8 w-8 rounded-lg"})})}),p.jsxs(uf,{className:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:"bottom",align:"end",sideOffset:4,children:[p.jsx(iD,{className:"p-0 font-normal",children:p.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[p.jsx(Sg,{user:t,size:"small",square:!0,alt:t.displayName||"User profile",className:"h-8 w-8 rounded-lg"}),p.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[p.jsx("span",{className:"truncate font-medium",children:t.displayName||"User"}),p.jsx("span",{className:"truncate text-xs text-muted-foreground",children:t.email||""})]})]})}),p.jsx(tg,{}),p.jsxs(sD,{children:[p.jsx(St,{to:"/profile",onClick:l,children:p.jsxs(Hi,{children:[p.jsx($E,{className:"h-4 w-4"}),"My Profile"]})}),p.jsx(St,{to:"/games",onClick:l,children:p.jsxs(Hi,{children:[p.jsx($f,{className:"h-4 w-4"}),"My Games"]})})]}),p.jsx(tg,{}),p.jsxs(Hi,{onClick:s,children:[p.jsx(lj,{className:"h-4 w-4"}),"Sign out"]})]})]}):p.jsx(oj,{onClick:r,variant:"navbar"})]})]})});hj.displayName="StaticNavbar";const mj=w.memo(({user:t,pendingInvitations:e,hasInProgressGames:n,inProgressCount:r,handleLogin:s,handleLogout:a,refreshInvitations:l})=>{const c=typeof window<"u"&&window.innerWidth<1024,{closeSidebar:d}=Bk(),h=w.useCallback(()=>{typeof window<"u"&&window.innerWidth<1024&&d&&d()},[d]),m=w.useCallback(()=>{l(),h()},[l,h]);return p.jsxs(JB,{className:"text-white",children:[p.jsxs(eG,{children:[p.jsx(St,{to:"/",onClick:h,children:p.jsxs(Vi,{className:"lg:mb-2.5",children:[p.jsx(zf,{src:"/usa-federation.png",square:!0,className:"w-32 h-32"}),p.jsx(Va,{className:"text-white",children:"Domino Gamer"})]})}),p.jsxs(ob,{className:"max-lg:hidden",children:[p.jsx(St,{to:"/create-game",onClick:h,children:p.jsxs(Vi,{children:[p.jsx($f,{}),p.jsx(Va,{children:"New game"})]})}),p.jsx(St,{to:"/rankings",onClick:h,children:p.jsxs(Vi,{children:[p.jsx(fj,{className:"h-5 w-5"}),p.jsx(Va,{children:"Rankings"})]})}),p.jsx(St,{to:"/leagues",onClick:h,children:p.jsxs(Vi,{children:[p.jsx(_h,{className:"h-5 w-5"}),p.jsx(Va,{children:"Leagues"})]})})]})]}),p.jsxs(tG,{children:[p.jsxs(ob,{children:[p.jsx(St,{to:"/",onClick:h,children:p.jsxs(Vi,{children:[p.jsx(Kte,{}),p.jsx(Va,{children:"Home"})]})}),p.jsx(St,{to:"/games",onClick:m,children:p.jsxs(Vi,{children:[p.jsxs("div",{className:"relative",children:[p.jsx($f,{className:"h-5 w-5"}),e>0&&p.jsx(Mte,{count:e,size:"small"}),n&&p.jsx("div",{className:"absolute -top-1 -left-1",children:p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full animate-pulse"}),p.jsx("div",{className:"absolute top-0 left-0 h-3 w-3 bg-green-400 rounded-full animate-ping opacity-75"})]})})]}),p.jsxs(Va,{className:"flex items-center",children:["My Games",n&&p.jsxs("span",{className:"ml-2 text-xs bg-green-500 text-white px-1.5 py-0.5 rounded-full animate-pulse",children:[r," Live"]})]})]})}),p.jsx(St,{to:"/settings",onClick:h,children:p.jsxs(Vi,{children:[p.jsx(cj,{className:"h-5 w-5"}),p.jsx(Va,{children:"Settings"})]})})]}),p.jsx(rG,{}),p.jsx(ob,{children:p.jsx(St,{to:"/rules",onClick:h,children:p.jsxs(Vi,{children:[p.jsx(tne,{}),p.jsx(Va,{children:"Rules"})]})})})]}),p.jsx(nG,{className:"max-lg:hidden",children:t?p.jsxs(of,{children:[p.jsx(lf,{asChild:!0,children:p.jsxs(Vi,{className:"data-[state=open]:bg-zinc-700 data-[state=open]:text-white cursor-pointer",children:[p.jsxs("span",{className:"flex min-w-0 items-center gap-3",children:[p.jsx(Sg,{user:t,size:"medium",square:!0,alt:t.displayName||"User profile",className:"h-8 w-8 rounded-lg"}),p.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[p.jsx("span",{className:"truncate font-medium text-white",children:t.displayName||"User"}),p.jsx("span",{className:"truncate text-xs text-white/70",children:t.email||""})]})]}),p.jsx(Hte,{className:"ml-auto h-4 w-4"})]})}),p.jsxs(uf,{className:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:c?"bottom":"right",align:"end",sideOffset:4,children:[p.jsx(iD,{className:"p-0 font-normal",children:p.jsxs("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:[p.jsx(Sg,{user:t,size:"small",square:!0,alt:t.displayName||"User profile",className:"h-8 w-8 rounded-lg"}),p.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[p.jsx("span",{className:"truncate font-medium",children:t.displayName||"User"}),p.jsx("span",{className:"truncate text-xs text-muted-foreground",children:t.email||""})]})]})}),p.jsx(tg,{}),p.jsx(sD,{children:p.jsx(St,{to:"/profile",onClick:h,children:p.jsxs(Hi,{children:[p.jsx($E,{className:"h-4 w-4"}),"My profile"]})})}),p.jsx(tg,{}),p.jsxs(Hi,{onClick:a,children:[p.jsx(lj,{className:"h-4 w-4"}),"Sign out"]})]})]}):p.jsx(oj,{onClick:s})})]})});mj.displayName="StaticSidebar";const pj=w.memo(({user:t,pendingInvitations:e,handleLogin:n,handleLogout:r,refreshInvitations:s,children:a})=>{const{hasInProgressGames:l,count:c}=Pte(),d=w.useMemo(()=>p.jsx(hj,{user:t,hasInProgressGames:l,inProgressCount:c,handleLogin:n,handleLogout:r}),[t,l,c,n,r]),h=w.useMemo(()=>p.jsx(mj,{user:t,pendingInvitations:e,hasInProgressGames:l,inProgressCount:c,handleLogin:n,handleLogout:r,refreshInvitations:s}),[t,e,l,c,n,r,s]);return p.jsx(ZB,{navbar:d,sidebar:h,children:a})});pj.displayName="AppLayout";const cne={theme:"system",setTheme:()=>null},gj=w.createContext(cne);function dne({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme",...r}){const[s,a]=w.useState(()=>localStorage.getItem(n)||e);w.useEffect(()=>{const c=window.document.documentElement;if(c.classList.remove("light","dark"),s==="system"){const d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";c.classList.add(d);return}c.classList.add(s)},[s]);const l={theme:s,setTheme:c=>{localStorage.setItem(n,c),a(c)}};return p.jsx(gj.Provider,{...r,value:l,children:t})}const fne=()=>{const t=w.useContext(gj);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},hne=({user:t,onComplete:e})=>{const[n,r]=w.useState(""),[s,a]=w.useState(!0),[l,c]=w.useState(null),[d,h]=w.useState(null),[m,y]=w.useState(!1),[b,_]=w.useState(!1);w.useEffect(()=>{(async()=>{try{const M=jt(Be,"users",t.uid),F=await Pt(M);if(F.exists()){const $=F.data();($.hasSetUsername===!0||$.username)&&(_(!0),e())}a(!1)}catch(M){console.error("Error checking existing username:",M),a(!1)}})()},[t.uid,e]);const E=P=>(c(null),h(null),P.trim()?P.length<3?(c("Username must be at least 3 characters"),!1):P.length>20?(c("Username must be less than 20 characters"),!1):/^[a-zA-Z0-9_]+$/.test(P)?!0:(c("Username can only contain letters, numbers, and underscores"),!1):(c("Username cannot be empty"),!1)),T=async P=>{if(E(P)){y(!0);try{const M=Tt(Be,"users"),F=Ge(M,Ee("username","==",P.toLowerCase()));(await We(F)).empty?h(!0):(c("Username is already taken"),h(!1))}catch(M){console.error("Error checking username:",M),c("Error checking username availability")}finally{y(!1)}}},R=P=>{const M=P.target.value;if(r(M),E(M),M.length>=3){const F=setTimeout(()=>{T(M)},500);return()=>clearTimeout(F)}},N=async P=>{if(P.preventDefault(),!(!E(n)||!d)){a(!0),c(null);try{const M=jt(Be,"users",t.uid);(await Pt(M)).exists()?await wr(M,{username:n.toLowerCase(),displayName:n}):await EO(M,{uid:t.uid,email:t.email,photoURL:t.photoURL,username:n.toLowerCase(),displayName:n,createdAt:new Date,stats:{gamesPlayed:0,gamesWon:0,totalPoints:0}}),e()}catch(M){console.error("Error setting username:",M),c("An error occurred while setting your username")}finally{a(!1)}}};return b||s?null:p.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white dark:bg-zinc-800 rounded-lg shadow-lg w-full max-w-md p-6 mx-4",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4 text-zinc-900 dark:text-white",children:"Welcome to USA Domino!"}),p.jsx("p",{className:"mb-4 text-zinc-600 dark:text-zinc-300",children:"Please choose a username to continue. This will be visible to other players."}),p.jsx("p",{className:"mb-6 text-amber-600 dark:text-amber-400 font-medium",children:"Important: Your username is permanent and cannot be changed after setup."}),p.jsxs("form",{onSubmit:N,children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{htmlFor:"username",className:"block text-sm font-medium mb-1 text-zinc-700 dark:text-zinc-300",children:"Username"}),p.jsx("input",{type:"text",id:"username",value:n,onChange:R,className:`w-full p-2 border rounded-md focus:outline-none focus:ring-2 
                ${l?"border-red-500 focus:ring-red-500":d?"border-green-500 focus:ring-green-500":"border-gray-300 focus:ring-blue-500"}
                dark:bg-zinc-700 dark:border-zinc-600 dark:text-white
              `,placeholder:"Choose a username",disabled:s,autoFocus:!0}),l&&p.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:l}),d&&!l&&p.jsx("p",{className:"mt-1 text-sm text-green-600 dark:text-green-400",children:"Username is available!"}),m&&p.jsx("p",{className:"mt-1 text-sm text-blue-600 dark:text-blue-400",children:"Checking availability..."}),p.jsx("p",{className:"mt-3 text-xs text-zinc-500 dark:text-zinc-400",children:"Usernames must be 3-20 characters and can only contain letters, numbers, and underscores."})]}),p.jsx("button",{type:"submit",disabled:s||!d||!!l,className:`w-full py-2 rounded-md font-medium 
              ${s||!d||l?"bg-gray-300 text-gray-500 cursor-not-allowed dark:bg-zinc-700 dark:text-zinc-400":"bg-blue-600 text-white hover:bg-blue-700"}
            `,children:s?"Setting up your account...":"Continue"})]})]})})},mne=["ulvenforst@gmail.com"],BE=t=>{if(!t)return!1;const e=typeof t=="string"?t:t.email;return e?mne.includes(e.toLowerCase()):!1},Zse=(t,e)=>t?BE(t)||t.uid===e:!1;class pne{intervalId=null;isRunning=!1;options;lastSuccessfulRun=0;consecutiveNoUpdates=0;runCount=0;MAX_NO_UPDATE_CYCLES=5;CLEANUP_INTERVAL=24;constructor(e={}){this.options={interval:e.interval||4*60*60*1e3,onUpdate:e.onUpdate||(()=>{}),onError:e.onError||console.error,enabled:e.enabled!==!1}}start(){this.isRunning||!this.options.enabled||(this.runUpdate(),this.intervalId=setInterval(()=>{this.runUpdate()},this.options.interval),this.isRunning=!0)}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.isRunning=!1}isActive(){return this.isRunning}async runUpdate(){try{if(this.runCount++,this.runCount%this.CLEANUP_INTERVAL===0)try{await sj()}catch{}const e=await rj();if(e.updated>0)this.consecutiveNoUpdates=0,this.lastSuccessfulRun=Date.now();else if(this.consecutiveNoUpdates++,this.consecutiveNoUpdates>=this.MAX_NO_UPDATE_CYCLES&&this.isRunning){const n=this.options.interval*2;this.stop(),this.intervalId=setTimeout(()=>{this.runUpdate(),this.isRunning&&(this.intervalId=setInterval(()=>{this.runUpdate()},this.options.interval))},n),this.isRunning=!0;return}this.options.onUpdate(e)}catch(e){const n=e instanceof Error?e:new Error("Unknown error during update");this.options.onError(n),this.consecutiveNoUpdates++}}updateOptions(e){const n=this.options.interval;this.options={...this.options,...e},e.interval&&this.isRunning&&e.interval!==n&&(this.stop(),this.start())}getConfig(){return{...this.options}}}let ln=null;const gne=(t={})=>{if(ln){const e=ln.getConfig(),n=t.interval||60*60*1e3;if(e.interval===n&&e.enabled===(t.enabled!==!1))return ln;ln.stop()}return ln=new pne(t),ln},Nb=(t={})=>{if(!ln)gne(t);else{const e=ln.getConfig(),n=t.interval||60*60*1e3;(e.interval!==n||e.enabled!==(t.enabled!==!1))&&ln.updateOptions(t)}ln&&!ln.isActive()&&ln.start()},Ib=()=>{ln&&ln.stop()},vne={startOnVisible:(t={})=>{const e=()=>{document.visibilityState==="visible"?Nb(t):Ib()};return document.addEventListener("visibilitychange",e),document.visibilityState==="visible"&&Nb(t),()=>{document.removeEventListener("visibilitychange",e),Ib()}},startWithSmartIntervals:(t={})=>{if(ln&&ln.isActive())return()=>{};let e=t.interval||60*60*1e3,n=4*60*60*1e3,r,s=e,a=0;const l=5e3,c=()=>{const h=Date.now();h-a<l||(a=h,clearTimeout(r),s!==e&&ln&&(s=e,ln.updateOptions({interval:e})),r=setTimeout(()=>{ln&&s!==n&&(s=n,ln.updateOptions({interval:n}))},30*60*1e3))},d=c;return["mousedown","keypress","scroll","click","touchstart"].forEach(h=>{document.addEventListener(h,d,{passive:!0})}),Nb({...t,interval:e}),s=e,c(),()=>{clearTimeout(r),["mousedown","keypress","scroll","click","touchstart"].forEach(h=>{document.removeEventListener(h,d)}),Ib()}}},vN={profile:()=>ts(()=>import("./Profile-DkQvcm_3.js"),__vite__mapDeps([0,1,2])),gamesList:()=>ts(()=>import("./GamesList-C4MiyJUP.js"),__vite__mapDeps([3,4]))},yne=()=>{const t=!!Ie.currentUser;w.useEffect(()=>{t&&(vN.profile(),vN.gamesList())},[t]);const e=[{icon:p.jsx($f,{className:"w-8 h-8"}),label:"New Game",path:"/create-game",description:"Start a new domino game",color:"bg-blue-600 hover:bg-blue-700",requiresAuth:!0},{icon:p.jsx(Ute,{className:"w-8 h-8"}),label:"Rules",path:"/rules",description:"Learn about Boricua-style domino rules",color:"bg-emerald-600 hover:bg-emerald-700",requiresAuth:!1},{icon:p.jsx($E,{className:"w-8 h-8"}),label:"My Profile",path:"/profile",description:"View your stats and game history",color:"bg-violet-600 hover:bg-violet-700",requiresAuth:!0},{icon:p.jsx(cj,{className:"w-8 h-8"}),label:"Settings",path:"/settings",description:"Customize your game experience",color:"bg-gray-600 hover:bg-gray-700",requiresAuth:!1}];return p.jsxs("div",{className:"flex flex-col min-h-screen items-center justify-center p-6  text-zinc-900 dark:text-white",children:[p.jsxs("div",{className:"text-center mb-10",children:[p.jsx("div",{className:"flex justify-center",children:p.jsx("img",{src:"/usa-federation-long.png",alt:"USA Domino Federation",className:"w-48 h-48"})}),p.jsx("h1",{className:"text-4xl font-bold collapse",children:"USA Domino Federation"}),p.jsx("p",{className:"text-xl text-zinc-600 dark:text-zinc-300 max-w-2xl mx-auto",children:"Experience the authentic Puerto Rican style domino game with friends and competitors"})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6 max-w-6xl w-full",children:e.map(n=>p.jsxs(St,{to:!n.requiresAuth||t?n.path:"#",onClick:n.requiresAuth&&!t?r=>{r.preventDefault(),alert("Please sign in to access this feature")}:void 0,className:`flex flex-col items-center p-6 rounded-xl shadow-lg transition-all duration-200 transform hover:scale-105 ${n.color} text-white`,children:[p.jsx("div",{className:"mb-4 bg-white/20 p-4 rounded-full",children:n.icon}),p.jsx("h2",{className:"text-2xl font-bold mb-2",children:n.label}),p.jsx("p",{className:"text-center text-white/80",children:n.description}),n.requiresAuth&&!t&&p.jsx("span",{className:"mt-3 text-sm bg-white/20 px-3 py-1 rounded-full",children:"Sign in required"})]},n.label))}),!t&&p.jsxs("div",{className:"mt-10 bg-white/10 dark:bg-zinc-800/50 p-6 rounded-lg max-w-2xl text-center",children:[p.jsx("p",{className:"text-lg mb-3",children:"Welcome to the USA Domino Federation platform! Sign in to track your games, compete with friends, and climb the rankings."}),p.jsx("p",{className:"text-zinc-600 dark:text-zinc-400",children:"No account? No problem! Sign in with your Google account to get started."})]})]})};function In({className:t,...e}){return p.jsx("div",{"data-slot":"card",className:Lt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm w-full",t),...e})}function ds({className:t,...e}){return p.jsx("div",{"data-slot":"card-header",className:Lt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function Gs({className:t,...e}){return p.jsx("div",{"data-slot":"card-title",className:Lt("leading-none font-semibold",t),...e})}function Jse({className:t,...e}){return p.jsx("div",{"data-slot":"card-description",className:Lt("text-muted-foreground text-sm",t),...e})}function Pn({className:t,...e}){return p.jsx("div",{"data-slot":"card-content",className:Lt("px-6",t),...e})}const bne=()=>p.jsxs("div",{className:"p-2 sm:p-4 lg:p-6 w-full lg:max-w-6xl lg:mx-auto text-zinc-900 dark:text-white",children:[p.jsx("h1",{className:"sr-only",children:"Official Puerto Rican Domino Rules"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs(In,{children:[p.jsx(ds,{children:p.jsx(Gs,{className:"text-xl sm:text-2xl",children:"Game Modality"})}),p.jsx(Pn,{children:p.jsxs("div",{className:"space-y-3",children:[p.jsx("p",{className:"text-muted-foreground",children:"Puerto Rican style domino is traditionally played in teams format, with specific rules that have evolved over generations:"}),p.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-sm sm:text-base",children:[p.jsx("li",{children:"Traditionally played in teams (2 vs 2)"}),p.jsx("li",{children:"Partners sit across from each other"}),p.jsx("li",{children:"Free-for-all is accepted in individual leagues or ranking phases"}),p.jsx("li",{children:"Each player receives 7 dominoes (using a double-six set with 28 tiles)"}),p.jsx("li",{children:"Play proceeds counter-clockwise"})]})]})})]}),p.jsxs(In,{children:[p.jsx(ds,{children:p.jsx(Gs,{className:"text-xl sm:text-2xl",children:"Scoring System"})}),p.jsx(Pn,{children:p.jsxs("div",{className:"space-y-3",children:[p.jsx("p",{className:"text-muted-foreground",children:"The scoring system in Puerto Rican domino follows these key principles:"}),p.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-sm sm:text-base",children:[p.jsxs("li",{children:["Games are played to a total score:",p.jsxs("ul",{className:"list-circle pl-6 mt-1 space-y-1",children:[p.jsx("li",{children:"100 points (short game)"}),p.jsx("li",{children:"150 points (standard match)"}),p.jsx("li",{children:"200 points (formal or league matches)"})]})]}),p.jsx("li",{children:"Each round gives points to the winning team based on the total value of remaining tiles in the losing team's hands"}),p.jsx("li",{children:'In case of a "lock" (trancado), both teams count their remaining dominoes, and the team with fewer points wins the round'}),p.jsx("li",{children:"If both teams have the same count in a lock, no points are awarded"})]})]})})]}),p.jsxs(In,{children:[p.jsx(ds,{children:p.jsx(Gs,{className:"text-xl sm:text-2xl",children:"Rounds / League Format"})}),p.jsx(Pn,{children:p.jsxs("div",{className:"space-y-3",children:[p.jsx("p",{className:"text-muted-foreground",children:"Competitive domino is often organized into structured formats:"}),p.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-sm sm:text-base",children:[p.jsx("li",{children:"Games may be organized into match days (round-robin or group stage)"}),p.jsx("li",{children:"Teams/players face each other multiple times"}),p.jsx("li",{children:"Wins and points accumulate across rounds"}),p.jsx("li",{children:"A full league may consist of 5-10 match days"}),p.jsx("li",{children:"Teams are typically seated at tables and rotate after each match"})]})]})})]}),p.jsxs(In,{children:[p.jsx(ds,{children:p.jsx(Gs,{className:"text-xl sm:text-2xl",children:"Classification and Tie-break Criteria"})}),p.jsx(Pn,{children:p.jsxs("div",{className:"space-y-3",children:[p.jsx("p",{className:"text-muted-foreground",children:"Rankings are determined through a hierarchical set of criteria:"}),p.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-sm sm:text-base",children:[p.jsxs("li",{children:["Ranking is based on:",p.jsxs("ul",{className:"list-circle pl-6 mt-1 space-y-1",children:[p.jsx("li",{children:"Number of games won (primary factor)"}),p.jsx("li",{children:"Total points accumulated (secondary factor)"}),p.jsx("li",{children:"Point differential (tertiary factor)"})]})]}),p.jsx("li",{children:"Ties are resolved via sudden death matches"}),p.jsx("li",{children:"In tournaments, head-to-head results may be considered before sudden death"})]})]})})]}),p.jsxs(In,{children:[p.jsx(ds,{children:p.jsx(Gs,{className:"text-xl sm:text-2xl",children:"Penalties"})}),p.jsx(Pn,{children:p.jsxs("div",{className:"space-y-3",children:[p.jsx("p",{className:"text-muted-foreground",children:"The integrity of the game is maintained through various penalties:"}),p.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-sm sm:text-base",children:[p.jsxs("li",{children:["Penalties may apply for:",p.jsxs("ul",{className:"list-circle pl-6 mt-1 space-y-1",children:[p.jsx("li",{children:"Slow or delayed play (time violations)"}),p.jsx("li",{children:"Declaring an invalid move"}),p.jsx("li",{children:"Breaking pass or shuffle rules"}),p.jsx("li",{children:"Communication between partners that reveals hand information"}),p.jsx("li",{children:"Improper table talk or unsportsmanlike conduct"})]})]}),p.jsx("li",{children:"Penalties can impact team or player records"}),p.jsx("li",{children:"Serious violations may result in match forfeiture"})]})]})})]}),p.jsxs(In,{children:[p.jsx(ds,{children:p.jsx(Gs,{className:"text-xl sm:text-2xl",children:"Final Rounds or Playoffs"})}),p.jsx(Pn,{children:p.jsxs("div",{className:"space-y-3",children:[p.jsx("p",{className:"text-muted-foreground",children:"Top performers advance to culminating phases of competition:"}),p.jsxs("ul",{className:"list-disc pl-6 space-y-2 text-sm sm:text-base",children:[p.jsxs("li",{children:["Top players or teams advance to:",p.jsxs("ul",{className:"list-circle pl-6 mt-1 space-y-1",children:[p.jsx("li",{children:"Semifinals and Finals"}),p.jsx("li",{children:"Format: single elimination or best-of-three"})]})]}),p.jsx("li",{children:"Championship matches often use the 200-point format"}),p.jsx("li",{children:"Special recognition and awards are given to champions"}),p.jsx("li",{children:"Official tournaments may qualify winners for regional or national competitions"})]})]})})]})]})]}),vj={version:"1.0.0",lastUpdated:new Date().toISOString(),gameModes:[{value:"single",label:"Single",description:"each player plays solo",isDefault:!0},{value:"double",label:"Double",description:"2 vs 2 - Traditional Puerto Rican format",isDefault:!1}],pointsOptions:[{value:100,label:"100 points",description:"short game",isDefault:!1},{value:150,label:"150 points",description:"standard match",isDefault:!0},{value:200,label:"200 points",description:"formal match",isDefault:!1}],rulesets:[{value:"standard",label:"Standard Rules",description:"International domino rules",isDefault:!0},{value:"boricua",label:"Boricua Rules",description:"Puerto Rican traditional rules",isDefault:!1}],startingPlayerOptions:[{value:"creator",label:"Game Creator",description:"Creator always starts first",isDefault:!0},{value:"opponent",label:"Opponent",description:"Opponent always starts first",isDefault:!1},{value:"random",label:"Random Selection",description:"Starting player chosen randomly",isDefault:!1},{value:"winner_previous",label:"Previous Game Winner",description:"Winner of previous game starts (for series)",isDefault:!1},{value:"highest_double",label:"Highest Double",description:"Player with highest double starts (traditional)",isDefault:!1}],timeLimitOptions:[{value:0,label:"No Time Limit",description:"Games can run indefinitely",isDefault:!0},{value:15,label:"15 minutes",description:"Quick game format",isDefault:!1},{value:30,label:"30 minutes",description:"Standard tournament format",isDefault:!1},{value:45,label:"45 minutes",description:"Extended tournament format",isDefault:!1},{value:60,label:"1 hour",description:"Long format game",isDefault:!1},{value:90,label:"1.5 hours",description:"Championship format",isDefault:!1}],numberOfPlayersOptions:[{value:2,label:"2 Players",description:"Head-to-head competition",isDefault:!0,requiredGameModes:["single","double"]},{value:4,label:"4 Players",description:"Team play (2 vs 2)",isDefault:!1,requiredGameModes:["double"]}],features:{enableTimeouts:!0,allowSpectators:!0,enableChat:!0,maxPlayersPerGame:4,enablePenalties:!0,allowDraws:!1,enableConfirmation:!0}};let dl=null,Op=0;const wne=5*60*1e3,tr=async()=>{const t=Date.now();if(dl&&t-Op<wne)return dl;try{const e=await xne();if(e)return dl=_ne(e),Op=t,dl}catch(e){console.warn("Failed to load remote config, using default:",e)}return dl=vj,Op=t,dl},xne=async()=>{try{return null}catch(t){return console.error("Error loading remote config:",t),null}},_ne=t=>((!t.version||t.version<"1.0.0")&&t.gameModes&&(t.gameModes=t.gameModes.map(e=>e.value==="individual"&&!e.migrateTo?{...e,value:"single",migrateTo:"single"}:e)),{...vj,...t,version:"1.0.0"}),GE=async()=>{const t=await tr();return t.gameModes.find(e=>e.isDefault)?.value||t.gameModes[0].value},HE=async()=>{const t=await tr();return t.pointsOptions.find(e=>e.isDefault)?.value||t.pointsOptions[0].value},qE=async()=>{const t=await tr();return t.rulesets.find(e=>e.isDefault)?.value||t.rulesets[0].value},Ene=async()=>{const t=await tr();return t.startingPlayerOptions.find(e=>e.isDefault)?.value||t.startingPlayerOptions[0].value},Sne=async()=>{const t=await tr();return t.timeLimitOptions.find(e=>e.isDefault)?.value||t.timeLimitOptions[0].value},Tne=async()=>{const t=await tr();return t.numberOfPlayersOptions.find(e=>e.isDefault)?.value||t.numberOfPlayersOptions[0].value},yj=async t=>(await tr()).gameModes.some(n=>n.value===t),bj=async t=>(await tr()).pointsOptions.some(n=>n.value===t),wj=async t=>(await tr()).rulesets.some(n=>n.value===t),Rne=()=>{dl=null,Op=0},Ane=()=>{const[t,e]=Se.useState(null),[n,r]=Se.useState(!0),[s,a]=Se.useState(null);Se.useEffect(()=>{(async()=>{try{r(!0),a(null);const d=await tr();e(d)}catch(d){console.error("Error loading game config:",d),a("Failed to load game configuration")}finally{r(!1)}})()},[]);const l=Se.useCallback(async()=>{Rne();try{a(null);const c=await tr();e(c)}catch(c){console.error("Error refreshing game config:",c),a("Failed to refresh game configuration")}},[]);return{config:t,loading:n,error:s,refreshConfig:l}},xj="gamePreferences",Tg="2.0.0";async function ox(t){try{const e=await yj(t.defaultGameMode),n=await bj(t.defaultPointsToWin),r=await wj(t.defaultRuleset);e||(console.warn(`Invalid game mode: ${t.defaultGameMode}, using default`),t.defaultGameMode=await GE()),n||(console.warn(`Invalid points: ${t.defaultPointsToWin}, using default`),t.defaultPointsToWin=await HE()),r||(console.warn(`Invalid ruleset: ${t.defaultRuleset}, using default`),t.defaultRuleset=await qE());const s={...t,version:Tg};localStorage.setItem(xj,JSON.stringify(s))}catch(e){throw console.error("Error saving game preferences:",e),new Error("Failed to save game preferences")}}async function _j(){try{const t=localStorage.getItem(xj);if(!t)return await lx();const e=JSON.parse(t),n=await Cne(e);return await Nne(n)}catch(t){return console.error("Error loading game preferences:",t),await lx()}}async function lx(){try{return{defaultGameMode:await GE(),defaultPointsToWin:await HE(),defaultRuleset:await qE(),confirmationReminders:!0,version:Tg}}catch(t){return console.error("Error getting default preferences:",t),{defaultGameMode:"double",defaultPointsToWin:150,defaultRuleset:"boricua",confirmationReminders:!0,version:Tg}}}async function Cne(t){if(!t.version||t.version<"2.0.0"){const e={defaultGameMode:t.defaultGameMode||"double",defaultPointsToWin:t.defaultPointsToWin||150,defaultRuleset:t.useBoricuaRules?"boricua":"standard",confirmationReminders:t.confirmationReminders??!0,version:Tg};return console.log("Migrated preferences from v1 to v2:",e),e}return t}async function Nne(t){try{const e=await tr();return e.gameModes.some(n=>n.value===t.defaultGameMode)||(t.defaultGameMode=await GE()),e.pointsOptions.some(n=>n.value===t.defaultPointsToWin)||(t.defaultPointsToWin=await HE()),e.rulesets.some(n=>n.value===t.defaultRuleset)||(t.defaultRuleset=await qE()),t}catch(e){return console.error("Error validating preferences:",e),t}}async function Ine(){const t=await lx();return await ox(t),t}async function Pne(t){try{const e=await yj(t.defaultGameMode),n=await bj(t.defaultPointsToWin),r=await wj(t.defaultRuleset);return e&&n&&r}catch{return!1}}function kne(){const{theme:t,setTheme:e}=fne(),[n,r]=w.useState(!1);if(w.useEffect(()=>{r(!0)},[]),!n)return null;const s=()=>{e(t==="dark"?"light":"dark")};return p.jsxs(cs,{variant:"outline",size:"icon",onClick:s,children:[p.jsx(L4,{className:"h-[1.2rem] w-[1.2rem] transition-all rotate-0 scale-100 dark:-rotate-90 dark:scale-0"}),p.jsx(D4,{className:"absolute h-[1.2rem] w-[1.2rem] transition-all rotate-90 scale-0 dark:rotate-0 dark:scale-100"}),p.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}var Nv="Tabs",[Mne,eie]=jl(Nv,[Xg]),Ej=Xg(),[Dne,WE]=Mne(Nv),Sj=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:l="horizontal",dir:c,activationMode:d="automatic",...h}=t,m=w_(c),[y,b]=b_({prop:r,onChange:s,defaultProp:a??"",caller:Nv});return p.jsx(Dne,{scope:n,baseId:Zp(),value:y,onValueChange:b,orientation:l,dir:m,activationMode:d,children:p.jsx(qt.div,{dir:m,"data-orientation":l,...h,ref:e})})});Sj.displayName=Nv;var Tj="TabsList",Rj=w.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,a=WE(Tj,n),l=Ej(n);return p.jsx(mM,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:r,children:p.jsx(qt.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:e})})});Rj.displayName=Tj;var Aj="TabsTrigger",Cj=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=t,l=WE(Aj,n),c=Ej(n),d=Pj(l.baseId,r),h=kj(l.baseId,r),m=r===l.value;return p.jsx(pM,{asChild:!0,...c,focusable:!s,active:m,children:p.jsx(qt.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:d,...a,ref:e,onMouseDown:et(t.onMouseDown,y=>{!s&&y.button===0&&y.ctrlKey===!1?l.onValueChange(r):y.preventDefault()}),onKeyDown:et(t.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&l.onValueChange(r)}),onFocus:et(t.onFocus,()=>{const y=l.activationMode!=="manual";!m&&!s&&y&&l.onValueChange(r)})})})});Cj.displayName=Aj;var Nj="TabsContent",Ij=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...l}=t,c=WE(Nj,n),d=Pj(c.baseId,r),h=kj(c.baseId,r),m=r===c.value,y=w.useRef(m);return w.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),p.jsx(xc,{present:s||m,children:({present:b})=>p.jsx(qt.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!b,id:h,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:y.current?"0s":void 0},children:b&&a})})});Ij.displayName=Nj;function Pj(t,e){return`${t}-trigger-${e}`}function kj(t,e){return`${t}-content-${e}`}var One=Sj,jne=Rj,Lne=Cj,Vne=Ij;function Une({className:t,...e}){return p.jsx(One,{"data-slot":"tabs",className:Lt("flex flex-col gap-2",t),...e})}function Fne({className:t,...e}){return p.jsx(jne,{"data-slot":"tabs-list",className:Lt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...e})}function zne({className:t,...e}){return p.jsx(Lne,{"data-slot":"tabs-trigger",className:Lt("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function $ne({className:t,...e}){return p.jsx(Vne,{"data-slot":"tabs-content",className:Lt("flex-1 outline-none",t),...e})}const Bne=w.memo(()=>p.jsxs("div",{className:"p-2 sm:p-4 lg:p-6 w-full lg:max-w-6xl lg:mx-auto",children:[p.jsx("div",{className:"h-8 bg-gray-200 dark:bg-zinc-700 rounded-md w-32 mb-6 animate-pulse"}),p.jsx("div",{className:"flex border-b border-gray-200 dark:border-zinc-700 mb-6",children:p.jsx("div",{className:"h-10 bg-gray-200 dark:bg-zinc-700 rounded-md w-40 animate-pulse"})}),p.jsxs(In,{children:[p.jsx(ds,{children:p.jsx("div",{className:"h-6 bg-gray-200 dark:bg-zinc-700 rounded-md w-48 animate-pulse"})}),p.jsx(Pn,{children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("div",{className:"h-4 bg-gray-200 dark:bg-zinc-700 rounded-md w-24 mb-2 animate-pulse"}),p.jsx("div",{className:"h-10 bg-gray-200 dark:bg-zinc-700 rounded-md w-32 animate-pulse"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"h-4 bg-gray-200 dark:bg-zinc-700 rounded-md w-36 mb-2 animate-pulse"}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:"h-6 bg-gray-200 dark:bg-zinc-700 rounded-md w-64 animate-pulse"}),p.jsx("div",{className:"h-6 bg-gray-200 dark:bg-zinc-700 rounded-md w-80 animate-pulse"})]})]})]})})]})]})),Gne=w.memo(({show:t})=>t?p.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50",children:p.jsx("div",{className:"bg-blue-600 text-white px-4 py-2 rounded shadow text-sm font-medium transition-all duration-300",children:"Preferences updated successfully"})}):null),Hne=w.memo(({show:t,onReset:e})=>t?p.jsx("div",{className:"mb-6 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsx(dj,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Configuration Update Available"}),p.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"Your current preferences may be incompatible with the latest game configuration. Some options may no longer be available."}),p.jsx("button",{onClick:e,className:"mt-2 text-sm font-medium text-yellow-800 dark:text-yellow-200 underline hover:no-underline",children:"Reset to current defaults"})]})]})}):null),qne=w.memo(({value:t,checked:e,onChange:n,label:r,description:s})=>p.jsxs("label",{className:"flex items-center space-x-3",children:[p.jsx("input",{type:"radio",name:"defaultGameMode",value:t,checked:e,onChange:n,className:"h-4 w-4 text-blue-600"}),p.jsxs("div",{children:[p.jsx("span",{children:r}),s&&p.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-1",children:["(",s,")"]})]})]})),Wne=w.memo(({value:t,onChange:e,options:n})=>p.jsx("select",{name:"defaultPointsToWin",value:t,onChange:r=>e(parseInt(r.target.value)),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-zinc-700 dark:border-zinc-600",children:n.map(r=>p.jsxs("option",{value:r.value,children:[r.label," ",r.description&&`(${r.description})`]},r.value))})),Kne=w.memo(({value:t,onChange:e,options:n})=>p.jsx("select",{name:"defaultRuleset",value:t,onChange:r=>e(r.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-zinc-700 dark:border-zinc-600",children:n.map(r=>p.jsxs("option",{value:r.value,children:[r.label," ",r.description&&`- ${r.description}`]},r.value))}));w.memo(({checked:t,onChange:e,label:n})=>p.jsxs("label",{className:"flex items-center space-x-2",children:[p.jsx("input",{type:"checkbox",checked:t,onChange:r=>e(r.target.checked),className:"h-4 w-4 text-blue-600"}),p.jsx("span",{className:"text-sm font-medium",children:n})]}));const Yne=()=>{const[t,e]=w.useState(!1),[n,r]=w.useState(Ie.currentUser),[s,a]=w.useState(null),[l,c]=w.useState(!0),[d,h]=w.useState(!1),[m,y]=w.useState("game"),[b,_]=w.useState(null),[E,T]=w.useState(!1),[R,N]=w.useState(""),[P,M]=w.useState(null),{config:F,loading:$,error:X,refreshConfig:O}=Ane(),[I,D]=w.useState(null),[L,z]=w.useState(!0),G=w.useCallback(async()=>{try{z(!0);const V=await _j();D(V);const ee=await Pne(V);T(!ee),ee||console.warn("Game preferences are incompatible with current config")}catch(V){console.error("Error loading game preferences:",V),_("Failed to load game preferences")}finally{z(!1)}},[]);w.useEffect(()=>{G()},[G]);const U=w.useCallback(async(V,ee)=>{if(!I)return;const fe={...I,[V]:ee};D(fe);try{await ox(fe),e(!0),setTimeout(()=>e(!1),1800),_(null),T(!1)}catch(ne){console.error("Error saving preferences:",ne),_("Failed to save preferences. Please try again.")}},[I]),ye=w.useCallback(async V=>{if(V.preventDefault(),!!I)try{h(!0),_(null),await ox(I),e(!0),setTimeout(()=>e(!1),1800)}catch(ee){console.error("Error saving game preferences:",ee),_("Failed to save preferences. Please try again.")}finally{h(!1)}},[I]),Te=w.useCallback(async()=>{try{h(!0);const V=await Ine();D(V),T(!1),e(!0),setTimeout(()=>e(!1),1800)}catch(V){console.error("Error resetting preferences:",V),_("Failed to reset preferences. Please try again.")}finally{h(!1)}},[]),K=w.useCallback(async()=>{if(!n){c(!1);return}try{_(null);const V=await Cv(n.uid);a(V),V&&N(V.username||V.displayName||"")}catch(V){console.error("Error loading user profile:",V),_("Failed to load profile. Please refresh the page.")}finally{c(!1)}},[n]);w.useEffect(()=>{K()},[K]);const ie=w.useMemo(()=>p.jsx(Bne,{}),[]),Y=w.useMemo(()=>b?p.jsxs("div",{className:"p-2 sm:p-4 lg:p-6 w-full lg:max-w-6xl lg:mx-auto",children:[p.jsx("h1",{className:"sr-only",children:"Settings"}),p.jsx(In,{children:p.jsx(Pn,{className:"pt-6",children:p.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6",children:[p.jsx("p",{className:"text-red-600 dark:text-red-400",children:b}),p.jsx("button",{onClick:()=>{_(null),K()},className:"mt-2 text-sm text-red-600 dark:text-red-400 underline hover:no-underline",children:"Try again"})]})})})]}):null,[b,K]),le=w.useMemo(()=>p.jsxs("div",{className:"p-2 sm:p-4 lg:p-6 w-full lg:max-w-6xl lg:mx-auto text-center",children:[p.jsx("h1",{className:"sr-only",children:"Settings"}),p.jsx(In,{children:p.jsx(Pn,{className:"pt-6",children:p.jsx("p",{className:"text-lg",children:"Please sign in to access settings."})})})]}),[]);return l?ie:b?Y:n?p.jsxs("div",{className:"p-2 sm:p-4 lg:p-6 w-full lg:max-w-6xl lg:mx-auto",children:[p.jsx("h1",{className:"sr-only",children:"Settings"}),p.jsxs(Une,{defaultValue:"game",value:m,onValueChange:V=>y(V),children:[p.jsx(Fne,{className:"grid w-full grid-cols-1",children:p.jsxs(zne,{value:"game",className:"flex items-center gap-2",children:[p.jsx(Bte,{className:"h-4 w-4"}),"Game Preferences"]})}),p.jsx($ne,{value:"game",className:"mt-6",children:p.jsxs(In,{children:[p.jsx(ds,{children:p.jsx(Gs,{className:"text-xl sm:text-2xl",children:"Game Preferences"})}),p.jsxs(Pn,{children:[E&&p.jsx(Hne,{show:E,onReset:Te}),$||L?p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"h-4 bg-gray-200 dark:bg-zinc-700 rounded w-24 animate-pulse"}),p.jsx("div",{className:"h-10 bg-gray-200 dark:bg-zinc-700 rounded w-32 animate-pulse"})]}):F&&I?p.jsxs("form",{onSubmit:ye,children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-sm font-medium mb-4 text-zinc-700 dark:text-zinc-300",children:"Theme"}),p.jsx("div",{className:"mb-4",children:p.jsx(w.Suspense,{fallback:p.jsx("div",{className:"h-10 w-20 bg-gray-200 dark:bg-zinc-700 rounded animate-pulse"}),children:p.jsx(kne,{})})}),p.jsx("label",{className:"block text-sm font-medium mb-2 text-zinc-700 dark:text-zinc-300",children:"Default Game Mode"}),p.jsx("div",{className:"space-y-2",children:F.gameModes.filter(V=>!V.deprecated).map(V=>p.jsx(qne,{value:V.value,checked:I.defaultGameMode===V.value,onChange:()=>U("defaultGameMode",V.value),label:V.label,description:V.description},V.value))})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-sm font-medium mb-2 text-zinc-700 dark:text-zinc-300",children:"Default Points to Win"}),p.jsx(Wne,{value:I.defaultPointsToWin,onChange:V=>U("defaultPointsToWin",V),options:F.pointsOptions.filter(V=>!V.deprecated)})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-sm font-medium mb-2 text-zinc-700 dark:text-zinc-300",children:"Default Ruleset"}),p.jsx(Kne,{value:I.defaultRuleset,onChange:V=>U("defaultRuleset",V),options:F.rulesets.filter(V=>!V.deprecated)})]}),X&&p.jsxs("div",{className:"mb-4 text-sm text-red-600 dark:text-red-400",children:["Warning: Using cached configuration. Some options may be outdated.",p.jsx("button",{type:"button",onClick:O,className:"ml-2 underline hover:no-underline",children:"Refresh"})]}),p.jsx(Gne,{show:t})]}):p.jsx("div",{className:"text-center text-gray-500 dark:text-gray-400",children:"Unable to load game configuration. Please try refreshing the page."})]})]})})]})]}):le},Xne=w.memo(Yne),Qne=()=>{const[t,e]=w.useState(null),[n,r]=w.useState(!0),[s,a]=w.useState(null),l=w.useCallback(async()=>{try{r(!0),a(null);const c=await _j();e({gameMode:c.defaultGameMode,points:c.defaultPointsToWin,ruleset:c.defaultRuleset,startingPlayer:await Ene(),timeLimit:await Sne(),numberOfPlayers:await Tne()})}catch(c){console.error("Error loading game defaults:",c),a("Failed to load game defaults")}finally{r(!1)}},[]);return w.useEffect(()=>{l()},[l]),{defaults:t,loading:n,error:s,reload:l}},Zne=()=>{const[t,e]=w.useState(null),[n,r]=w.useState(!0),[s,a]=w.useState(null);return w.useEffect(()=>{(async()=>{try{r(!0),a(null);const c=await tr();e({gameModes:c.gameModes.filter(d=>!d.deprecated),pointsOptions:c.pointsOptions.filter(d=>!d.deprecated),rulesets:c.rulesets.filter(d=>!d.deprecated),startingPlayerOptions:c.startingPlayerOptions.filter(d=>!d.deprecated),timeLimitOptions:c.timeLimitOptions.filter(d=>!d.deprecated),numberOfPlayersOptions:c.numberOfPlayersOptions.filter(d=>!d.deprecated)})}catch(c){console.error("Error loading game options:",c),a("Failed to load game options")}finally{r(!1)}})()},[]),{options:t,loading:n,error:s}},tie=t=>{const[e,n]=w.useState(null);return w.useEffect(()=>{t&&(async()=>{try{const a=(await tr()).gameModes.find(l=>l.value===t);n(a?{label:a.label,description:a.description,isValid:!a.deprecated}:{label:t,isValid:!1})}catch(s){console.error("Error loading game mode info:",s),n({label:t,isValid:!1})}})()},[t]),e},nie=t=>{const[e,n]=w.useState(null);return w.useEffect(()=>{t&&(async()=>{try{const a=(await tr()).pointsOptions.find(l=>l.value===t);n(a?{label:a.label,description:a.description,isValid:!a.deprecated}:{label:`${t} points`,isValid:!1})}catch(s){console.error("Error loading points info:",s),n({label:`${t} points`,isValid:!1})}})()},[t]),e},rie=t=>{const[e,n]=w.useState(null);return w.useEffect(()=>{t&&(async()=>{try{const a=(await tr()).rulesets.find(l=>l.value===t);n(a?{label:a.label,description:a.description,isValid:!a.deprecated}:{label:t,isValid:!1})}catch(s){console.error("Error loading ruleset info:",s),n({label:t,isValid:!1})}})()},[t]),e},Jne=w.forwardRef(function({className:e,multiple:n,...r},s){return p.jsxs("span",{"data-slot":"control",className:gt([e,"group relative block w-full","before:absolute before:inset-px before:rounded-[calc(var(--radius-lg)-1px)] before:bg-white before:shadow-sm","dark:before:hidden","after:pointer-events-none after:absolute after:inset-0 after:rounded-lg after:ring-transparent after:ring-inset has-data-focus:after:ring-2 has-data-focus:after:ring-blue-500","has-data-disabled:opacity-50 has-data-disabled:before:bg-zinc-950/5 has-data-disabled:before:shadow-none"]),children:[p.jsx(aF,{ref:s,multiple:n,...r,className:gt(["relative block w-full appearance-none rounded-lg py-[calc(--spacing(2.5)-1px)] sm:py-[calc(--spacing(1.5)-1px)]",n?"px-[calc(--spacing(3.5)-1px)] sm:px-[calc(--spacing(3)-1px)]":"pr-[calc(--spacing(10)-1px)] pl-[calc(--spacing(3.5)-1px)] sm:pr-[calc(--spacing(9)-1px)] sm:pl-[calc(--spacing(3)-1px)]","[&_optgroup]:font-semibold","text-base/6 text-zinc-950 placeholder:text-zinc-500 sm:text-sm/6 dark:text-white dark:*:text-white","border border-zinc-950/10 data-hover:border-zinc-950/20 dark:border-white/10 dark:data-hover:border-white/20","bg-transparent dark:bg-white/5 dark:*:bg-zinc-800","focus:outline-hidden","data-invalid:border-red-500 data-invalid:data-hover:border-red-500 dark:data-invalid:border-red-600 dark:data-invalid:data-hover:border-red-600","data-disabled:border-zinc-950/20 data-disabled:opacity-100 dark:data-disabled:border-white/15 dark:data-disabled:bg-white/2.5 dark:data-hover:data-disabled:border-white/15"])}),!n&&p.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:p.jsxs("svg",{className:"size-5 stroke-zinc-500 group-has-data-disabled:stroke-zinc-600 sm:size-4 dark:stroke-zinc-400 forced-colors:stroke-[CanvasText]",viewBox:"0 0 16 16","aria-hidden":"true",fill:"none",children:[p.jsx("path",{d:"M5.75 10.75L8 13L10.25 10.75",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),p.jsx("path",{d:"M10.25 5.25L8 3L5.75 5.25",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})]})})]})}),ere=()=>{const t=yx(),{defaults:e,loading:n}=Qne(),{options:r}=Zne(),[s,a]=w.useState(null);w.useEffect(()=>{if(e&&!n&&!s){const q=e.gameMode==="double"?4:2;a({gameMode:e.gameMode,pointsToWin:e.points,numberOfPlayers:q,startingPlayer:"creator",ruleset:e.ruleset,selectedLeague:""})}},[e,n,s]);const[l,c]=w.useState([]),[d,h]=w.useState(!0),[m,y]=w.useState(!1),[b,_]=w.useState([]),[E,T]=w.useState({team1:[],team2:[]}),[R,N]=w.useState(""),[P,M]=w.useState([]),[F,$]=w.useState(!1),[X,O]=w.useState(!1),[I,D]=w.useState(null),[L,z]=w.useState(!1),[G,U]=w.useState(1),[ye,Te]=w.useState(!1),[K,ie]=w.useState(!0),Y=()=>s?s.gameMode==="double"&&s.numberOfPlayers===4?{maxOpponents:3,isTeamGame:!0,teamsNeeded:!0,team1Size:2,team2Size:2}:{maxOpponents:s.numberOfPlayers-1,isTeamGame:!1,teamsNeeded:!1,team1Size:1,team2Size:s.numberOfPlayers-1}:{maxOpponents:1,isTeamGame:!1,teamsNeeded:!1},le=()=>Y().maxOpponents,V=w.useCallback(()=>s?s.ruleset==="boricua":!1,[s?.ruleset]),ee=w.useCallback(q=>{if(!m||!s?.selectedLeague)return!1;const Ae=l.find(qe=>qe.id===s.selectedLeague);return Ae?.settings&&{gameMode:!0,pointsToWin:!0,ruleset:!0,timeLimit:Ae.settings.timeLimit!==void 0,maxPlayers:!1,numberOfPlayers:!1}[q]||!1},[m,s?.selectedLeague,l]),fe=w.useCallback(()=>{if(!s?.selectedLeague)return null;const q=l.find(Ae=>Ae.id===s.selectedLeague);return q?.settings?{gameMode:q.settings.gameMode,pointsToWin:q.settings.pointsToWin,ruleset:q.settings.ruleset||(q.settings.useBoricuaRules?"boricua":"standard"),timeLimit:q.settings.timeLimit,maxPlayers:q.settings.maxPlayers,requireConfirmation:q.settings.requireConfirmation,penaltiesEnabled:q.settings.penaltiesEnabled}:null},[s?.selectedLeague,l]),ne=w.useCallback((q,Ae)=>{const ke=Y();ke.teamsNeeded&&T(qe=>{const At={...qe};At.team1=At.team1.filter(Kt=>Kt.uid!==q.uid),At.team2=At.team2.filter(Kt=>Kt.uid!==q.uid);const _n=At[Ae],kn=Ae==="team1"?ke.team1Size-1:ke.team2Size;return _n.length<kn&&_n.push(q),At})},[]),me=w.useCallback(q=>{T(Ae=>({team1:Ae.team1.filter(ke=>ke.uid!==q),team2:Ae.team2.filter(ke=>ke.uid!==q)}))},[]),Re=w.useCallback(q=>E.team1.some(Ae=>Ae.uid===q)?"team1":E.team2.some(Ae=>Ae.uid===q)?"team2":null,[E]),ge=w.useCallback(q=>{const Ae=Y();if(!Ae.teamsNeeded)return!0;const ke=q==="team1"?Ae.team1Size-1:Ae.team2Size;return E[q].length===ke},[E]),be=w.useMemo(()=>r?r.gameModes.map(q=>({value:q.value,label:q.label,description:q.description})):[],[r]),$e=w.useMemo(()=>r?r.pointsOptions.map(q=>({value:q.value,label:q.label,description:q.description})):[],[r]),vt=w.useMemo(()=>r?r.rulesets.map(q=>({value:q.value,label:q.label,description:q.description})):[],[r]);w.useEffect(()=>{(async()=>{try{const{getUserLeagues:Ae}=await ts(async()=>{const{getUserLeagues:qe}=await Promise.resolve().then(()=>Ite);return{getUserLeagues:qe}},void 0),ke=await Ae();c(ke)}catch(Ae){console.error("Error loading user leagues:",Ae)}finally{h(!1)}})()},[]),w.useEffect(()=>{const q=l.find(Ae=>Ae.id===s?.selectedLeague);if(q&&q.settings&&s){const Ae=q.settings.ruleset||(q.settings.useBoricuaRules?"boricua":"standard");a(ke=>ke&&{...ke,gameMode:q.settings.gameMode,pointsToWin:q.settings.pointsToWin,ruleset:Ae,...q.settings.timeLimit&&{timeLimit:q.settings.timeLimit}}),y(!0)}else y(!1);M([]),N("")},[s?.selectedLeague,l]),w.useEffect(()=>{(async()=>{if(Ie.currentUser){ie(!0);try{const Ae=await si(Ie.currentUser.uid);Te(Ae),Ae&&D("You already have an active game. You must complete it before creating a new one.")}catch(Ae){console.error("Error checking active game status:",Ae)}finally{ie(!1)}}})()},[]),w.useEffect(()=>{const Ae=setTimeout(async()=>{if(R.length<3){M([]);return}$(!0);try{let ke=[];if(s?.selectedLeague){const At=yh(),_n=Ge(Tt(At,"leagueMemberships"),Ee("leagueId","==",s.selectedLeague),Ee("status","==","active")),kn=await We(_n),Kt=[];if(kn.forEach(Ct=>{Kt.push(Ct.data().userId)}),Kt.length===0){M([]),$(!1);return}ke=(await ax(R)).filter(Ct=>Kt.includes(Ct.uid))}else ke=await ax(R);const qe=ke.filter(At=>{const _n=Ie.currentUser&&At.uid===Ie.currentUser.uid,kn=b.some(Kt=>Kt.uid===At.uid);return!_n&&!kn});M(qe)}catch(ke){console.error("Error searching opponents:",ke)}finally{$(!1)}},500);return()=>clearTimeout(Ae)},[R,b,s?.selectedLeague]);const fn=q=>{if(!s)return;const{name:Ae,value:ke}=q.target;a(qe=>qe&&{...qe,[Ae]:ke})},hn=(q,Ae)=>{if(s){if(q==="gameMode"){r?.gameModes.find(qe=>qe.value===Ae);let ke=s.numberOfPlayers;Ae==="double"?ke=[2,4].includes(s.numberOfPlayers)?s.numberOfPlayers:4:ke=2,a(qe=>qe&&{...qe,gameMode:Ae,numberOfPlayers:ke})}else a(ke=>ke&&{...ke,[q]:Ae});if((q==="gameMode"||q==="numberOfPlayers")&&b.length>0){({...s});let ke=1;q==="gameMode"?ke=Ae==="double"?s.numberOfPlayers===4?3:1:s.numberOfPlayers-1:q==="numberOfPlayers"&&(ke=s.gameMode==="double"&&Ae===4?3:1),b.length>ke&&(_(qe=>qe.slice(0,ke)),D(`Game mode changed. Maximum number of opponents is now ${ke}.`))}}},Bn=q=>{if(b.some(qe=>qe.uid===q.uid))return;const Ae=le();if(b.length>=Ae){D(`You can only select ${Ae} opponent(s) for this game mode`);return}_(qe=>[...qe,q]),Y().teamsNeeded&&(ge("team2")?ge("team1")||ne(q,"team1"):ne(q,"team2")),N(""),D(null)},Gn=q=>{_(Ae=>Ae.filter(ke=>ke.uid!==q)),me(q),D(null)},di=()=>{U(2),D(null)},Ro=()=>{U(1)},Bl=async q=>{if(q.preventDefault(),!Ie.currentUser){D("You must be logged in to create a game");return}if(!s){D("Game configuration not loaded. Please try again.");return}if(!s.selectedLeague){D("You must belong to a league to create a game. Please select a league.");return}const Ae=le(),ke=Y();if(b.length!==Ae){D(`Please select ${Ae} ${ke.teamsNeeded?"players":"opponent(s)"} for this game mode`);return}if(ke.teamsNeeded){if(!ge("team1")){D("Please assign 1 partner to your team");return}if(!ge("team2")){D("Please assign 2 players to the opposing team");return}const At=[...E.team1,...E.team2],_n=new Set(At.map(Kt=>Kt.uid));if(At.length!==_n.size){D("A player cannot be on both teams. Please check team assignments.");return}const kn=b.filter(Kt=>!Re(Kt.uid));if(kn.length>0){D(`Please assign ${kn.length} unassigned player(s) to teams`);return}}const qe=fe();if(qe){if(s.gameMode!==qe.gameMode){D(`Game mode must be "${qe.gameMode}" as set by the league`);return}if(s.pointsToWin!==qe.pointsToWin){D(`Points to win must be ${qe.pointsToWin} as set by the league`);return}if(s.ruleset!==qe.ruleset){D(`Game rules must follow "${qe.ruleset}" as set by the league`);return}if(s.numberOfPlayers>qe.maxPlayers){D(`Number of players cannot exceed ${qe.maxPlayers} as set by the league`);return}}z(!0),D(null);try{if(await si(Ie.currentUser.uid)){D("You already have an active game. You must complete it before creating a new one."),z(!1);return}let _n;if(ke.teamsNeeded){const kn=b.map(ns=>ns.uid),Kt={team1:E.team1.map(ns=>ns.uid),team2:E.team2.map(ns=>ns.uid)};_n=await YO(kn,{gameMode:s.gameMode,pointsToWin:parseInt(s.pointsToWin.toString()),numberOfPlayers:s.numberOfPlayers,startingPlayer:s.startingPlayer,useBoricuaRules:V(),ruleset:s.ruleset,leagueId:s.selectedLeague||void 0},Kt)}else _n=await KO(b[0].uid,{gameMode:s.gameMode,pointsToWin:parseInt(s.pointsToWin.toString()),numberOfPlayers:s.numberOfPlayers,startingPlayer:s.startingPlayer,useBoricuaRules:V(),ruleset:s.ruleset,leagueId:s.selectedLeague||void 0});_n&&_n.id?t(`/game/${_n.id}`):D("Failed to create game")}catch(At){console.error("Error creating game:",At),D(At.message||"An error occurred while creating the game")}finally{z(!1)}};return p.jsxs("div",{className:"p-6 max-w-6xl mx-auto text-zinc-900 dark:text-white",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx("h1",{className:"text-2xl font-bold",children:"Create New Game"}),G===2&&p.jsxs("button",{onClick:Ro,className:"flex items-center text-blue-600 hover:text-blue-800",children:[p.jsx(Ote,{className:"h-4 w-4 mr-1"}),"Back to Settings"]})]}),p.jsx(In,{children:p.jsxs(Pn,{className:"pt-6",children:[I&&p.jsxs("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded flex items-start",children:[p.jsx(dj,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),p.jsxs("div",{children:[p.jsx("p",{children:I}),ye&&p.jsx(St,{to:"/games",className:"underline font-medium block mt-1",children:"Go to My Games"})]})]}),K&&p.jsxs("div",{className:"mb-4 p-3 bg-blue-100 border border-blue-400 text-blue-700 rounded flex items-center",children:[p.jsx("div",{className:"mr-2 h-4 w-4 border-2 border-t-transparent border-blue-600 rounded-full animate-spin"}),p.jsx("span",{children:"Checking your game status..."})]}),p.jsxs("div",{className:"flex mb-6",children:[p.jsx("div",{className:`flex-1 text-center pb-2 ${G===1?"border-b-2 border-blue-500 font-medium":"border-b border-gray-300"}`,children:"1. Game Settings"}),p.jsx("div",{className:`flex-1 text-center pb-2 ${G===2?"border-b-2 border-blue-500 font-medium":"border-b border-gray-300"}`,children:"2. Select Players"})]}),p.jsx("form",{onSubmit:Bl,className:ye?"opacity-50 pointer-events-none":"",children:G===1?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"League"}),d?p.jsx("div",{className:"w-full h-10 bg-gray-200 dark:bg-zinc-700 rounded-lg animate-pulse"}):p.jsxs(Jne,{value:s?.selectedLeague||"",onChange:q=>a(Ae=>Ae&&{...Ae,selectedLeague:q.target.value}),children:[p.jsx("option",{value:"",children:"Select a league..."}),l.map(q=>p.jsx("option",{value:q.id,children:q.name},q.id))]}),s?.selectedLeague&&m&&p.jsx("p",{className:"mt-2 text-sm text-blue-600 dark:text-blue-400",children:" League settings applied automatically"})]}),p.jsxs("div",{className:"mb-6",children:[p.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Game Mode",ee("gameMode")&&p.jsx("span",{className:"ml-2 text-xs text-blue-600 dark:text-blue-400",children:"(Liga configuracin)"})]}),s?p.jsxs(p.Fragment,{children:[ee("gameMode")&&p.jsx("div",{className:"mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-900 rounded-md",children:p.jsxs("div",{className:"flex items-center text-sm text-blue-700 dark:text-blue-300",children:[p.jsx(Ui,{className:"h-4 w-4 mr-1"}),p.jsxs("span",{children:["Game mode is set by the league: ",be.find(q=>q.value===s.gameMode)?.label]})]})}),p.jsx("div",{className:`grid grid-cols-1 md:grid-cols-2 gap-4 ${ee("gameMode")?"opacity-60 pointer-events-none":""}`,children:be.map(q=>p.jsx("div",{className:`p-4 border rounded-lg cursor-pointer ${s.gameMode===q.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-zinc-600"}`,onClick:()=>!ee("gameMode")&&hn("gameMode",q.value),children:p.jsxs("div",{className:"flex items-start",children:[p.jsx("input",{type:"radio",name:"gameMode",value:q.value,checked:s.gameMode===q.value,onChange:()=>{},disabled:ee("gameMode"),className:"h-4 w-4 mt-1 text-blue-600"}),p.jsxs("div",{className:"ml-3",children:[p.jsx("span",{className:"block font-medium",children:q.label}),p.jsx("span",{className:"block text-sm text-gray-500 dark:text-zinc-400",children:q.description})]})]})},q.value))})]}):p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx("div",{className:"h-20 bg-gray-200 dark:bg-zinc-700 rounded-lg animate-pulse"}),p.jsx("div",{className:"h-20 bg-gray-200 dark:bg-zinc-700 rounded-lg animate-pulse"})]})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Number of Players"}),s?p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx("div",{className:`p-4 border rounded-lg cursor-pointer ${s.numberOfPlayers===2?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-zinc-600"}`,onClick:()=>hn("numberOfPlayers",2),children:p.jsxs("div",{className:"flex items-start",children:[p.jsx("input",{type:"radio",name:"numberOfPlayers",checked:s.numberOfPlayers===2,onChange:()=>{},className:"h-4 w-4 mt-1 text-blue-600"}),p.jsxs("div",{className:"ml-3",children:[p.jsx("span",{className:"block font-medium",children:"2 Players"}),p.jsx("span",{className:"block text-sm text-gray-500 dark:text-zinc-400",children:"Head-to-head competition"})]})]})}),p.jsx("div",{className:`p-4 border rounded-lg cursor-pointer ${s.numberOfPlayers===4?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-zinc-600"} ${s.gameMode!=="double"?"opacity-50 cursor-not-allowed":""}`,onClick:()=>s.gameMode==="double"&&hn("numberOfPlayers",4),children:p.jsxs("div",{className:"flex items-start",children:[p.jsx("input",{type:"radio",name:"numberOfPlayers",checked:s.numberOfPlayers===4,disabled:s.gameMode!=="double",onChange:()=>{},className:"h-4 w-4 mt-1 text-blue-600"}),p.jsxs("div",{className:"ml-3",children:[p.jsx("span",{className:"block font-medium",children:"4 Players"}),p.jsx("span",{className:"block text-sm text-gray-500 dark:text-zinc-400",children:s.gameMode==="double"?"Team play (2 vs 2)":"Requires Double mode"})]})]})})]}):p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx("div",{className:"h-20 bg-gray-200 dark:bg-zinc-700 rounded-lg animate-pulse"}),p.jsx("div",{className:"h-20 bg-gray-200 dark:bg-zinc-700 rounded-lg animate-pulse"})]})]}),p.jsxs("div",{className:"mb-6",children:[p.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Points to Win",ee("pointsToWin")&&p.jsx("span",{className:"ml-2 text-xs text-blue-600 dark:text-blue-400",children:"(Liga configuracin)"})]}),s?p.jsxs(p.Fragment,{children:[ee("pointsToWin")&&p.jsx("div",{className:"mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-900 rounded-md",children:p.jsxs("div",{className:"flex items-center text-sm text-blue-700 dark:text-blue-300",children:[p.jsx(Ui,{className:"h-4 w-4 mr-1"}),p.jsxs("span",{children:["Points to win is set by the league: ",$e.find(q=>q.value===s.pointsToWin)?.label||`${s.pointsToWin} points`]})]})}),p.jsx("select",{name:"pointsToWin",value:s.pointsToWin,onChange:fn,disabled:ee("pointsToWin"),className:`w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-zinc-700 dark:border-zinc-600 ${ee("pointsToWin")?"opacity-60 cursor-not-allowed":""}`,children:$e.map(q=>p.jsxs("option",{value:q.value,children:[q.label," ",q.description&&`(${q.description})`]},q.value))})]}):p.jsx("div",{className:"w-full h-10 bg-gray-200 dark:bg-zinc-700 rounded-lg animate-pulse"})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{className:"block text-sm font-medium mb-2",children:"Starting Player"}),s?p.jsxs("select",{name:"startingPlayer",value:s.startingPlayer,onChange:fn,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-zinc-700 dark:border-zinc-600",children:[p.jsx("option",{value:"creator",children:"Game creator"}),p.jsx("option",{value:"opponent",children:"Opponent"}),p.jsx("option",{value:"random",children:"Random selection"})]}):p.jsx("div",{className:"w-full h-10 bg-gray-200 dark:bg-zinc-700 rounded-lg animate-pulse"})]}),p.jsxs("div",{className:"mb-6",children:[p.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Game Rules",ee("ruleset")&&p.jsx("span",{className:"ml-2 text-xs text-blue-600 dark:text-blue-400",children:"(Liga configuracin)"})]}),s?p.jsxs(p.Fragment,{children:[ee("ruleset")&&p.jsx("div",{className:"mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-900 rounded-md",children:p.jsxs("div",{className:"flex items-center text-sm text-blue-700 dark:text-blue-300",children:[p.jsx(Ui,{className:"h-4 w-4 mr-1"}),p.jsxs("span",{children:["Game rules are set by the league: ",vt.find(q=>q.value===s.ruleset)?.label||s.ruleset]})]})}),p.jsx("select",{name:"ruleset",value:s.ruleset,onChange:fn,disabled:ee("ruleset"),className:`w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-zinc-700 dark:border-zinc-600 ${ee("ruleset")?"opacity-60 cursor-not-allowed":""}`,children:vt.map(q=>p.jsxs("option",{value:q.value,children:[q.label," ",q.description&&`- ${q.description}`]},q.value))}),s&&s.ruleset&&p.jsxs("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-md text-sm flex items-start",children:[p.jsx(Ui,{className:"h-5 w-5 text-blue-600 mr-2 flex-shrink-0 mt-0.5"}),p.jsxs("div",{className:"text-gray-700 dark:text-zinc-300",children:[vt.find(q=>q.value===s.ruleset)?.description,ee("ruleset")&&p.jsx("div",{className:"mt-1 text-xs text-blue-600 dark:text-blue-400",children:"These rules are enforced by your selected league"})]})]})]}):p.jsx("div",{className:"w-full h-10 bg-gray-200 dark:bg-zinc-700 rounded-lg animate-pulse"})]}),p.jsx("button",{type:"button",onClick:di,disabled:ye||!s,className:`w-full py-2 rounded-md font-medium ${ye||!s?"bg-gray-300 text-gray-500 cursor-not-allowed dark:bg-zinc-700 dark:text-zinc-400":"bg-blue-600 text-white hover:bg-blue-700"}`,children:"Continue to Player Selection"})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"mb-6",children:[p.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Find Opponent",p.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500 dark:text-zinc-400",children:["(",b.length," of ",le()," selected)"]})]}),s?.selectedLeague&&p.jsx("div",{className:"mb-2 p-2 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-900 rounded-md",children:p.jsxs("div",{className:"flex items-center text-sm text-blue-700 dark:text-blue-300",children:[p.jsx(Ui,{className:"h-4 w-4 mr-1"}),p.jsxs("span",{children:["Search limited to members of: ",l.find(q=>q.id===s?.selectedLeague)?.name||"Selected league"]}),p.jsx("span",{className:"ml-2 text-xs text-blue-600 dark:text-blue-400",children:"(League settings)"})]})}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"text",value:R,onChange:q=>N(q.target.value),onFocus:()=>O(!0),onBlur:()=>setTimeout(()=>O(!1),200),placeholder:s.selectedLeague?"Search league members (min 3 characters)":"Search by username or name (min 3 characters)",className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-zinc-700 dark:border-zinc-600"}),R.length>=3&&X&&p.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-zinc-700 border border-gray-300 dark:border-zinc-600 rounded-md shadow-lg max-h-60 overflow-auto",children:F?p.jsx("div",{className:"p-3 text-center",children:p.jsx("span",{children:"Searching..."})}):P.length===0?p.jsx("div",{className:"p-3 text-center",children:p.jsx("span",{children:s.selectedLeague?"No league members found with that name":"No users found"})}):p.jsx("ul",{children:P.map(q=>p.jsx("li",{onClick:()=>Bn(q),className:"p-3 hover:bg-gray-100 dark:hover:bg-zinc-600 cursor-pointer",children:p.jsxs("div",{className:"flex items-center",children:[q.photoURL&&p.jsx("img",{src:q.photoURL,alt:q.displayName,className:"w-8 h-8 rounded-full mr-2"}),p.jsxs("div",{children:[p.jsx("span",{className:"block font-medium",children:q.displayName}),q.username&&p.jsxs("span",{className:"text-sm text-gray-500 dark:text-zinc-400",children:["@",q.username]})]})]})},q.uid))})})]}),b.length>0&&p.jsx("div",{className:"mt-4",children:Y().teamsNeeded?p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium mb-3",children:"Team Assignments (2 vs 2):"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"border border-blue-200 dark:border-blue-800 rounded-lg p-3 bg-blue-50 dark:bg-blue-900/10",children:[p.jsxs("div",{className:"flex items-center mb-2",children:[p.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),p.jsx("h5",{className:"font-medium text-blue-700 dark:text-blue-300",children:"Your Team"})]}),p.jsx("div",{className:"mb-2 p-2 bg-white dark:bg-zinc-700 rounded border border-blue-300 dark:border-blue-700",children:p.jsxs("div",{className:"flex items-center",children:[Ie.currentUser?.photoURL&&p.jsx("img",{src:Ie.currentUser.photoURL,alt:"You",className:"w-6 h-6 rounded-full mr-2"}),p.jsxs("div",{children:[p.jsx("span",{className:"block font-medium text-sm",children:"You"}),p.jsx("span",{className:"text-xs text-gray-500 dark:text-zinc-400",children:"Team Captain"})]})]})}),E.team1.length>0?E.team1.map(q=>p.jsx("div",{className:"p-2 bg-white dark:bg-zinc-700 rounded border border-blue-300 dark:border-blue-700",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[q.photoURL&&p.jsx("img",{src:q.photoURL,alt:q.displayName,className:"w-6 h-6 rounded-full mr-2"}),p.jsxs("div",{children:[p.jsx("span",{className:"block font-medium text-sm",children:q.displayName}),q.username&&p.jsxs("span",{className:"text-xs text-gray-500 dark:text-zinc-400",children:["@",q.username]})]})]}),p.jsxs("div",{className:"flex space-x-1",children:[p.jsx("button",{type:"button",onClick:()=>ne(q,"team2"),className:"text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 dark:bg-zinc-600 dark:hover:bg-zinc-500 rounded",title:"Move to opposing team",children:""}),p.jsx("button",{type:"button",onClick:()=>Gn(q.uid),className:"text-xs px-2 py-1 bg-red-100 hover:bg-red-200 dark:bg-red-900/20 dark:hover:bg-red-900/40 text-red-600 rounded",title:"Remove player",children:""})]})]})},q.uid)):p.jsx("div",{className:"p-2 border-2 border-dashed border-blue-300 dark:border-blue-700 rounded text-center text-sm text-gray-500 dark:text-zinc-400",children:"Need 1 partner"})]}),p.jsxs("div",{className:"border border-red-200 dark:border-red-800 rounded-lg p-3 bg-red-50 dark:bg-red-900/10",children:[p.jsxs("div",{className:"flex items-center mb-2",children:[p.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-2"}),p.jsx("h5",{className:"font-medium text-red-700 dark:text-red-300",children:"Opposing Team"})]}),E.team2.length>0?E.team2.map(q=>p.jsx("div",{className:"mb-2 p-2 bg-white dark:bg-zinc-700 rounded border border-red-300 dark:border-red-700",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[q.photoURL&&p.jsx("img",{src:q.photoURL,alt:q.displayName,className:"w-6 h-6 rounded-full mr-2"}),p.jsxs("div",{children:[p.jsx("span",{className:"block font-medium text-sm",children:q.displayName}),q.username&&p.jsxs("span",{className:"text-xs text-gray-500 dark:text-zinc-400",children:["@",q.username]})]})]}),p.jsxs("div",{className:"flex space-x-1",children:[p.jsx("button",{type:"button",onClick:()=>ne(q,"team1"),className:"text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 dark:bg-zinc-600 dark:hover:bg-zinc-500 rounded",title:"Move to your team",children:""}),p.jsx("button",{type:"button",onClick:()=>Gn(q.uid),className:"text-xs px-2 py-1 bg-red-100 hover:bg-red-200 dark:bg-red-900/20 dark:hover:bg-red-900/40 text-red-600 rounded",title:"Remove player",children:""})]})]})},q.uid)):p.jsx("div",{className:"p-2 border-2 border-dashed border-red-300 dark:border-red-700 rounded text-center text-sm text-gray-500 dark:text-zinc-400",children:"Need 2 opponents"}),E.team2.length===1&&p.jsx("div",{className:"p-2 border-2 border-dashed border-red-300 dark:border-red-700 rounded text-center text-sm text-gray-500 dark:text-zinc-400",children:"Need 1 more opponent"})]})]}),b.filter(q=>!Re(q.uid)).length>0&&p.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-900 rounded-lg",children:[p.jsx("h5",{className:"text-sm font-medium text-yellow-700 dark:text-yellow-300 mb-2",children:"Unassigned Players (click to assign to a team):"}),p.jsx("div",{className:"space-y-2",children:b.filter(q=>!Re(q.uid)).map(q=>p.jsxs("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-zinc-700 rounded border",children:[p.jsxs("div",{className:"flex items-center",children:[q.photoURL&&p.jsx("img",{src:q.photoURL,alt:q.displayName,className:"w-6 h-6 rounded-full mr-2"}),p.jsxs("div",{children:[p.jsx("span",{className:"block font-medium text-sm",children:q.displayName}),q.username&&p.jsxs("span",{className:"text-xs text-gray-500 dark:text-zinc-400",children:["@",q.username]})]})]}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx("button",{type:"button",onClick:()=>ne(q,"team1"),disabled:ge("team1"),className:"text-xs px-3 py-1 bg-blue-100 hover:bg-blue-200 disabled:bg-gray-100 disabled:cursor-not-allowed text-blue-700 disabled:text-gray-500 rounded",children:"Your Team"}),p.jsx("button",{type:"button",onClick:()=>ne(q,"team2"),disabled:ge("team2"),className:"text-xs px-3 py-1 bg-red-100 hover:bg-red-200 disabled:bg-gray-100 disabled:cursor-not-allowed text-red-700 disabled:text-gray-500 rounded",children:"Opponents"})]})]},q.uid))})]})]}):p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium mb-2",children:"Selected Opponents:"}),p.jsx("div",{className:"space-y-2",children:b.map(q=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-900 rounded-md",children:[p.jsxs("div",{className:"flex items-center",children:[q.photoURL&&p.jsx("img",{src:q.photoURL,alt:q.displayName,className:"w-8 h-8 rounded-full mr-2"}),p.jsxs("div",{children:[p.jsx("span",{className:"block font-medium",children:q.displayName}),q.username&&p.jsxs("span",{className:"text-sm text-gray-500 dark:text-zinc-400",children:["@",q.username]})]})]}),p.jsx("button",{type:"button",onClick:()=>Gn(q.uid),className:"p-1 text-red-500 hover:text-red-700 rounded-full hover:bg-red-100 dark:hover:bg-red-900/20","aria-label":"Remove opponent",children:p.jsx(une,{className:"h-5 w-5"})})]},q.uid))})]})}),b.length<le()&&p.jsxs("div",{className:"mt-3 flex items-center text-blue-600 dark:text-blue-400 text-sm",children:[p.jsx(ane,{className:"h-4 w-4 mr-1"}),p.jsx("span",{children:Y().teamsNeeded?p.jsxs(p.Fragment,{children:[le()-b.length," more player",le()-b.length>1?"s":""," needed",b.length>0&&p.jsxs("span",{className:"ml-1 text-xs",children:["(1 partner + ",2-E.team2.length," opponent",2-E.team2.length!==1?"s":"",")"]})]}):p.jsxs(p.Fragment,{children:[le()-b.length," more opponent",le()-b.length>1?"s":""," needed"]})})]}),Y().teamsNeeded&&b.length===le()&&p.jsxs("div",{className:"mt-3",children:[!ge("team1")&&p.jsxs("div",{className:"flex items-center text-yellow-600 dark:text-yellow-400 text-sm mb-1",children:[p.jsx(Ui,{className:"h-4 w-4 mr-1"}),p.jsx("span",{children:"Please assign 1 partner to your team"})]}),!ge("team2")&&p.jsxs("div",{className:"flex items-center text-yellow-600 dark:text-yellow-400 text-sm mb-1",children:[p.jsx(Ui,{className:"h-4 w-4 mr-1"}),p.jsx("span",{children:"Please assign 2 players to the opposing team"})]}),ge("team1")&&ge("team2")&&p.jsxs("div",{className:"flex items-center text-green-600 dark:text-green-400 text-sm",children:[p.jsx(Ui,{className:"h-4 w-4 mr-1"}),p.jsx("span",{children:" Teams are ready! You can create the game."})]})]})]}),s&&p.jsxs("div",{className:"mb-6",children:[p.jsx("h3",{className:"text-lg font-medium mb-3",children:"Game Summary"}),m&&p.jsxs("div",{className:"mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-900 rounded-md",children:[p.jsxs("div",{className:"flex items-center text-sm text-blue-700 dark:text-blue-300 mb-2",children:[p.jsx(Ui,{className:"h-4 w-4 mr-1"}),p.jsx("span",{className:"font-medium",children:"League Configuration Applied"})]}),p.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400",children:"The following settings are enforced by your selected league and cannot be modified:"})]}),p.jsx("div",{className:"bg-gray-50 dark:bg-zinc-700/50 rounded-md p-4",children:p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsxs("span",{className:"block text-sm text-gray-500 dark:text-zinc-400",children:["Game Mode",ee("gameMode")&&p.jsx("span",{className:"ml-1 text-xs text-blue-500",children:" Liga"})]}),p.jsx("span",{className:"font-medium",children:be.find(q=>q.value===s.gameMode)?.label||s.gameMode})]}),p.jsxs("div",{children:[p.jsx("span",{className:"block text-sm text-gray-500 dark:text-zinc-400",children:"Players"}),p.jsx("span",{className:"font-medium",children:s.numberOfPlayers})]}),p.jsxs("div",{children:[p.jsxs("span",{className:"block text-sm text-gray-500 dark:text-zinc-400",children:["Points to Win",ee("pointsToWin")&&p.jsx("span",{className:"ml-1 text-xs text-blue-500",children:" Liga"})]}),p.jsx("span",{className:"font-medium",children:$e.find(q=>q.value===s.pointsToWin)?.label||s.pointsToWin})]}),p.jsxs("div",{children:[p.jsx("span",{className:"block text-sm text-gray-500 dark:text-zinc-400",children:"Starting Player"}),p.jsx("span",{className:"font-medium",children:s.startingPlayer==="creator"?"Game Creator":s.startingPlayer==="opponent"?"Opponent":"Random Selection"})]}),p.jsxs("div",{className:"col-span-2",children:[p.jsxs("span",{className:"block text-sm text-gray-500 dark:text-zinc-400",children:["Rules",ee("ruleset")&&p.jsx("span",{className:"ml-1 text-xs text-blue-500",children:" Liga"})]}),p.jsx("span",{className:"font-medium",children:vt.find(q=>q.value===s.ruleset)?.label||s.ruleset})]}),Y().teamsNeeded&&b.length===le()&&p.jsxs("div",{className:"col-span-2 mt-3 pt-3 border-t border-gray-200 dark:border-zinc-600",children:[p.jsx("span",{className:"block text-sm text-gray-500 dark:text-zinc-400 mb-2",children:"Team Composition"}),p.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[p.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-2 rounded",children:[p.jsx("div",{className:"font-medium text-blue-700 dark:text-blue-300 mb-1",children:"Your Team"}),p.jsxs("div",{className:"text-xs space-y-1",children:[p.jsx("div",{children:" You (Captain)"}),E.team1.map(q=>p.jsxs("div",{children:[" ",q.displayName]},q.uid))]})]}),p.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-2 rounded",children:[p.jsx("div",{className:"font-medium text-red-700 dark:text-red-300 mb-1",children:"Opposing Team"}),p.jsx("div",{className:"text-xs space-y-1",children:E.team2.map(q=>p.jsxs("div",{children:[" ",q.displayName]},q.uid))})]})]})]}),fe()&&p.jsxs("div",{className:"col-span-2 mt-3 pt-3 border-t border-gray-200 dark:border-zinc-600",children:[p.jsx("span",{className:"block text-sm text-gray-500 dark:text-zinc-400 mb-2",children:"League Information"}),p.jsxs("div",{className:"text-sm text-gray-600 dark:text-zinc-400 space-y-1",children:[p.jsxs("div",{children:["Selected League: ",l.find(q=>q.id===s.selectedLeague)?.name]}),fe()?.timeLimit&&p.jsxs("div",{children:["Time Limit: ",fe()?.timeLimit," minutes per game"]}),fe()?.maxPlayers&&p.jsxs("div",{children:["Maximum Players in League: ",fe()?.maxPlayers]})]})]})]})})]}),p.jsx("button",{type:"submit",disabled:L||b.length!==le()||ye||!s,className:`w-full py-2 rounded-md font-medium ${L||b.length!==le()||ye||!s?"bg-gray-300 text-gray-500 cursor-not-allowed dark:bg-zinc-700 dark:text-zinc-400":"bg-blue-600 text-white hover:bg-blue-700"}`,children:L?"Creating Game...":"Create Game"})]})})]})})]})};var Pb={exports:{}},kb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yN;function tre(){if(yN)return kb;yN=1;var t=Bf();function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function c(y,b){var _=b(),E=r({inst:{value:_,getSnapshot:b}}),T=E[0].inst,R=E[1];return a(function(){T.value=_,T.getSnapshot=b,d(T)&&R({inst:T})},[y,_,b]),s(function(){return d(T)&&R({inst:T}),y(function(){d(T)&&R({inst:T})})},[y]),l(_),_}function d(y){var b=y.getSnapshot;y=y.value;try{var _=b();return!n(y,_)}catch{return!0}}function h(y,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return kb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,kb}var bN;function nre(){return bN||(bN=1,Pb.exports=tre()),Pb.exports}var rre=nre();function sre(){return rre.useSyncExternalStore(ire,()=>!0,()=>!1)}function ire(){return()=>{}}var KE="Avatar",[are,sie]=jl(KE),[ore,Mj]=are(KE),Dj=w.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,a]=w.useState("idle");return p.jsx(ore,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:p.jsx(qt.span,{...r,ref:e})})});Dj.displayName=KE;var Oj="AvatarImage",jj=w.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...a}=t,l=Mj(Oj,n),c=lre(r,a),d=ai(h=>{s(h),l.onImageLoadingStatusChange(h)});return bs(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?p.jsx(qt.img,{...a,ref:e,src:r}):null});jj.displayName=Oj;var Lj="AvatarFallback",Vj=w.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,a=Mj(Lj,n),[l,c]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(d)}},[r]),l&&a.imageLoadingStatus!=="loaded"?p.jsx(qt.span,{...s,ref:e}):null});Vj.displayName=Lj;function wN(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function lre(t,{referrerPolicy:e,crossOrigin:n}){const r=sre(),s=w.useRef(null),a=r?(s.current||(s.current=new window.Image),s.current):null,[l,c]=w.useState(()=>wN(a,t));return bs(()=>{c(wN(a,t))},[a,t]),bs(()=>{const d=y=>()=>{c(y)};if(!a)return;const h=d("loaded"),m=d("error");return a.addEventListener("load",h),a.addEventListener("error",m),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",h),a.removeEventListener("error",m)}},[a,n,e]),l}var ure=Dj,cre=jj,dre=Vj;function Mb({className:t,...e}){return p.jsx(ure,{"data-slot":"avatar",className:Lt("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...e})}function Db({className:t,...e}){return p.jsx(cre,{"data-slot":"avatar-image",className:Lt("aspect-square size-full",t),...e})}function Ob({className:t,...e}){return p.jsx(dre,{"data-slot":"avatar-fallback",className:Lt("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Za(t,e){return typeof t=="function"?t(e):t}function jr(t,e){return n=>{e.setState(r=>({...r,[t]:Za(n,r[t])}))}}function Iv(t){return t instanceof Function}function fre(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function hre(t,e){const n=[],r=s=>{s.forEach(a=>{n.push(a);const l=e(a);l!=null&&l.length&&r(l)})};return r(t),n}function Oe(t,e,n){let r=[],s;return a=>{let l;n.key&&n.debug&&(l=Date.now());const c=t(a);if(!(c.length!==r.length||c.some((m,y)=>r[y]!==m)))return s;r=c;let h;if(n.key&&n.debug&&(h=Date.now()),s=e(...c),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const m=Math.round((Date.now()-l)*100)/100,y=Math.round((Date.now()-h)*100)/100,b=y/16,_=(E,T)=>{for(E=String(E);E.length<T;)E=" "+E;return E};console.info(`%c ${_(y,5)} /${_(m,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,n?.key)}return s}}function je(t,e,n,r){return{debug:()=>{var s;return(s=t?.debugAll)!=null?s:t[e]},key:!1,onChange:r}}function mre(t,e,n,r){const s=()=>{var l;return(l=a.getValue())!=null?l:t.options.renderFallbackValue},a={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:s,getContext:Oe(()=>[t,n,e,a],(l,c,d,h)=>({table:l,column:c,row:d,cell:h,getValue:h.getValue,renderValue:h.renderValue}),je(t.options,"debugCells"))};return t._features.forEach(l=>{l.createCell==null||l.createCell(a,n,e,t)},{}),a}function pre(t,e,n,r){var s,a;const c={...t._getDefaultColumnDef(),...e},d=c.accessorKey;let h=(s=(a=c.id)!=null?a:d?typeof String.prototype.replaceAll=="function"?d.replaceAll(".","_"):d.replace(/\./g,"_"):void 0)!=null?s:typeof c.header=="string"?c.header:void 0,m;if(c.accessorFn?m=c.accessorFn:d&&(d.includes(".")?m=b=>{let _=b;for(const T of d.split(".")){var E;_=(E=_)==null?void 0:E[T]}return _}:m=b=>b[c.accessorKey]),!h)throw new Error;let y={id:`${String(h)}`,accessorFn:m,parent:r,depth:n,columnDef:c,columns:[],getFlatColumns:Oe(()=>[!0],()=>{var b;return[y,...(b=y.columns)==null?void 0:b.flatMap(_=>_.getFlatColumns())]},je(t.options,"debugColumns")),getLeafColumns:Oe(()=>[t._getOrderColumnsFn()],b=>{var _;if((_=y.columns)!=null&&_.length){let E=y.columns.flatMap(T=>T.getLeafColumns());return b(E)}return[y]},je(t.options,"debugColumns"))};for(const b of t._features)b.createColumn==null||b.createColumn(y,t);return y}const Yn="debugHeaders";function xN(t,e,n){var r;let a={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const l=[],c=d=>{d.subHeaders&&d.subHeaders.length&&d.subHeaders.map(c),l.push(d)};return c(a),l},getContext:()=>({table:t,header:a,column:e})};return t._features.forEach(l=>{l.createHeader==null||l.createHeader(a,t)}),a}const gre={createTable:t=>{t.getHeaderGroups=Oe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,s)=>{var a,l;const c=(a=r?.map(y=>n.find(b=>b.id===y)).filter(Boolean))!=null?a:[],d=(l=s?.map(y=>n.find(b=>b.id===y)).filter(Boolean))!=null?l:[],h=n.filter(y=>!(r!=null&&r.includes(y.id))&&!(s!=null&&s.includes(y.id)));return hp(e,[...c,...h,...d],t)},je(t.options,Yn)),t.getCenterHeaderGroups=Oe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,s)=>(n=n.filter(a=>!(r!=null&&r.includes(a.id))&&!(s!=null&&s.includes(a.id))),hp(e,n,t,"center")),je(t.options,Yn)),t.getLeftHeaderGroups=Oe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var s;const a=(s=r?.map(l=>n.find(c=>c.id===l)).filter(Boolean))!=null?s:[];return hp(e,a,t,"left")},je(t.options,Yn)),t.getRightHeaderGroups=Oe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var s;const a=(s=r?.map(l=>n.find(c=>c.id===l)).filter(Boolean))!=null?s:[];return hp(e,a,t,"right")},je(t.options,Yn)),t.getFooterGroups=Oe(()=>[t.getHeaderGroups()],e=>[...e].reverse(),je(t.options,Yn)),t.getLeftFooterGroups=Oe(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),je(t.options,Yn)),t.getCenterFooterGroups=Oe(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),je(t.options,Yn)),t.getRightFooterGroups=Oe(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),je(t.options,Yn)),t.getFlatHeaders=Oe(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),je(t.options,Yn)),t.getLeftFlatHeaders=Oe(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),je(t.options,Yn)),t.getCenterFlatHeaders=Oe(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),je(t.options,Yn)),t.getRightFlatHeaders=Oe(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),je(t.options,Yn)),t.getCenterLeafHeaders=Oe(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),je(t.options,Yn)),t.getLeftLeafHeaders=Oe(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),je(t.options,Yn)),t.getRightLeafHeaders=Oe(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),je(t.options,Yn)),t.getLeafHeaders=Oe(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var s,a,l,c,d,h;return[...(s=(a=e[0])==null?void 0:a.headers)!=null?s:[],...(l=(c=n[0])==null?void 0:c.headers)!=null?l:[],...(d=(h=r[0])==null?void 0:h.headers)!=null?d:[]].map(m=>m.getLeafHeaders()).flat()},je(t.options,Yn))}};function hp(t,e,n,r){var s,a;let l=0;const c=function(b,_){_===void 0&&(_=1),l=Math.max(l,_),b.filter(E=>E.getIsVisible()).forEach(E=>{var T;(T=E.columns)!=null&&T.length&&c(E.columns,_+1)},0)};c(t);let d=[];const h=(b,_)=>{const E={depth:_,id:[r,`${_}`].filter(Boolean).join("_"),headers:[]},T=[];b.forEach(R=>{const N=[...T].reverse()[0],P=R.column.depth===E.depth;let M,F=!1;if(P&&R.column.parent?M=R.column.parent:(M=R.column,F=!0),N&&N?.column===M)N.subHeaders.push(R);else{const $=xN(n,M,{id:[r,_,M.id,R?.id].filter(Boolean).join("_"),isPlaceholder:F,placeholderId:F?`${T.filter(X=>X.column===M).length}`:void 0,depth:_,index:T.length});$.subHeaders.push(R),T.push($)}E.headers.push(R),R.headerGroup=E}),d.push(E),_>0&&h(T,_-1)},m=e.map((b,_)=>xN(n,b,{depth:l,index:_}));h(m,l-1),d.reverse();const y=b=>b.filter(E=>E.column.getIsVisible()).map(E=>{let T=0,R=0,N=[0];E.subHeaders&&E.subHeaders.length?(N=[],y(E.subHeaders).forEach(M=>{let{colSpan:F,rowSpan:$}=M;T+=F,N.push($)})):T=1;const P=Math.min(...N);return R=R+P,E.colSpan=T,E.rowSpan=R,{colSpan:T,rowSpan:R}});return y((s=(a=d[0])==null?void 0:a.headers)!=null?s:[]),d}const YE=(t,e,n,r,s,a,l)=>{let c={id:e,index:r,original:n,depth:s,parentId:l,_valuesCache:{},_uniqueValuesCache:{},getValue:d=>{if(c._valuesCache.hasOwnProperty(d))return c._valuesCache[d];const h=t.getColumn(d);if(h!=null&&h.accessorFn)return c._valuesCache[d]=h.accessorFn(c.original,r),c._valuesCache[d]},getUniqueValues:d=>{if(c._uniqueValuesCache.hasOwnProperty(d))return c._uniqueValuesCache[d];const h=t.getColumn(d);if(h!=null&&h.accessorFn)return h.columnDef.getUniqueValues?(c._uniqueValuesCache[d]=h.columnDef.getUniqueValues(c.original,r),c._uniqueValuesCache[d]):(c._uniqueValuesCache[d]=[c.getValue(d)],c._uniqueValuesCache[d])},renderValue:d=>{var h;return(h=c.getValue(d))!=null?h:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>hre(c.subRows,d=>d.subRows),getParentRow:()=>c.parentId?t.getRow(c.parentId,!0):void 0,getParentRows:()=>{let d=[],h=c;for(;;){const m=h.getParentRow();if(!m)break;d.push(m),h=m}return d.reverse()},getAllCells:Oe(()=>[t.getAllLeafColumns()],d=>d.map(h=>mre(t,c,h,h.id)),je(t.options,"debugRows")),_getAllCellsByColumnId:Oe(()=>[c.getAllCells()],d=>d.reduce((h,m)=>(h[m.column.id]=m,h),{}),je(t.options,"debugRows"))};for(let d=0;d<t._features.length;d++){const h=t._features[d];h==null||h.createRow==null||h.createRow(c,t)}return c},vre={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},Uj=(t,e,n)=>{var r,s;const a=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=t.getValue(e))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(a))};Uj.autoRemove=t=>ps(t);const Fj=(t,e,n)=>{var r;return!!(!((r=t.getValue(e))==null||(r=r.toString())==null)&&r.includes(n))};Fj.autoRemove=t=>ps(t);const zj=(t,e,n)=>{var r;return((r=t.getValue(e))==null||(r=r.toString())==null?void 0:r.toLowerCase())===n?.toLowerCase()};zj.autoRemove=t=>ps(t);const $j=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};$j.autoRemove=t=>ps(t);const Bj=(t,e,n)=>!n.some(r=>{var s;return!((s=t.getValue(e))!=null&&s.includes(r))});Bj.autoRemove=t=>ps(t)||!(t!=null&&t.length);const Gj=(t,e,n)=>n.some(r=>{var s;return(s=t.getValue(e))==null?void 0:s.includes(r)});Gj.autoRemove=t=>ps(t)||!(t!=null&&t.length);const Hj=(t,e,n)=>t.getValue(e)===n;Hj.autoRemove=t=>ps(t);const qj=(t,e,n)=>t.getValue(e)==n;qj.autoRemove=t=>ps(t);const XE=(t,e,n)=>{let[r,s]=n;const a=t.getValue(e);return a>=r&&a<=s};XE.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,s=typeof n!="number"?parseFloat(n):n,a=e===null||Number.isNaN(r)?-1/0:r,l=n===null||Number.isNaN(s)?1/0:s;if(a>l){const c=a;a=l,l=c}return[a,l]};XE.autoRemove=t=>ps(t)||ps(t[0])&&ps(t[1]);const $i={includesString:Uj,includesStringSensitive:Fj,equalsString:zj,arrIncludes:$j,arrIncludesAll:Bj,arrIncludesSome:Gj,equals:Hj,weakEquals:qj,inNumberRange:XE};function ps(t){return t==null||t===""}const yre={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:jr("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n?.getValue(t.id);return typeof r=="string"?$i.includesString:typeof r=="number"?$i.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?$i.equals:Array.isArray(r)?$i.arrIncludes:$i.weakEquals},t.getFilterFn=()=>{var n,r;return Iv(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:$i[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,r,s;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((s=e.options.enableFilters)!=null?s:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(r=>r.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(r=>{const s=t.getFilterFn(),a=r?.find(m=>m.id===t.id),l=Za(n,a?a.value:void 0);if(_N(s,l,t)){var c;return(c=r?.filter(m=>m.id!==t.id))!=null?c:[]}const d={id:t.id,value:l};if(a){var h;return(h=r?.map(m=>m.id===t.id?d:m))!=null?h:[]}return r!=null&&r.length?[...r,d]:[d]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),r=s=>{var a;return(a=Za(e,s))==null?void 0:a.filter(l=>{const c=n.find(d=>d.id===l.id);if(c){const d=c.getFilterFn();if(_N(d,l.value,c))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},t.resetColumnFilters=e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function _N(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const bre=(t,e,n)=>n.reduce((r,s)=>{const a=s.getValue(t);return r+(typeof a=="number"?a:0)},0),wre=(t,e,n)=>{let r;return n.forEach(s=>{const a=s.getValue(t);a!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}),r},xre=(t,e,n)=>{let r;return n.forEach(s=>{const a=s.getValue(t);a!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}),r},_re=(t,e,n)=>{let r,s;return n.forEach(a=>{const l=a.getValue(t);l!=null&&(r===void 0?l>=l&&(r=s=l):(r>l&&(r=l),s<l&&(s=l)))}),[r,s]},Ere=(t,e)=>{let n=0,r=0;if(e.forEach(s=>{let a=s.getValue(t);a!=null&&(a=+a)>=a&&(++n,r+=a)}),n)return r/n},Sre=(t,e)=>{if(!e.length)return;const n=e.map(a=>a.getValue(t));if(!fre(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((a,l)=>a-l);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},Tre=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),Rre=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,Are=(t,e)=>e.length,jb={sum:bre,min:wre,max:xre,extent:_re,mean:Ere,median:Sre,unique:Tre,uniqueCount:Rre,count:Are},Cre={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:jr("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,r;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((r=e.options.enableGrouping)!=null?r:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n?.getValue(t.id);if(typeof r=="number")return jb.sum;if(Object.prototype.toString.call(r)==="[object Date]")return jb.extent},t.getAggregationFn=()=>{var n,r;if(!t)throw new Error;return Iv(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:jb[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,r)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var s;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function Nre(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(a=>!e.includes(a.id));return n==="remove"?r:[...e.map(a=>t.find(l=>l.id===a)).filter(Boolean),...r]}const Ire={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:jr("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=Oe(n=>[yf(e,n)],n=>n.findIndex(r=>r.id===t.id),je(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var r;return((r=yf(e,n)[0])==null?void 0:r.id)===t.id},t.getIsLastColumn=n=>{var r;const s=yf(e,n);return((r=s[s.length-1])==null?void 0:r.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=Oe(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>s=>{let a=[];if(!(e!=null&&e.length))a=s;else{const l=[...e],c=[...s];for(;c.length&&l.length;){const d=l.shift(),h=c.findIndex(m=>m.id===d);h>-1&&a.push(c.splice(h,1)[0])}a=[...a,...c]}return Nre(a,n,r)},je(t.options,"debugTable"))}},Lb=()=>({left:[],right:[]}),Pre={getInitialState:t=>({columnPinning:Lb(),...t}),getDefaultOptions:t=>({onColumnPinningChange:jr("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const r=t.getLeafColumns().map(s=>s.id).filter(Boolean);e.setColumnPinning(s=>{var a,l;if(n==="right"){var c,d;return{left:((c=s?.left)!=null?c:[]).filter(y=>!(r!=null&&r.includes(y))),right:[...((d=s?.right)!=null?d:[]).filter(y=>!(r!=null&&r.includes(y))),...r]}}if(n==="left"){var h,m;return{left:[...((h=s?.left)!=null?h:[]).filter(y=>!(r!=null&&r.includes(y))),...r],right:((m=s?.right)!=null?m:[]).filter(y=>!(r!=null&&r.includes(y)))}}return{left:((a=s?.left)!=null?a:[]).filter(y=>!(r!=null&&r.includes(y))),right:((l=s?.right)!=null?l:[]).filter(y=>!(r!=null&&r.includes(y)))}})},t.getCanPin=()=>t.getLeafColumns().some(r=>{var s,a,l;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((a=(l=e.options.enableColumnPinning)!=null?l:e.options.enablePinning)!=null?a:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(c=>c.id),{left:r,right:s}=e.getState().columnPinning,a=n.some(c=>r?.includes(c)),l=n.some(c=>s?.includes(c));return a?"left":l?"right":!1},t.getPinnedIndex=()=>{var n,r;const s=t.getIsPinned();return s?(n=(r=e.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=Oe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,s)=>{const a=[...r??[],...s??[]];return n.filter(l=>!a.includes(l.column.id))},je(e.options,"debugRows")),t.getLeftVisibleCells=Oe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(a=>n.find(l=>l.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),je(e.options,"debugRows")),t.getRightVisibleCells=Oe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(a=>n.find(l=>l.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),je(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,r;return t.setColumnPinning(e?Lb():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:Lb())},t.getIsSomeColumnsPinned=e=>{var n;const r=t.getState().columnPinning;if(!e){var s,a;return!!((s=r.left)!=null&&s.length||(a=r.right)!=null&&a.length)}return!!((n=r[e])!=null&&n.length)},t.getLeftLeafColumns=Oe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(s=>s.id===r)).filter(Boolean),je(t.options,"debugColumns")),t.getRightLeafColumns=Oe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(s=>s.id===r)).filter(Boolean),je(t.options,"debugColumns")),t.getCenterLeafColumns=Oe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const s=[...n??[],...r??[]];return e.filter(a=>!s.includes(a.id))},je(t.options,"debugColumns"))}};function kre(t){return t||(typeof document<"u"?document:null)}const mp={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Vb=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Mre={getDefaultColumnDef:()=>mp,getInitialState:t=>({columnSizing:{},columnSizingInfo:Vb(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:jr("columnSizing",t),onColumnSizingInfoChange:jr("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,r,s;const a=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:mp.minSize,(r=a??t.columnDef.size)!=null?r:mp.size),(s=t.columnDef.maxSize)!=null?s:mp.maxSize)},t.getStart=Oe(n=>[n,yf(e,n),e.getState().columnSizing],(n,r)=>r.slice(0,t.getIndex(n)).reduce((s,a)=>s+a.getSize(),0),je(e.options,"debugColumns")),t.getAfter=Oe(n=>[n,yf(e,n),e.getState().columnSizing],(n,r)=>r.slice(t.getIndex(n)+1).reduce((s,a)=>s+a.getSize(),0),je(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:r,...s}=n;return s})},t.getCanResize=()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var a;n+=(a=s.column.getSize())!=null?a:0}};return r(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const r=e.getColumn(t.column.id),s=r?.getCanResize();return a=>{if(!r||!s||(a.persist==null||a.persist(),Ub(a)&&a.touches&&a.touches.length>1))return;const l=t.getSize(),c=t?t.getLeafHeaders().map(N=>[N.column.id,N.column.getSize()]):[[r.id,r.getSize()]],d=Ub(a)?Math.round(a.touches[0].clientX):a.clientX,h={},m=(N,P)=>{typeof P=="number"&&(e.setColumnSizingInfo(M=>{var F,$;const X=e.options.columnResizeDirection==="rtl"?-1:1,O=(P-((F=M?.startOffset)!=null?F:0))*X,I=Math.max(O/(($=M?.startSize)!=null?$:0),-.999999);return M.columnSizingStart.forEach(D=>{let[L,z]=D;h[L]=Math.round(Math.max(z+z*I,0)*100)/100}),{...M,deltaOffset:O,deltaPercentage:I}}),(e.options.columnResizeMode==="onChange"||N==="end")&&e.setColumnSizing(M=>({...M,...h})))},y=N=>m("move",N),b=N=>{m("end",N),e.setColumnSizingInfo(P=>({...P,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},_=kre(n),E={moveHandler:N=>y(N.clientX),upHandler:N=>{_?.removeEventListener("mousemove",E.moveHandler),_?.removeEventListener("mouseup",E.upHandler),b(N.clientX)}},T={moveHandler:N=>(N.cancelable&&(N.preventDefault(),N.stopPropagation()),y(N.touches[0].clientX),!1),upHandler:N=>{var P;_?.removeEventListener("touchmove",T.moveHandler),_?.removeEventListener("touchend",T.upHandler),N.cancelable&&(N.preventDefault(),N.stopPropagation()),b((P=N.touches[0])==null?void 0:P.clientX)}},R=Dre()?{passive:!1}:!1;Ub(a)?(_?.addEventListener("touchmove",T.moveHandler,R),_?.addEventListener("touchend",T.upHandler,R)):(_?.addEventListener("mousemove",E.moveHandler,R),_?.addEventListener("mouseup",E.upHandler,R)),e.setColumnSizingInfo(N=>({...N,startOffset:d,startSize:l,deltaOffset:0,deltaPercentage:0,columnSizingStart:c,isResizingColumn:r.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?Vb():(n=t.initialState.columnSizingInfo)!=null?n:Vb())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0}}};let pp=null;function Dre(){if(typeof pp=="boolean")return pp;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return pp=t,pp}function Ub(t){return t.type==="touchstart"}const Ore={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:jr("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,r;const s=t.columns;return(n=s.length?s.some(a=>a.getIsVisible()):(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},t.getCanHide=()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Oe(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),je(e.options,"debugRows")),t.getVisibleCells=Oe(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],je(e.options,"debugRows"))},createTable:t=>{const e=(n,r)=>Oe(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),je(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},t.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((s,a)=>({...s,[a.id]:n||!(a.getCanHide!=null&&a.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function yf(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const jre={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},Lre={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:jr("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const r=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,r,s,a;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((s=e.options.enableFilters)!=null?s:!0)&&((a=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?a:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>$i.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:r}=t.options;return Iv(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:$i[r]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},Vre={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:jr("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var r,s;if(!e){t._queue(()=>{e=!0});return}if((r=(s=t.options.autoResetAll)!=null?s:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),t.toggleAllRowsExpanded=r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=r=>{var s,a;t.setExpanded(r?{}:(s=(a=t.initialState)==null?void 0:a.expanded)!=null?s:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},t.getIsAllRowsExpanded=()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},t.getExpandedDepth=()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(a=>{const l=a.split(".");r=Math.max(r,l.length)}),r},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(r=>{var s;const a=r===!0?!0:!!(r!=null&&r[t.id]);let l={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(c=>{l[c]=!0}):l=r,n=(s=n)!=null?s:!a,!a&&n)return{...l,[t.id]:!0};if(a&&!n){const{[t.id]:c,...d}=l;return d}return r})},t.getIsExpanded=()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r?.[t.id])},t.getCanExpand=()=>{var n,r,s;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((s=t.subRows)!=null&&s.length)},t.getIsAllParentsExpanded=()=>{let n=!0,r=t;for(;n&&r.parentId;)r=e.getRow(r.parentId,!0),n=r.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},ux=0,cx=10,Fb=()=>({pageIndex:ux,pageSize:cx}),Ure={getInitialState:t=>({...t,pagination:{...Fb(),...t?.pagination}}),getDefaultOptions:t=>({onPaginationChange:jr("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var r,s;if(!e){t._queue(()=>{e=!0});return}if((r=(s=t.options.autoResetAll)!=null?s:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=r=>{const s=a=>Za(r,a);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(s)},t.resetPagination=r=>{var s;t.setPagination(r?Fb():(s=t.initialState.pagination)!=null?s:Fb())},t.setPageIndex=r=>{t.setPagination(s=>{let a=Za(r,s.pageIndex);const l=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return a=Math.max(0,Math.min(a,l)),{...s,pageIndex:a}})},t.resetPageIndex=r=>{var s,a;t.setPageIndex(r?ux:(s=(a=t.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?s:ux)},t.resetPageSize=r=>{var s,a;t.setPageSize(r?cx:(s=(a=t.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?s:cx)},t.setPageSize=r=>{t.setPagination(s=>{const a=Math.max(1,Za(r,s.pageSize)),l=s.pageSize*s.pageIndex,c=Math.floor(l/a);return{...s,pageIndex:c,pageSize:a}})},t.setPageCount=r=>t.setPagination(s=>{var a;let l=Za(r,(a=t.options.pageCount)!=null?a:-1);return typeof l=="number"&&(l=Math.max(-1,l)),{...s,pageCount:l}}),t.getPageOptions=Oe(()=>[t.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((a,l)=>l)),s},je(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:r}=t.getState().pagination,s=t.getPageCount();return s===-1?!0:s===0?!1:r<s-1},t.previousPage=()=>t.setPageIndex(r=>r-1),t.nextPage=()=>t.setPageIndex(r=>r+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var r;return(r=t.options.rowCount)!=null?r:t.getPrePaginationRowModel().rows.length}}},zb=()=>({top:[],bottom:[]}),Fre={getInitialState:t=>({rowPinning:zb(),...t}),getDefaultOptions:t=>({onRowPinningChange:jr("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,r,s)=>{const a=r?t.getLeafRows().map(d=>{let{id:h}=d;return h}):[],l=s?t.getParentRows().map(d=>{let{id:h}=d;return h}):[],c=new Set([...l,t.id,...a]);e.setRowPinning(d=>{var h,m;if(n==="bottom"){var y,b;return{top:((y=d?.top)!=null?y:[]).filter(T=>!(c!=null&&c.has(T))),bottom:[...((b=d?.bottom)!=null?b:[]).filter(T=>!(c!=null&&c.has(T))),...Array.from(c)]}}if(n==="top"){var _,E;return{top:[...((_=d?.top)!=null?_:[]).filter(T=>!(c!=null&&c.has(T))),...Array.from(c)],bottom:((E=d?.bottom)!=null?E:[]).filter(T=>!(c!=null&&c.has(T)))}}return{top:((h=d?.top)!=null?h:[]).filter(T=>!(c!=null&&c.has(T))),bottom:((m=d?.bottom)!=null?m:[]).filter(T=>!(c!=null&&c.has(T)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=e.options;return typeof r=="function"?r(t):(n=r??s)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:r,bottom:s}=e.getState().rowPinning,a=n.some(c=>r?.includes(c)),l=n.some(c=>s?.includes(c));return a?"top":l?"bottom":!1},t.getPinnedIndex=()=>{var n,r;const s=t.getIsPinned();if(!s)return-1;const a=(n=s==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(l=>{let{id:c}=l;return c});return(r=a?.indexOf(t.id))!=null?r:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,r;return t.setRowPinning(e?zb():(n=(r=t.initialState)==null?void 0:r.rowPinning)!=null?n:zb())},t.getIsSomeRowsPinned=e=>{var n;const r=t.getState().rowPinning;if(!e){var s,a;return!!((s=r.top)!=null&&s.length||(a=r.bottom)!=null&&a.length)}return!!((n=r[e])!=null&&n.length)},t._getPinnedRows=(e,n,r)=>{var s;return((s=t.options.keepPinnedRows)==null||s?(n??[]).map(l=>{const c=t.getRow(l,!0);return c.getIsAllParentsExpanded()?c:null}):(n??[]).map(l=>e.find(c=>c.id===l))).filter(Boolean).map(l=>({...l,position:r}))},t.getTopRows=Oe(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),je(t.options,"debugRows")),t.getBottomRows=Oe(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),je(t.options,"debugRows")),t.getCenterRows=Oe(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,r)=>{const s=new Set([...n??[],...r??[]]);return e.filter(a=>!s.has(a.id))},je(t.options,"debugRows"))}},zre={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:jr("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},s=t.getPreGroupedRowModel().flatRows;return e?s.forEach(a=>{a.getCanSelect()&&(r[a.id]=!0)}):s.forEach(a=>{delete r[a.id]}),r})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),s={...n};return t.getRowModel().rows.forEach(a=>{dx(s,a.id,r,!0,t)}),s}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Oe(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?$b(t,n):{rows:[],flatRows:[],rowsById:{}},je(t.options,"debugTable")),t.getFilteredSelectedRowModel=Oe(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?$b(t,n):{rows:[],flatRows:[],rowsById:{}},je(t.options,"debugTable")),t.getGroupedSelectedRowModel=Oe(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?$b(t,n):{rows:[],flatRows:[],rowsById:{}},je(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(s=>!n[s.id])&&(r=!1),r},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,r)=>{const s=t.getIsSelected();e.setRowSelection(a=>{var l;if(n=typeof n<"u"?n:!s,t.getCanSelect()&&s===n)return a;const c={...a};return dx(c,t.id,n,(l=r?.selectChildren)!=null?l:!0,e),c})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return QE(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return fx(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return fx(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return r=>{var s;n&&t.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},dx=(t,e,n,r,s)=>{var a;const l=s.getRow(e,!0);n?(l.getCanMultiSelect()||Object.keys(t).forEach(c=>delete t[c]),l.getCanSelect()&&(t[e]=!0)):delete t[e],r&&(a=l.subRows)!=null&&a.length&&l.getCanSelectSubRows()&&l.subRows.forEach(c=>dx(t,c.id,n,r,s))};function $b(t,e){const n=t.getState().rowSelection,r=[],s={},a=function(l,c){return l.map(d=>{var h;const m=QE(d,n);if(m&&(r.push(d),s[d.id]=d),(h=d.subRows)!=null&&h.length&&(d={...d,subRows:a(d.subRows)}),m)return d}).filter(Boolean)};return{rows:a(e.rows),flatRows:r,rowsById:s}}function QE(t,e){var n;return(n=e[t.id])!=null?n:!1}function fx(t,e,n){var r;if(!((r=t.subRows)!=null&&r.length))return!1;let s=!0,a=!1;return t.subRows.forEach(l=>{if(!(a&&!s)&&(l.getCanSelect()&&(QE(l,e)?a=!0:s=!1),l.subRows&&l.subRows.length)){const c=fx(l,e);c==="all"?a=!0:(c==="some"&&(a=!0),s=!1)}}),s?"all":a?"some":!1}const hx=/([0-9]+)/gm,$re=(t,e,n)=>Wj(bo(t.getValue(n)).toLowerCase(),bo(e.getValue(n)).toLowerCase()),Bre=(t,e,n)=>Wj(bo(t.getValue(n)),bo(e.getValue(n))),Gre=(t,e,n)=>ZE(bo(t.getValue(n)).toLowerCase(),bo(e.getValue(n)).toLowerCase()),Hre=(t,e,n)=>ZE(bo(t.getValue(n)),bo(e.getValue(n))),qre=(t,e,n)=>{const r=t.getValue(n),s=e.getValue(n);return r>s?1:r<s?-1:0},Wre=(t,e,n)=>ZE(t.getValue(n),e.getValue(n));function ZE(t,e){return t===e?0:t>e?1:-1}function bo(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function Wj(t,e){const n=t.split(hx).filter(Boolean),r=e.split(hx).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),a=r.shift(),l=parseInt(s,10),c=parseInt(a,10),d=[l,c].sort();if(isNaN(d[0])){if(s>a)return 1;if(a>s)return-1;continue}if(isNaN(d[1]))return isNaN(l)?-1:1;if(l>c)return 1;if(c>l)return-1}return n.length-r.length}const Bd={alphanumeric:$re,alphanumericCaseSensitive:Bre,text:Gre,textCaseSensitive:Hre,datetime:qre,basic:Wre},Kre={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:jr("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const a=s?.getValue(t.id);if(Object.prototype.toString.call(a)==="[object Date]")return Bd.datetime;if(typeof a=="string"&&(r=!0,a.split(hx).length>1))return Bd.alphanumeric}return r?Bd.text:Bd.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof n?.getValue(t.id)=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,r;if(!t)throw new Error;return Iv(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:Bd[t.columnDef.sortingFn]},t.toggleSorting=(n,r)=>{const s=t.getNextSortingOrder(),a=typeof n<"u"&&n!==null;e.setSorting(l=>{const c=l?.find(_=>_.id===t.id),d=l?.findIndex(_=>_.id===t.id);let h=[],m,y=a?n:s==="desc";if(l!=null&&l.length&&t.getCanMultiSort()&&r?c?m="toggle":m="add":l!=null&&l.length&&d!==l.length-1?m="replace":c?m="toggle":m="replace",m==="toggle"&&(a||s||(m="remove")),m==="add"){var b;h=[...l,{id:t.id,desc:y}],h.splice(0,h.length-((b=e.options.maxMultiSortColCount)!=null?b:Number.MAX_SAFE_INTEGER))}else m==="toggle"?h=l.map(_=>_.id===t.id?{..._,desc:y}:_):m==="remove"?h=l.filter(_=>_.id!==t.id):h=[{id:t.id,desc:y}];return h})},t.getFirstSortDir=()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var r,s;const a=t.getFirstSortDir(),l=t.getIsSorted();return l?l!==a&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(s=e.options.enableMultiRemove)!=null)||s)?!1:l==="desc"?"asc":"desc":a},t.getCanSort=()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(s=>s.id===t.id);return r?r.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(s=>s.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},Yre=[gre,Ore,Ire,Pre,vre,yre,jre,Lre,Kre,Cre,Vre,Ure,Fre,zre,Mre];function Xre(t){var e,n;const r=[...Yre,...(e=t._features)!=null?e:[]];let s={_features:r};const a=s._features.reduce((b,_)=>Object.assign(b,_.getDefaultOptions==null?void 0:_.getDefaultOptions(s)),{}),l=b=>s.options.mergeOptions?s.options.mergeOptions(a,b):{...a,...b};let d={...{},...(n=t.initialState)!=null?n:{}};s._features.forEach(b=>{var _;d=(_=b.getInitialState==null?void 0:b.getInitialState(d))!=null?_:d});const h=[];let m=!1;const y={_features:r,options:{...a,...t},initialState:d,_queue:b=>{h.push(b),m||(m=!0,Promise.resolve().then(()=>{for(;h.length;)h.shift()();m=!1}).catch(_=>setTimeout(()=>{throw _})))},reset:()=>{s.setState(s.initialState)},setOptions:b=>{const _=Za(b,s.options);s.options=l(_)},getState:()=>s.options.state,setState:b=>{s.options.onStateChange==null||s.options.onStateChange(b)},_getRowId:(b,_,E)=>{var T;return(T=s.options.getRowId==null?void 0:s.options.getRowId(b,_,E))!=null?T:`${E?[E.id,_].join("."):_}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(b,_)=>{let E=(_?s.getPrePaginationRowModel():s.getRowModel()).rowsById[b];if(!E&&(E=s.getCoreRowModel().rowsById[b],!E))throw new Error;return E},_getDefaultColumnDef:Oe(()=>[s.options.defaultColumn],b=>{var _;return b=(_=b)!=null?_:{},{header:E=>{const T=E.header.column.columnDef;return T.accessorKey?T.accessorKey:T.accessorFn?T.id:null},cell:E=>{var T,R;return(T=(R=E.renderValue())==null||R.toString==null?void 0:R.toString())!=null?T:null},...s._features.reduce((E,T)=>Object.assign(E,T.getDefaultColumnDef==null?void 0:T.getDefaultColumnDef()),{}),...b}},je(t,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:Oe(()=>[s._getColumnDefs()],b=>{const _=function(E,T,R){return R===void 0&&(R=0),E.map(N=>{const P=pre(s,N,R,T),M=N;return P.columns=M.columns?_(M.columns,P,R+1):[],P})};return _(b)},je(t,"debugColumns")),getAllFlatColumns:Oe(()=>[s.getAllColumns()],b=>b.flatMap(_=>_.getFlatColumns()),je(t,"debugColumns")),_getAllFlatColumnsById:Oe(()=>[s.getAllFlatColumns()],b=>b.reduce((_,E)=>(_[E.id]=E,_),{}),je(t,"debugColumns")),getAllLeafColumns:Oe(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(b,_)=>{let E=b.flatMap(T=>T.getLeafColumns());return _(E)},je(t,"debugColumns")),getColumn:b=>s._getAllFlatColumnsById()[b]};Object.assign(s,y);for(let b=0;b<s._features.length;b++){const _=s._features[b];_==null||_.createTable==null||_.createTable(s)}return s}function Qre(){return t=>Oe(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,a,l){a===void 0&&(a=0);const c=[];for(let h=0;h<s.length;h++){const m=YE(t,t._getRowId(s[h],h,l),s[h],h,a,void 0,l?.id);if(n.flatRows.push(m),n.rowsById[m.id]=m,c.push(m),t.options.getSubRows){var d;m.originalSubRows=t.options.getSubRows(s[h],h),(d=m.originalSubRows)!=null&&d.length&&(m.subRows=r(m.originalSubRows,a+1,m))}}return c};return n.rows=r(e),n},je(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function Zre(t){const e=[],n=r=>{var s;e.push(r),(s=r.subRows)!=null&&s.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return t.rows.forEach(n),{rows:e,flatRows:t.flatRows,rowsById:t.rowsById}}function Jre(t,e,n){return n.options.filterFromLeafRows?ese(t,e,n):tse(t,e,n)}function ese(t,e,n){var r;const s=[],a={},l=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,c=function(d,h){h===void 0&&(h=0);const m=[];for(let b=0;b<d.length;b++){var y;let _=d[b];const E=YE(n,_.id,_.original,_.index,_.depth,void 0,_.parentId);if(E.columnFilters=_.columnFilters,(y=_.subRows)!=null&&y.length&&h<l){if(E.subRows=c(_.subRows,h+1),_=E,e(_)&&!E.subRows.length){m.push(_),a[_.id]=_,s.push(_);continue}if(e(_)||E.subRows.length){m.push(_),a[_.id]=_,s.push(_);continue}}else _=E,e(_)&&(m.push(_),a[_.id]=_,s.push(_))}return m};return{rows:c(t),flatRows:s,rowsById:a}}function tse(t,e,n){var r;const s=[],a={},l=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,c=function(d,h){h===void 0&&(h=0);const m=[];for(let b=0;b<d.length;b++){let _=d[b];if(e(_)){var y;if((y=_.subRows)!=null&&y.length&&h<l){const T=YE(n,_.id,_.original,_.index,_.depth,void 0,_.parentId);T.subRows=c(_.subRows,h+1),_=T}m.push(_),s.push(_),a[_.id]=_}}return m};return{rows:c(t),flatRows:s,rowsById:a}}function nse(){return t=>Oe(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,n,r)=>{if(!e.rows.length||!(n!=null&&n.length)&&!r){for(let b=0;b<e.flatRows.length;b++)e.flatRows[b].columnFilters={},e.flatRows[b].columnFiltersMeta={};return e}const s=[],a=[];(n??[]).forEach(b=>{var _;const E=t.getColumn(b.id);if(!E)return;const T=E.getFilterFn();T&&s.push({id:b.id,filterFn:T,resolvedValue:(_=T.resolveFilterValue==null?void 0:T.resolveFilterValue(b.value))!=null?_:b.value})});const l=(n??[]).map(b=>b.id),c=t.getGlobalFilterFn(),d=t.getAllLeafColumns().filter(b=>b.getCanGlobalFilter());r&&c&&d.length&&(l.push("__global__"),d.forEach(b=>{var _;a.push({id:b.id,filterFn:c,resolvedValue:(_=c.resolveFilterValue==null?void 0:c.resolveFilterValue(r))!=null?_:r})}));let h,m;for(let b=0;b<e.flatRows.length;b++){const _=e.flatRows[b];if(_.columnFilters={},s.length)for(let E=0;E<s.length;E++){h=s[E];const T=h.id;_.columnFilters[T]=h.filterFn(_,T,h.resolvedValue,R=>{_.columnFiltersMeta[T]=R})}if(a.length){for(let E=0;E<a.length;E++){m=a[E];const T=m.id;if(m.filterFn(_,T,m.resolvedValue,R=>{_.columnFiltersMeta[T]=R})){_.columnFilters.__global__=!0;break}}_.columnFilters.__global__!==!0&&(_.columnFilters.__global__=!1)}}const y=b=>{for(let _=0;_<l.length;_++)if(b.columnFilters[l[_]]===!1)return!1;return!0};return Jre(e.rows,y,t)},je(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}function rse(t){return e=>Oe(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:s,pageIndex:a}=n;let{rows:l,flatRows:c,rowsById:d}=r;const h=s*a,m=h+s;l=l.slice(h,m);let y;e.options.paginateExpandedRows?y={rows:l,flatRows:c,rowsById:d}:y=Zre({rows:l,flatRows:c,rowsById:d}),y.flatRows=[];const b=_=>{y.flatRows.push(_),_.subRows.length&&_.subRows.forEach(b)};return y.rows.forEach(b),y},je(e.options,"debugTable"))}function iie(){return t=>Oe(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const r=t.getState().sorting,s=[],a=r.filter(d=>{var h;return(h=t.getColumn(d.id))==null?void 0:h.getCanSort()}),l={};a.forEach(d=>{const h=t.getColumn(d.id);h&&(l[d.id]={sortUndefined:h.columnDef.sortUndefined,invertSorting:h.columnDef.invertSorting,sortingFn:h.getSortingFn()})});const c=d=>{const h=d.map(m=>({...m}));return h.sort((m,y)=>{for(let _=0;_<a.length;_+=1){var b;const E=a[_],T=l[E.id],R=T.sortUndefined,N=(b=E?.desc)!=null?b:!1;let P=0;if(R){const M=m.getValue(E.id),F=y.getValue(E.id),$=M===void 0,X=F===void 0;if($||X){if(R==="first")return $?-1:1;if(R==="last")return $?1:-1;P=$&&X?0:$?R:-R}}if(P===0&&(P=T.sortingFn(m,y,E.id)),P!==0)return N&&(P*=-1),T.invertSorting&&(P*=-1),P}return m.index-y.index}),h.forEach(m=>{var y;s.push(m),(y=m.subRows)!=null&&y.length&&(m.subRows=c(m.subRows))}),h};return{rows:c(n.rows),flatRows:s,rowsById:n.rowsById}},je(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function EN(t,e){return t?sse(t)?w.createElement(t,e):t:null}function sse(t){return ise(t)||typeof t=="function"||ase(t)}function ise(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function ase(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function ose(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=w.useState(()=>({current:Xre(e)})),[r,s]=w.useState(()=>n.current.initialState);return n.current.setOptions(a=>({...a,...t,state:{...r,...t.state},onStateChange:l=>{s(l),t.onStateChange==null||t.onStateChange(l)}})),n.current}function lse({className:t,...e}){return p.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:p.jsx("table",{"data-slot":"table",className:Lt("w-full caption-bottom text-sm",t),...e})})}function use({className:t,...e}){return p.jsx("thead",{"data-slot":"table-header",className:Lt("[&_tr]:border-b",t),...e})}function cse({className:t,...e}){return p.jsx("tbody",{"data-slot":"table-body",className:Lt("[&_tr:last-child]:border-0",t),...e})}function Bb({className:t,...e}){return p.jsx("tr",{"data-slot":"table-row",className:Lt("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function dse({className:t,...e}){return p.jsx("th",{"data-slot":"table-head",className:Lt("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function SN({className:t,...e}){return p.jsx("td",{"data-slot":"table-cell",className:Lt("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function aie({className:t,...e}){return p.jsx("caption",{"data-slot":"table-caption",className:Lt("text-muted-foreground mt-4 text-sm",t),...e})}const fse={xs:"sm:max-w-xs",sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl","3xl":"sm:max-w-3xl","4xl":"sm:max-w-4xl","5xl":"sm:max-w-5xl"};function hse({size:t="lg",className:e,children:n,...r}){return p.jsxs(oP,{...r,children:[p.jsx(iP,{transition:!0,className:"fixed inset-0 flex w-screen justify-center overflow-y-auto bg-zinc-950/25 px-2 py-2 transition duration-100 focus:outline-0 data-closed:opacity-0 data-enter:ease-out data-leave:ease-in sm:px-6 sm:py-8 lg:px-8 lg:py-16 dark:bg-zinc-950/50"}),p.jsx("div",{className:"fixed inset-0 w-screen overflow-y-auto pt-6 sm:pt-0",children:p.jsx("div",{className:"grid min-h-full grid-rows-[1fr_auto] justify-items-center sm:grid-rows-[1fr_auto_3fr] sm:p-4",children:p.jsx(Fx,{transition:!0,className:gt(e,fse[t],"row-start-2 w-full min-w-0 rounded-t-3xl bg-white p-(--gutter) shadow-lg ring-1 ring-zinc-950/10 [--gutter:--spacing(8)] sm:mb-auto sm:rounded-2xl dark:bg-zinc-900 dark:ring-white/10 forced-colors:outline","transition duration-100 will-change-transform data-closed:translate-y-12 data-closed:opacity-0 data-enter:ease-out data-leave:ease-in sm:data-closed:translate-y-0 sm:data-closed:data-enter:scale-95"),children:n})})})]})}function mse({className:t,...e}){return p.jsx(aP,{...e,className:gt(t,"text-lg/6 font-semibold text-balance text-zinc-950 sm:text-base/6 dark:text-white")})}function pse({className:t,...e}){return p.jsx("div",{...e,className:gt(t,"mt-6")})}function oie({className:t,...e}){return p.jsx("div",{...e,className:gt(t,"mt-8 flex flex-col-reverse items-center justify-end gap-3 *:w-full sm:flex-row sm:*:w-auto")})}const zi=w.memo(({title:t,value:e,color:n,className:r=""})=>p.jsxs("div",{className:`p-3 sm:p-4 bg-gray-50 dark:bg-zinc-700 rounded-lg text-center ${r}`,children:[p.jsx("p",{className:"text-xs sm:text-sm text-zinc-600 dark:text-zinc-400 mb-1",children:t}),p.jsx("p",{className:`text-lg sm:text-2xl font-bold ${n}`,children:e})]}));zi.displayName="StatCard";const gse=w.memo(({league:t,showRanking:e=!1,onClick:n,href:r})=>{const s=p.jsxs("div",{className:"group flex items-center gap-3 px-4 py-3 rounded-lg bg-gray-50 dark:bg-zinc-700 hover:bg-blue-100 dark:hover:bg-blue-900 transition-colors min-w-[220px] cursor-pointer",children:[t.photoURL?p.jsx("img",{src:t.photoURL,alt:t.name,className:"w-10 h-10 rounded-full object-cover border border-gray-300 dark:border-gray-600"}):p.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg",children:t.name.charAt(0).toUpperCase()}),p.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[p.jsx("span",{className:"font-medium text-zinc-900 dark:text-white truncate group-hover:text-blue-700 dark:group-hover:text-blue-200",children:t.name}),t.description&&p.jsx("span",{className:"text-xs text-zinc-500 dark:text-zinc-400 truncate mt-0.5",children:t.description}),e&&t.rank&&p.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-400 mt-0.5",children:["Rank #",t.rank,t.totalMembers?` of ${t.totalMembers}`:""]})]})]});return r?p.jsx("a",{href:r,style:{textDecoration:"none"},children:s}):n?p.jsx("div",{onClick:n,children:s}):s});gse.displayName="LeagueCard";const Kj=w.memo(({gamesWon:t})=>{const n=(r=>r>=25?"Duro del 6":r>=15?"Tranquero":r>=8?"Matador":"Novice")(t);return p.jsx("div",{children:p.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100",children:n})})});Kj.displayName="TitleBadge";const Yj=w.memo(({stats:t})=>{const e=t.gamesPlayed>0?(t.gamesWon/t.gamesPlayed*100).toFixed(1):"0.0",n=t.gamesPlayed>0?((t.gamesPlayed-t.gamesWon)/t.gamesPlayed*100).toFixed(1):"0.0";return p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsx(zi,{title:"Games Won",value:t.gamesWon,color:"text-green-600"}),p.jsx(zi,{title:"Games Played",value:t.gamesPlayed,color:"text-blue-600"}),p.jsx(zi,{title:"Total Points",value:t.totalPoints,color:"text-purple-600"}),p.jsx(zi,{title:"Global Rank",value:t.globalRank||"N/A",color:"text-orange-600"}),p.jsx(zi,{title:"Win Rate",value:`${e}%`,color:"text-green-600"}),p.jsx(zi,{title:"Loss Rate",value:`${n}%`,color:"text-red-600"}),t.winStreak!==void 0&&p.jsx(zi,{title:"Win Streak",value:t.winStreak,color:"text-yellow-600"}),t.maxWinStreak!==void 0&&p.jsx(zi,{title:"Best Streak",value:t.maxWinStreak,color:"text-indigo-600"})]})});Yj.displayName="UserStatsGrid";const Xj=w.memo(({user:t,isOpen:e,onClose:n,customStats:r,sections:s={stats:!0,leagues:!0,memberInfo:!0},title:a="Player Profile",showActions:l=!0,actions:c,size:d="2xl"})=>{const[h,m]=w.useState([]),[y,b]=w.useState(!1);w.useEffect(()=>{e&&t&&s.leagues&&(b(!0),ej(t.uid).then(m).catch(T=>{console.error("Error loading user leagues:",T),m([])}).finally(()=>b(!1)))},[e,t,s.leagues]);const _=Se.useMemo(()=>t?{gamesPlayed:r?.gamesPlayed??t.stats.gamesPlayed,gamesWon:r?.gamesWon??t.stats.gamesWon,totalPoints:r?.totalPoints??t.stats.totalPoints,globalRank:r?.rank??t.stats.globalRank,winStreak:t.stats.winStreak,maxWinStreak:t.stats.maxWinStreak,winRate:r?.winRate??(t.stats.gamesPlayed>0?Math.round(t.stats.gamesWon/t.stats.gamesPlayed*100):0)}:null,[t,r]),E=w.useCallback(()=>{n(),m([])},[n]);return t?p.jsxs(hse,{open:e,onClose:E,size:d,children:[p.jsxs(mse,{className:"flex items-center justify-between",children:[p.jsx("span",{children:a}),p.jsx("button",{onClick:E,className:"text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-300 transition-colors",children:p.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),p.jsxs(pse,{children:[p.jsxs("div",{className:"flex flex-col items-center space-y-4 mb-6",children:[p.jsx(zf,{src:t.photoURL,initials:t.displayName.substring(0,2).toUpperCase(),className:"h-24 w-24"}),p.jsxs("div",{className:"text-center",children:[p.jsx("h3",{className:"text-xl font-bold text-zinc-900 dark:text-white",children:t.displayName}),t.username&&p.jsxs("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mt-1",children:["@",t.username]}),t.email&&p.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-500 mt-1",children:t.email})]}),p.jsx(Kj,{gamesWon:t.stats.gamesWon})]}),s.stats&&_&&p.jsxs("div",{className:"mb-6",children:[p.jsx("h4",{className:"text-lg font-semibold mb-3 text-zinc-900 dark:text-white",children:"Statistics"}),p.jsx(Yj,{stats:_})]}),s.leagues&&p.jsxs("div",{className:"mb-6",children:[p.jsx("h4",{className:"text-lg font-semibold mb-3 text-zinc-900 dark:text-white",children:"Leagues"}),y?p.jsx("div",{className:"flex justify-center py-8",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}):h.length>0?p.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:h.map(T=>p.jsx("div",{onClick:E,children:p.jsx(St,{to:`/leagues/${T.id}`,className:"block p-3 bg-white dark:bg-zinc-800 rounded-lg border border-gray-200 dark:border-zinc-700 hover:bg-gray-50 dark:hover:bg-zinc-700 transition-colors",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"flex-shrink-0",children:T.photoURL?p.jsx("img",{src:T.photoURL,alt:T.name,className:"w-10 h-10 rounded-full object-cover border border-gray-200 dark:border-zinc-600"}):p.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center",children:p.jsxs("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[p.jsx("path",{fillRule:"evenodd",d:"M6 6V5a3 3 0 013-3h2a3 3 0 013 3v1h2a2 2 0 012 2v3.57A22.952 22.952 0 0110 13a22.95 22.95 0 01-8-1.43V8a2 2 0 012-2h2zm2-1a1 1 0 011-1h2a1 1 0 011 1v1H8V5zm1 5a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z",clipRule:"evenodd"}),p.jsx("path",{d:"M2 13.692V16a2 2 0 002 2h12a2 2 0 002-2v-2.308A24.974 24.974 0 0110 15c-2.796 0-5.487-.46-8-1.308z"})]})})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h5",{className:"text-sm font-medium text-zinc-900 dark:text-white truncate",children:T.name}),p.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[T.rank&&p.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:["Rank #",T.rank]}),p.jsxs("span",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:[T.totalMembers||0," members"]})]}),T.description&&p.jsx("p",{className:"text-xs text-zinc-600 dark:text-zinc-400 mt-1 line-clamp-1",children:T.description})]}),p.jsx("div",{className:"flex-shrink-0",children:p.jsx("svg",{className:"w-4 h-4 text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})})},T.id))}):p.jsxs("div",{className:"text-center py-8 text-zinc-500 dark:text-zinc-400",children:[p.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center",children:p.jsx("svg",{className:"w-8 h-8 text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),p.jsx("p",{className:"text-sm",children:"Not a member of any leagues yet"})]})]}),s.memberInfo&&p.jsx("div",{className:"border-t border-gray-200 dark:border-zinc-700 pt-4",children:p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex justify-between items-center text-sm",children:[p.jsx("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Member since"}),p.jsx("span",{className:"font-medium text-zinc-900 dark:text-white",children:t.createdAt?new Date(t.createdAt.toDate()).toLocaleDateString():"Unknown"})]}),t.stats.lastGameAt&&p.jsxs("div",{className:"flex justify-between items-center text-sm",children:[p.jsx("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Last game"}),p.jsx("span",{className:"font-medium text-zinc-900 dark:text-white",children:new Date(t.stats.lastGameAt.toDate()).toLocaleDateString()})]})]})})]})]}):null});Xj.displayName="UserProfileModal";const vse=()=>{const[t,e]=w.useState(!1),[n,r]=w.useState(null),s=w.useCallback(l=>{r(l),e(!0)},[]),a=w.useCallback(()=>{e(!1),setTimeout(()=>r(null),200)},[]);return{isOpen:t,selectedUser:n,openModal:s,closeModal:a}};function yse(t={}){const{ttl:e=5*60*1e3,maxSize:n=100}=t,r=w.useRef(new Map),s=w.useRef(t);s.current=t;const a=w.useCallback(b=>{const _=r.current.get(b);return _?Date.now()-_.timestamp>s.current.ttl?(r.current.delete(b),null):_.data:null},[]),l=w.useCallback((b,_)=>{const E=Date.now(),T=s.current.maxSize;if(r.current.size>=T){const R=r.current.keys().next().value;R&&r.current.delete(R)}r.current.set(b,{data:_,timestamp:E,loading:!1})},[]),c=w.useCallback((b,_)=>{const E=r.current.get(b);E&&(E.loading=_)},[]),d=w.useCallback(b=>r.current.get(b)?.loading??!1,[]),h=w.useCallback(b=>{const _=r.current.get(b);return _?Date.now()-_.timestamp>s.current.ttl?(r.current.delete(b),!1):!0:!1},[]),m=w.useCallback(()=>{r.current.clear()},[]),y=w.useCallback(b=>{r.current.delete(b)},[]);return{get:a,set:l,has:h,clear:m,remove:y,isLoading:d,setLoading:c,get size(){return r.current.size}}}const TN="rankings_data",RN="global_seasons";function bse(){const[t,e]=w.useState([]),[n,r]=w.useState([]),[s,a]=w.useState(!0),[l,c]=w.useState(null),d=yse({ttl:5*60*1e3,maxSize:50}),h=w.useCallback(async(_=!0)=>{a(!0),c(null);try{if(_){const R=d.get(TN),N=d.get(RN);if(R&&N){e(R),r(N),a(!1);return}}const[E,T]=await Promise.all([JO(),tj()]);e(E),r(T),d.set(TN,E),d.set(RN,T)}catch(E){console.error("Error fetching rankings data:",E),c("Failed to load rankings data. Please try again.")}finally{a(!1)}},[]),m=w.useCallback(async()=>{await h(!1)},[h]),y=w.useCallback(()=>{d.clear()},[d]);w.useEffect(()=>{h()},[h]);const b=w.useCallback(()=>{c(null)},[]);return{leagues:t,globalSeasons:n,loading:s,error:l,refetch:m,clearCache:y,clearError:b}}const ml=new Map,JE=5*60*1e3,wse=100,xse=()=>{const t=Date.now();for(const[e,n]of ml.entries())t-n.timestamp>JE&&ml.delete(e)},_se=setInterval(xse,JE);typeof window<"u"&&window.addEventListener("beforeunload",()=>{clearInterval(_se)});const Ese=async t=>{const e=Date.now(),n=ml.get(t);if(n&&e-n.timestamp<JE)return n.profile;try{const r=await Cv(t);if(r){if(ml.size>=wse){const s=ml.keys().next().value;s&&ml.delete(s)}ml.set(t,{profile:r,timestamp:e})}return r}catch(r){return console.error("Error fetching user profile:",r),null}},AN=t=>({uid:t.userId,displayName:t.displayName,username:t.username,email:"",photoURL:t.photoURL,createdAt:ct.now(),stats:{gamesPlayed:t.gamesPlayed,gamesWon:t.gamesWon,totalPoints:t.totalPoints,globalRank:t.rank,winStreak:0,maxWinStreak:0},hasSetUsername:!!t.username}),Sse=t=>[{accessorKey:"positionDisplay",header:"Rank",cell:({row:e})=>p.jsxs("div",{className:"text-xs sm:text-sm font-bold text-center",children:["#",e.getValue("positionDisplay")]})},{accessorKey:"playerDisplay",header:"Player",cell:({row:e})=>e.getValue("playerDisplay")},{accessorKey:"gamesPlayed",header:"Games",cell:({row:e})=>p.jsx("div",{className:"text-xs sm:text-sm text-center",children:e.getValue("gamesPlayed")})},{accessorKey:"gamesWon",header:"Wins",cell:({row:e})=>p.jsx("div",{className:"text-xs sm:text-sm text-center",children:e.getValue("gamesWon")})},{accessorKey:"winPercentage",header:"Win %",cell:({row:e})=>{const n=e.getValue("winPercentage");return p.jsxs("div",{className:"text-xs sm:text-sm text-center font-medium",children:[n.toFixed(1),"%"]})}},{accessorKey:"totalPoints",header:"Points",cell:({row:e})=>p.jsx("div",{className:"text-xs sm:text-sm text-center font-mono",children:e.getValue("totalPoints")})}],Tse=w.memo(()=>p.jsxs("div",{className:"p-2 sm:p-4 lg:p-6 w-full lg:max-w-6xl lg:mx-auto",children:[p.jsx("h1",{className:"sr-only",children:"Rankings"}),p.jsxs(In,{children:[p.jsx(ds,{children:p.jsx(Gs,{className:"text-xl sm:text-2xl",children:"Rankings"})}),p.jsx(Pn,{className:"flex justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})]})]})),Rse=w.memo(({isFiltered:t=!1})=>p.jsx(In,{children:p.jsxs(Pn,{className:"text-center pt-6",children:[p.jsx("p",{className:"mb-4",children:t?"No leagues match the selected filters.":"No leagues or ranking data available."}),t&&p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Try adjusting your filters to see more results."})]})})),Ase=w.memo(({league:t,onPlayerClick:e})=>{const[n,r]=w.useState([]),s=w.useCallback(d=>p.jsxs("div",{className:"font-medium text-xs sm:text-sm flex items-center space-x-2",children:[p.jsxs(Mb,{className:"h-6 w-6 sm:h-8 sm:w-8",children:[p.jsx(Db,{src:d.photoURL||void 0,alt:d.displayName}),p.jsx(Ob,{className:"text-xs",children:d.displayName.substring(0,2).toUpperCase()})]}),p.jsx("div",{className:"truncate max-w-20 sm:max-w-none",title:d.displayName,children:d.displayName})]}),[]),a=w.useMemo(()=>t.rankings.map((d,h)=>({...d,formattedTitle:QO(d.gamesWon),positionDisplay:(h+1).toString(),playerDisplay:s(d),winPercentage:d.gamesPlayed>0?d.gamesWon/d.gamesPlayed*100:0})),[t.id,t.rankings,s]),l=w.useMemo(()=>Sse(),[e]),c=ose({data:a,columns:l,onColumnFiltersChange:r,getCoreRowModel:Qre(),getPaginationRowModel:rse(),getFilteredRowModel:nse(),state:{columnFilters:n}});return t.rankings.length===0?p.jsxs(In,{children:[p.jsx(ds,{children:p.jsxs(Gs,{className:"flex items-center space-x-3",children:[t.photoURL&&p.jsxs(Mb,{className:"h-8 w-8",children:[p.jsx(Db,{src:t.photoURL,alt:t.name}),p.jsx(Ob,{children:t.name.substring(0,2).toUpperCase()})]}),p.jsx(St,{to:`/leagues/${t.id}`,className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:t.name})]})}),p.jsx(Pn,{children:p.jsx("p",{className:"text-center text-zinc-600 dark:text-zinc-400",children:"No rankings available for this league yet."})})]}):p.jsxs(In,{children:[p.jsxs(ds,{children:[p.jsxs(Gs,{className:"flex items-center space-x-3",children:[t.photoURL&&p.jsxs(Mb,{className:"h-8 w-8",children:[p.jsx(Db,{src:t.photoURL,alt:t.name}),p.jsx(Ob,{children:t.name.substring(0,2).toUpperCase()})]}),p.jsx(St,{to:`/leagues/${t.id}`,className:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:t.name})]}),t.description&&p.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400 mt-1",children:t.description})]}),p.jsx(Pn,{children:p.jsxs("div",{className:"w-full",children:[p.jsx("div",{className:"overflow-hidden rounded-md border",children:p.jsxs(lse,{children:[p.jsx(use,{children:c.getHeaderGroups().map(d=>p.jsx(Bb,{children:d.headers.map(h=>p.jsx(dse,{children:h.isPlaceholder?null:EN(h.column.columnDef.header,h.getContext())},h.id))},d.id))}),p.jsx(cse,{children:c.getRowModel().rows?.length?c.getRowModel().rows.map(d=>p.jsx(Bb,{className:"hover:bg-gray-50 dark:hover:bg-zinc-700/50 cursor-pointer",onClick:()=>e(d.original),children:d.getVisibleCells().map(h=>p.jsx(SN,{children:EN(h.column.columnDef.cell,h.getContext())},h.id))},d.id)):p.jsx(Bb,{children:p.jsx(SN,{colSpan:l.length,className:"h-24 text-center",children:"No rankings found."})})})]})}),c.getPageCount()>1&&p.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[p.jsxs("div",{className:"text-muted-foreground flex-1 text-sm",children:["Page ",c.getState().pagination.pageIndex+1," of"," ",c.getPageCount()]}),p.jsxs("div",{className:"space-x-2",children:[p.jsx(cs,{variant:"outline",size:"sm",onClick:()=>c.previousPage(),disabled:!c.getCanPreviousPage(),children:"Previous"}),p.jsx(cs,{variant:"outline",size:"sm",onClick:()=>c.nextPage(),disabled:!c.getCanNextPage(),children:"Next"})]})]})]})})]})}),Cse=()=>{const{leagues:t,globalSeasons:e,loading:n,error:r,refetch:s,clearError:a}=bse(),[l,c]=w.useState({league:"all",year:"all",season:"all"}),{isOpen:d,selectedUser:h,openModal:m,closeModal:y}=vse(),b=w.useCallback(async P=>{try{const M=await Ese(P.userId);if(M)m(M);else{const F=AN(P);m(F)}}catch(M){console.error("Error fetching user profile:",M);const F=AN(P);m(F)}},[m]),_=w.useMemo(()=>{const P=new Set;t.forEach(X=>{if(X.createdAt?.toDate)try{const O=X.createdAt.toDate().getFullYear();P.add(O)}catch{}});const M=[{id:"all",name:"All Leagues"},...t.map(X=>({id:X.id,name:X.name}))],F=[{value:"all",label:"All Years"},...Array.from(P).sort((X,O)=>O-X).map(X=>({value:X.toString(),label:X.toString()}))],$=[{value:"all",label:"All Seasons"},...e.sort((X,O)=>O.startDate.toMillis()-X.startDate.toMillis()).map(X=>({value:X.id,label:X.name}))];return{leagues:M,years:F,seasons:$}},[t.map(P=>`${P.id}-${P.name}`).join(","),e.map(P=>`${P.id}-${P.name}`).join(",")]),E=w.useMemo(()=>l.league==="all"&&l.year==="all"&&l.season==="all"?t:t.filter(P=>{if(l.league!=="all"&&P.id!==l.league||l.season!=="all"&&!P.seasonIds?.includes(l.season))return!1;if(l.year!=="all"){if(!P.createdAt?.toDate)return!1;try{if(P.createdAt.toDate().getFullYear().toString()!==l.year)return!1}catch{return!1}}return!0}),[t,l]),T=w.useCallback((P,M)=>{c(F=>({...F,[P]:M}))},[]),R=w.useCallback(()=>{c({league:"all",year:"all",season:"all"})},[]),N=w.useMemo(()=>l.league!=="all"||l.year!=="all"||l.season!=="all",[l]);return n?p.jsx(Tse,{}):p.jsxs("div",{className:"p-2 sm:p-4 lg:p-6 w-full lg:max-w-6xl lg:mx-auto",children:[p.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:p.jsxs("div",{children:[p.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"League Rankings"}),N&&p.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Showing ",E.length," of ",t.length," league",t.length!==1?"s":"",l.season!=="all"&&p.jsxs("span",{children:["  Season: ",_.seasons.find(P=>P.value===l.season)?.label]})]})]})}),p.jsx(In,{className:"mb-6",children:p.jsx(Pn,{children:p.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[p.jsxs("div",{className:"flex flex-col space-y-2",children:[p.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"League"}),p.jsxs(of,{children:[p.jsx(lf,{asChild:!0,children:p.jsxs(cs,{variant:"outline",className:"w-full md:w-48 justify-between",children:[_.leagues.find(P=>P.id===l.league)?.name||"All Leagues",p.jsx(Cb,{className:"ml-2 h-4 w-4 shrink-0"})]})}),p.jsx(uf,{className:"w-48 max-h-60 overflow-y-auto",children:_.leagues.map(P=>p.jsx(Hi,{onClick:()=>T("league",P.id),className:l.league===P.id?"bg-accent":"",children:P.name},P.id))})]})]}),p.jsxs("div",{className:"flex flex-col space-y-2",children:[p.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Year"}),p.jsxs(of,{children:[p.jsx(lf,{asChild:!0,children:p.jsxs(cs,{variant:"outline",className:"w-full md:w-32 justify-between",children:[_.years.find(P=>P.value===l.year)?.label||"All Years",p.jsx(Cb,{className:"ml-2 h-4 w-4 shrink-0"})]})}),p.jsx(uf,{className:"w-32",children:_.years.map(P=>p.jsx(Hi,{onClick:()=>T("year",P.value),className:l.year===P.value?"bg-accent":"",children:P.label},P.value))})]})]}),p.jsxs("div",{className:"flex flex-col space-y-2",children:[p.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Season"}),p.jsxs(of,{children:[p.jsx(lf,{asChild:!0,children:p.jsxs(cs,{variant:"outline",className:"w-full md:w-40 justify-between",disabled:_.seasons.length<=1,children:[_.seasons.find(P=>P.value===l.season)?.label||"All Seasons",p.jsx(Cb,{className:"ml-2 h-4 w-4 shrink-0"})]})}),p.jsx(uf,{className:"w-40 max-h-60 overflow-y-auto",children:_.seasons.length===1?p.jsx(Hi,{disabled:!0,children:"No seasons available"}):_.seasons.map(P=>p.jsx(Hi,{onClick:()=>T("season",P.value),className:l.season===P.value?"bg-accent":"",children:P.label},P.value))})]})]}),N&&p.jsx("div",{className:"flex flex-col justify-end",children:p.jsx(cs,{variant:"outline",onClick:R,className:"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800",children:"Clear Filters"})})]})})}),r&&p.jsx(In,{className:"mb-6 border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-950/20",children:p.jsx(Pn,{className:"pt-6",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("div",{className:"text-red-700 dark:text-red-300",children:r}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(cs,{variant:"outline",size:"sm",onClick:s,className:"text-red-700 dark:text-red-300 border-red-300 dark:border-red-700",children:"Retry"}),p.jsx(cs,{variant:"outline",size:"sm",onClick:a,className:"text-red-700 dark:text-red-300 border-red-300 dark:border-red-700",children:"Dismiss"})]})]})})}),E.length===0?p.jsx(Rse,{isFiltered:N}):p.jsx("div",{className:"space-y-8",children:E.map(P=>p.jsx(Ase,{league:P,onPlayerClick:b},P.id))}),p.jsx(Xj,{user:h,isOpen:d,onClose:y,customStats:h?{gamesPlayed:h.stats.gamesPlayed,gamesWon:h.stats.gamesWon,totalPoints:h.stats.totalPoints,rank:h.stats.globalRank,winRate:h.stats.gamesPlayed>0?h.stats.gamesWon/h.stats.gamesPlayed*100:0}:void 0})]})},Nse=w.memo(Cse),Ise=t=>{const[e,n]=w.useState({}),[r,s]=w.useState(!1),[a,l]=w.useState(null),c=w.useCallback(async()=>{if(t.length!==0){s(!0),l(null);try{const d=t.map(async y=>{try{const b=await ij(y);return{leagueId:y,status:b}}catch(b){return console.error(`Error validating status for league ${y}:`,b),{leagueId:y,status:"active"}}}),m=(await Promise.all(d)).reduce((y,{leagueId:b,status:_})=>(y[b]=_,y),{});n(m)}catch(d){console.error("Error validating multiple league statuses:",d),l(d instanceof Error?d.message:"Failed to validate statuses")}finally{s(!1)}}},[t]);return w.useEffect(()=>{t.length>0&&c()},[t,c]),{statuses:e,loading:r,error:a,validateAll:c}},Qj=t=>({color:{upcoming:"bg-yellow-500",active:"bg-green-500",completed:"bg-gray-500",canceled:"bg-red-500"}[t]||"bg-gray-500",textColor:{upcoming:"text-yellow-700",active:"text-green-700",completed:"text-gray-700",canceled:"text-red-700"}[t]||"text-gray-700",bgColor:{upcoming:"bg-yellow-50",active:"bg-green-50",completed:"bg-gray-50",canceled:"bg-red-50"}[t]||"bg-gray-50",label:{upcoming:"Upcoming",active:"Active",completed:"Completed",canceled:"Canceled"}[t]||"Unknown",description:{upcoming:"League will start soon",active:"Currently accepting games",completed:"League has ended",canceled:"League was canceled"}[t]||"Status unknown"}),Zj=w.memo(({league:t,isMyLeague:e=!1,userIsJudge:n,onNavigate:r,currentStatus:s})=>{const a=w.useCallback(()=>{r?.()},[r]),l=s||t.status,c=Qj(l),d=w.useMemo(()=>({bg:c.color,text:"text-white",label:c.label}),[c]),h=w.useMemo(()=>Ie.currentUser&&t.createdBy===Ie.currentUser.uid||n?{text:"Administrator",className:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-200"}:e?{text:"Joined",className:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-200"}:t.settings?.allowJoinRequests!==!1&&(l==="active"||l==="upcoming")?{text:"Join",className:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-200 hover:bg-green-200 dark:hover:bg-green-900/50",isLink:!0,href:`/leagues/join/${t.id}`}:null,[n,e,t.id,t.createdBy,t.settings?.allowJoinRequests,l]);return p.jsx("div",{className:"bg-white dark:bg-zinc-800 rounded-lg shadow-sm border border-gray-200 dark:border-zinc-700 overflow-hidden hover:shadow-md transition-all duration-200 hover:border-blue-300 dark:hover:border-blue-600",children:p.jsxs("div",{className:"p-4 pb-3",children:[p.jsx("div",{className:"flex items-start justify-between mb-3",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs("div",{className:"relative",children:[t.photoURL?p.jsx("img",{src:t.photoURL,alt:t.name,className:"w-12 h-12 rounded-full object-cover "}):p.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center border-2 border-gray-200 dark:border-zinc-600",children:p.jsx(_h,{className:"h-6 w-6 text-white"})}),p.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 ${d.bg} rounded-full border-2 border-white dark:border-zinc-800`})]}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:t.name}),p.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[p.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${d.bg} ${d.text}`,children:d.label}),p.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${t.isPublic?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-200":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-200"}`,children:t.isPublic?"Public":"Private"}),p.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[t.stats?.totalMembers||0," members"]})]})]})]})}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3 line-clamp-2 leading-relaxed",children:t.description||"No description available"}),p.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-4",children:p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(zE,{className:"h-4 w-4 mr-1"}),p.jsxs("span",{children:[t.stats?.totalMembers||0," members"]})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(uj,{className:"h-4 w-4 mr-1"}),p.jsx("span",{children:new Date(t.createdAt.toDate()).toLocaleDateString()})]})]})}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(St,{to:`/leagues/${t.id}`,className:"flex-1 px-3 py-2 text-sm font-medium text-center bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 rounded-md hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-colors",onClick:a,children:"View Details"}),h?h.isLink?p.jsx(St,{to:h.href,className:`px-3 py-2 text-sm font-medium rounded-md transition-colors ${h.className}`,onClick:a,children:h.text}):p.jsx("span",{className:`px-3 py-2 text-sm font-medium rounded-md ${h.className}`,children:h.text}):null]})]})})});Zj.displayName="LeagueCard";const Jj=w.memo(({league:t,onNavigate:e,currentStatus:n})=>{const r=n||t.status,s=Qj(r),a=w.useMemo(()=>({bg:s.color,text:"text-white",label:s.label}),[s]);return p.jsx(St,{to:`/leagues/${t.id}`,className:"block bg-white dark:bg-zinc-800 rounded-lg shadow-sm border border-gray-200 dark:border-zinc-700 overflow-hidden hover:shadow-md transition-all duration-200 hover:border-blue-300 dark:hover:border-blue-600",onClick:e,children:p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"flex items-start space-x-3 mb-3",children:[p.jsxs("div",{className:"relative flex-shrink-0",children:[t.photoURL?p.jsx("img",{src:t.photoURL,alt:t.name,className:"w-12 h-12 rounded-full object-cover border-2 border-gray-200 dark:border-zinc-600"}):p.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center border-2 border-gray-200 dark:border-zinc-600",children:p.jsx(_h,{className:"h-6 w-6 text-white"})}),p.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 ${a.bg} rounded-full border-2 border-white dark:border-zinc-800`})]}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate mb-1",children:t.name}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${a.bg} ${a.text}`,children:a.label}),p.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Member"})]})]})]}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3 line-clamp-2 leading-relaxed",children:t.description||"No description available"}),p.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(zE,{className:"h-4 w-4 mr-1"}),p.jsxs("span",{children:[t.stats?.totalMembers||0," members"]})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(uj,{className:"h-4 w-4 mr-1"}),p.jsx("span",{children:new Date(t.createdAt.toDate()).toLocaleDateString()})]})]}),p.jsx("div",{className:"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 px-2 py-1 rounded-md text-xs font-medium",children:"My League"})]})]})})});Jj.displayName="MyLeagueCard";const eL=w.memo(()=>p.jsxs("div",{className:"text-center py-8",children:[p.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),p.jsx("p",{className:"mt-2 text-gray-500",children:"Loading leagues..."})]}));eL.displayName="LoadingSkeleton";const tL=w.memo(({isActive:t,onClick:e,children:n,colorScheme:r})=>p.jsx("button",{className:`px-4 py-2 rounded-md mr-2 mb-2 md:mb-0 transition-colors ${t?r:"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-zinc-700"}`,onClick:e,children:n}));tL.displayName="FilterButton";const Pse=()=>{const[t,e]=w.useState({allLeagues:[],myLeagues:[],loading:!0,error:null}),[n,r]=w.useState({status:"all",searchTerm:""}),s=w.useMemo(()=>Ie.currentUser?BE(Ie.currentUser):!1,[]),a=w.useMemo(()=>t.allLeagues.map(T=>T.id),[t.allLeagues]),{statuses:l}=Ise(a),c=w.useCallback(async T=>{e(R=>({...R,loading:!0,error:null}));try{const R=yh(),N=Tt(R,"leagues");let P=Ge(N,cr("createdAt","desc"));T!=="all"&&(P=Ge(P,Ee("status","==",T)));const M=[We(P)];if(Ie.currentUser){const D=Tt(R,"leagueMemberships"),L=Ge(D,Ee("userId","==",Ie.currentUser.uid),Ee("status","in",["active","pending"]));M.push(We(L))}const F=await Promise.all(M),[$,X]=F,O=[];$.forEach(D=>{const L={id:D.id,...D.data()};(L.isPublic||Ie.currentUser&&L.createdBy===Ie.currentUser.uid||s)&&O.push(L)});let I=[];if(Ie.currentUser){const D=O.filter(G=>G.createdBy===Ie.currentUser.uid);let L=[];if(X){const G=X.docs.map(U=>U.data().leagueId);L=O.filter(U=>G.includes(U.id))}const z=new Set([...D.map(G=>G.id),...L.map(G=>G.id)]);I=O.filter(G=>z.has(G.id))}e({allLeagues:O,myLeagues:I,loading:!1,error:null})}catch(R){console.error("Error fetching leagues:",R),e(N=>({...N,loading:!1,error:"Failed to load leagues data"}))}},[]);w.useEffect(()=>{c(n.status)},[n.status,c]);const d=w.useMemo(()=>{if(!n.searchTerm.trim())return t.allLeagues;const T=n.searchTerm.toLowerCase().trim();return t.allLeagues.filter(R=>{const N=l[R.id]||R.status,P=R.name.toLowerCase().includes(T)||R.description&&R.description.toLowerCase().includes(T),M=n.status==="all"||N===n.status;return P&&M})},[t.allLeagues,n.searchTerm,n.status,l]),h=w.useCallback(T=>{r(R=>({...R,status:T}))},[]),m=w.useCallback(T=>{r(R=>({...R,searchTerm:T.target.value}))},[]),y=w.useCallback(()=>{},[]),b=w.useMemo(()=>[{key:"all",label:"All Leagues",colorScheme:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-200"},{key:"active",label:"Active",colorScheme:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-200"},{key:"upcoming",label:"Upcoming",colorScheme:"bg-amber-100 text-amber-800 dark:bg-amber-900/30 dark:text-amber-200"},{key:"completed",label:"Completed",colorScheme:"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}],[]),_=w.useMemo(()=>{switch(n.status){case"active":return"Active Leagues";case"upcoming":return"Upcoming Leagues";case"completed":return"Completed Leagues";default:return"All Leagues"}},[n.status]),E=w.useMemo(()=>n.searchTerm?`No leagues match your search "${n.searchTerm}".`:n.status!=="all"?`There are no ${n.status} leagues at the moment.`:"There are no leagues available right now.",[n.searchTerm,n.status]);return p.jsxs("div",{className:"p-6 max-w-6xl mx-auto dark:text-white",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h1",{className:"text-3xl font-bold",children:"Domino Leagues"}),s&&p.jsxs(St,{to:"/leagues/create",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[p.jsx(gN,{className:"h-5 w-5"}),"Create League"]})]}),p.jsx(In,{className:"mb-6",children:p.jsx(Pn,{children:p.jsxs("div",{className:"flex flex-col md:flex-row",children:[p.jsx("div",{className:"flex flex-wrap mb-4 md:mb-0 border-b md:border-b-0 pb-4 md:pb-0 border-gray-200 dark:border-zinc-700",children:b.map(T=>p.jsx(tL,{isActive:n.status===T.key,onClick:()=>h(T.key),colorScheme:T.colorScheme,children:T.label},T.key))}),p.jsx("div",{className:"md:ml-auto flex",children:p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:p.jsx(Qte,{className:"h-4 w-4 text-gray-400"})}),p.jsx("input",{type:"text",placeholder:"Search leagues...",value:n.searchTerm,onChange:m,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-zinc-700 dark:border-zinc-600 dark:text-white"})]})})]})})}),t.myLeagues.length>0&&p.jsxs("div",{className:"mb-8",children:[p.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[p.jsx(zE,{className:"h-5 w-5 mr-2 text-blue-500"}),"My Leagues"]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.myLeagues.map(T=>p.jsx(Jj,{league:T,currentStatus:l[T.id],onNavigate:y},T.id))})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-4",children:_}),t.loading?p.jsx(eL,{}):t.error?p.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:t.error}):d.length===0?p.jsxs("div",{className:"bg-white dark:bg-zinc-800 rounded-lg shadow-sm border border-gray-200 dark:border-zinc-700 p-8 text-center",children:[p.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center",children:p.jsx(_h,{className:"h-8 w-8 text-white"})}),p.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No leagues found"}),p.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6 max-w-md mx-auto",children:E}),s&&p.jsxs(St,{to:"/leagues/create",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[p.jsx(gN,{className:"h-4 w-4 mr-2"}),"Create the first league"]})]}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(T=>{const R=t.myLeagues.some(N=>N.id===T.id);return p.jsx(Zj,{league:T,isMyLeague:R,userIsJudge:s,currentStatus:l[T.id],onNavigate:y},T.id)})})]})]})},kse=w.lazy(()=>ts(()=>import("./Profile-DkQvcm_3.js"),__vite__mapDeps([0,1,2]))),Mse=w.lazy(()=>ts(()=>import("./GameDetail-zCbnCzyE.js"),[])),Dse=w.lazy(()=>ts(()=>import("./GamesList-C4MiyJUP.js"),__vite__mapDeps([3,4]))),Ose=w.lazy(()=>ts(()=>import("./create-CUgi1RZd.js"),__vite__mapDeps([5,6,1,2,7]))),jse=w.lazy(()=>ts(()=>import("./detail-DsgS_nKU.js"),__vite__mapDeps([8,4,7,9]))),Lse=w.lazy(()=>ts(()=>import("./join-BOnzToP2.js"),__vite__mapDeps([10,11,7,9]))),Vse=w.lazy(()=>ts(()=>import("./manage-BDNbWE6g.js"),__vite__mapDeps([12,11,6,1]))),Use=()=>{ts(()=>import("./GamesList-C4MiyJUP.js"),__vite__mapDeps([3,4])),ts(()=>import("./Profile-DkQvcm_3.js"),__vite__mapDeps([0,1,2]))},$a=w.memo(()=>p.jsx("div",{className:"flex h-64 w-full items-center justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})}));$a.displayName="PageLoader";const Fse=t=>{const[e,n]=w.useState(0),r=w.useCallback(async()=>{if(!t){n(0);return}try{const s=await XO();n(s.length)}catch(s){console.error("Error fetching game invitations:",s)}},[t]);return w.useEffect(()=>{if(r(),!t)return;let s;const a=()=>{clearInterval(s),document.visibilityState==="visible"?(r(),s=setInterval(r,3e4)):s=setInterval(r,12e4)};return a(),document.addEventListener("visibilitychange",a),()=>{clearInterval(s),document.removeEventListener("visibilitychange",a)}},[t,r]),{pendingInvitations:e,refreshInvitations:r}},nL=w.memo(()=>{const[t,e]=w.useState({user:null,loading:!0,needsUsername:!1}),{pendingInvitations:n,refreshInvitations:r}=Fse(t.user);w.useEffect(()=>{const d=IY(Ie,async h=>{if(h)try{const m=await Cv(h.uid),y=m?m.hasSetUsername===!1&&!m.username:!0;e(b=>({...b,user:h,needsUsername:y,loading:!1})),y||Use()}catch(m){console.error("Error fetching user profile:",m),e(y=>({...y,user:h,needsUsername:!1,loading:!1}))}else e({user:null,loading:!1,needsUsername:!1})});return()=>d()},[]),w.useEffect(()=>{if(t.user)return vne.startOnVisible({interval:144e5,onUpdate:h=>{},onError:h=>{console.error("League status scheduler error:",h)}})},[t.user]);const s=w.useCallback(async()=>{try{await qO()}catch(d){console.error("Error signing in with Google:",d)}},[]),a=w.useCallback(async()=>{try{await PY(Ie)}catch(d){console.error("Error signing out:",d)}},[]),l=w.useCallback(()=>{e(d=>({...d,needsUsername:!1}))},[]),c=w.useMemo(()=>({user:t.user,needsUsername:t.needsUsername,pendingInvitations:n,handleLogin:s,handleLogout:a,refreshInvitations:r}),[t.user,t.needsUsername,n,s,a,r]);return t.loading?p.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):p.jsx(F4,{onError:(d,h)=>{console.error("App-level error:",d),console.error("Error info:",h)},children:p.jsx(dne,{defaultTheme:"light",storageKey:"vite-ui-theme",children:p.jsxs(t6,{children:[t.needsUsername&&t.user&&p.jsx(hne,{user:t.user,onComplete:l}),p.jsx(rL,{...c})]})})})});nL.displayName="App";const rL=w.memo(({user:t,needsUsername:e,pendingInvitations:n,handleLogin:r,handleLogout:s,refreshInvitations:a})=>{const l=t&&!e;return p.jsx(pj,{user:t,pendingInvitations:n,handleLogin:r,handleLogout:s,refreshInvitations:a,children:p.jsxs(PV,{children:[p.jsx(lr,{path:"/",element:p.jsx(yne,{})}),p.jsx(lr,{path:"/rules",element:p.jsx(bne,{})}),p.jsx(lr,{path:"/rankings",element:p.jsx(Nse,{})}),p.jsx(lr,{path:"/leagues",element:p.jsx(Pse,{})}),p.jsx(lr,{path:"/profile",element:l?p.jsx(w.Suspense,{fallback:p.jsx($a,{}),children:p.jsx(kse,{})}):p.jsx(zs,{to:"/"})}),p.jsx(lr,{path:"/create-game",element:l?p.jsx(ere,{}):p.jsx(zs,{to:"/"})}),p.jsx(lr,{path:"/settings",element:l?p.jsx(Xne,{}):p.jsx(zs,{to:"/"})}),p.jsx(lr,{path:"/games",element:l?p.jsx(w.Suspense,{fallback:p.jsx($a,{}),children:p.jsx(Dse,{refreshNotifications:a})}):p.jsx(zs,{to:"/"})}),p.jsx(lr,{path:"/game/:id",element:l?p.jsx(w.Suspense,{fallback:p.jsx($a,{}),children:p.jsx(Mse,{refreshNotifications:a})}):p.jsx(zs,{to:"/"})}),p.jsx(lr,{path:"/leagues/create",element:l&&BE(t)?p.jsx(w.Suspense,{fallback:p.jsx($a,{}),children:p.jsx(Ose,{})}):p.jsx(zs,{to:"/leagues"})}),p.jsx(lr,{path:"/leagues/:id",element:l?p.jsx(w.Suspense,{fallback:p.jsx($a,{}),children:p.jsx(jse,{})}):p.jsx(zs,{to:"/leagues"})}),p.jsx(lr,{path:"/leagues/join/:id",element:l?p.jsx(w.Suspense,{fallback:p.jsx($a,{}),children:p.jsx(Lse,{})}):p.jsx(zs,{to:"/leagues"})}),p.jsx(lr,{path:"/leagues/manage/:id",element:l?p.jsx(w.Suspense,{fallback:p.jsx($a,{}),children:p.jsx(Vse,{})}):p.jsx(zs,{to:"/leagues"})}),p.jsx(lr,{path:"*",element:p.jsx(zs,{to:"/"})})]})})});rL.displayName="AppContent";L3.createRoot(document.getElementById("root")).render(p.jsx(w.StrictMode,{children:p.jsx(nL,{})}));export{ose as $,zse as A,qse as B,In as C,hse as D,vse as E,dj as F,gte as G,Ste as H,XJ as I,yte as J,bte as K,gse as L,wte as M,xte as N,_te as O,St as P,zf as Q,tie as R,zi as S,Kj as T,Xj as U,nie as V,rie as W,si as X,Ge as Y,Ee as Z,Tt as _,ds as a,nse as a0,iie as a1,rse as a2,Qre as a3,cs as a4,EN as a5,Mb as a6,Db as a7,Ob as a8,Ag as a9,Tx as aA,Dg as aB,nr as aC,gt as aD,of as aE,lf as aF,uf as aG,Hi as aH,nj as aI,It as aJ,wr as aK,Nte as aL,Fi as aM,Tte as aN,Xse as aO,jl as aP,xc as aQ,qt as aR,b_ as aS,br as aT,et as aU,IG as aV,Se as aa,Lt as ab,A4 as ac,Ane as ad,BE as ae,_h as af,tj as ag,Qse as ah,Cte as ai,ct as aj,fr as ak,Zse as al,cr as am,zE as an,Une as ao,Fne as ap,zne as aq,$ne as ar,We as as,SO as at,xn as au,pI as av,Mg as aw,s7 as ax,Z6 as ay,Rx as az,Gs as b,Jse as c,Pn as d,Ate as e,mse as f,pse as g,oie as h,yx as i,p as j,Cv as k,vte as l,yh as m,Pt as n,jt as o,ej as p,Ie as q,w as r,lse as s,aie as t,Rte as u,use as v,Bb as w,dse as x,cse as y,SN as z};
